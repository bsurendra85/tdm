{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/src/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/src/lib/add/target-metadata.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/src/lib/core.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/src/lib/decorators.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/add/mapping/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/add/model/decorator.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/add/model/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/add/model/model.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/add/model/target-metadata.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/add/target-store/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/fw/base-metadata.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/fw/errors.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/fw/events.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/fw/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/fw/lazy-ref.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/fw/metadata-framework/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/fw/metadata-framework/meta-class-get.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/fw/metadata-framework/meta-class.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/fw/metadata-framework/utils.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/fw/normalize.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/fw/set-map-ext.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/fw/utils.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/mapping/direct-mapper/direct-mapper.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/mapping/errors.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/mapping/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/mapping/mapper.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/mapping/plain-object-mapper.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/mapping/prop-container.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/mapping/target-transformer.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/metadata/exclude.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/metadata/helpers.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/metadata/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/metadata/prop.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/metadata/relation.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/metadata/target-metadata.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/metadata/target-store.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/metadata/type.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/model/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/model/tdm-collection.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/model/tdm-model.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/core/tdm/src/lib/tdm.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/active-record/interfaces.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/core-validators.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/core/action-controller.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/core/execute-context.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/core/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/core/target-validator.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/dao/dao.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/dao/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/dao/symbols.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/data.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/default-config.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/events/events.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/events/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/events/interfaces.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/events/internal.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/events/simple-events.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/fw/errors.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/fw/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/fw/interfaces.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/fw/plugin.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/metadata/decorators.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/metadata/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/metadata/meta-types/action.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/metadata/meta-types/adapter.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/metadata/meta-types/extend-action.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/metadata/meta-types/hook.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/metadata/meta-types/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/metadata/meta-types/relations.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/metadata/set-action-metadata-helpers.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/metadata/store.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/resource-control.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/transformation/decorators.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/transformation/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/transformation/meta-class.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/transformation/mixins.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/transformation/prop.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/transformation/relations.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/transformation/target-metadata.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/transformation/target-store.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/data/src/lib/utils/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/local-forage/src/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/local-forage/src/lib/core/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/local-forage/src/lib/core/local-forage-adapter.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/local-forage/src/lib/decorators.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/local-forage/src/lib/local-forage-dao.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/local-forage/src/lib/localForage.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/local-forage/src/lib/metadata/action.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/local-forage/src/lib/metadata/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/local-forage/src/lib/metadata/resource.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/local-forage/src/lib/register.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/shared/src/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/shared/src/lib/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/shared/src/lib/messaging.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/builtin-route-handler-params.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/decorators/fallback-route.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/decorators/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/decorators/method-extensions.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/decorators/on-message.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/decorators/route-handler-param.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/decorators/server.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/decorators/service-mock-controller.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/decorators/service-mock-method.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/metadata/fallback-route.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/metadata/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/metadata/method-extensions/delay.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/metadata/method-extensions/forward.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/metadata/method-extensions/http-code.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/metadata/method-extensions/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/metadata/method-extensions/method-extensions.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/metadata/method-extensions/route-handler-param.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/metadata/on-message.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/metadata/server.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/metadata/service-mock-controller.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/metadata/service-mock-method.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/register.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/core/request-handler.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/http-error.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/init-metadata.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/service-mocker-server/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/service-mocker-server/server-base.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/service-mocker-server/service-mocker-server.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/service-mocker/src/lib/service-mocker.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/tixin/src/index.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/libs/tixin/src/lib/tixin.ts","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/babel-runtime/regenerator/index.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/localforage/dist/localforage.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/mime-component/index.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/mime-component/types.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/reflect-metadata/Reflect.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/regenerator-runtime/runtime-module.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/regenerator-runtime/runtime.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/constants/action.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/constants/index.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/node_modules/isarray/index.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/node_modules/path-to-regexp/index.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/node_modules/qs/lib/formats.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/node_modules/qs/lib/index.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/node_modules/qs/lib/parse.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/node_modules/qs/lib/stringify.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/node_modules/qs/lib/utils.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/node_modules/statuses/index.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/server/index.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/server/request.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/server/response.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/server/router.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/server/server.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/utils/debug.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/utils/defer.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/utils/event-wait-until.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/utils/extensify.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/utils/index.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/service-mocker/utils/send-message-request.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/uuid/lib/bytesToUuid.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/uuid/lib/rng-browser.js","webpack:////Users/shlomiassaf/Desktop/Code/shlomi/__LIB__/tdm/node_modules/uuid/v4.js","webpack:///./src/modules/server/controllers/base-controller.ts","webpack:///./src/modules/server/controllers/category.ts","webpack:///./src/modules/server/controllers/customer.ts","webpack:///./src/modules/server/controllers/employee-territory.ts","webpack:///./src/modules/server/controllers/employee.ts","webpack:///./src/modules/server/controllers/index.ts","webpack:///./src/modules/server/controllers/order-detail.ts","webpack:///./src/modules/server/controllers/order.ts","webpack:///./src/modules/server/controllers/product.ts","webpack:///./src/modules/server/controllers/region.ts","webpack:///./src/modules/server/controllers/shipper.ts","webpack:///./src/modules/server/controllers/supplier.ts","webpack:///./src/modules/server/controllers/territory.ts","webpack:///./src/modules/server/index.ts","webpack:///./src/modules/server/models/category.ts","webpack:///./src/modules/server/models/customer.ts","webpack:///./src/modules/server/models/employee-territory.ts","webpack:///./src/modules/server/models/employee.ts","webpack:///./src/modules/server/models/index.ts","webpack:///./src/modules/server/models/order-detail.ts","webpack:///./src/modules/server/models/order.ts","webpack:///./src/modules/server/models/product.ts","webpack:///./src/modules/server/models/region.ts","webpack:///./src/modules/server/models/shipper.ts","webpack:///./src/modules/server/models/supplier.ts","webpack:///./src/modules/server/models/territory.ts"],"names":[],"mappings":"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;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA,mCAAmC;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,qIAAqI;AACtI,CAAC,GAAG;AACJ;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,CAAC,EAAE,MAAM;AACT;AACA;AACA;AACA;AACA;;AAEA,CAAC,qIAAqI;AACtI,CAAC,EAAE,MAAM;AACT;;AAEA,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,qBAAqB;AACrB,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,oCAAoC,yBAAyB;AAC7D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,8BAA8B;AACjD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,yBAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,2BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;;AAEA;AACA,+BAA+B,oBAAoB;AACnD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,mCAAmC,oBAAoB;AACvD;AACA;AACA;AACA,iBAAiB;AACjB,mGAAmG;AACnG;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,+BAA+B,oBAAoB;AACnD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA,mCAAmC,oBAAoB;AACvD;AACA;AACA;AACA;AACA,iBAAiB;AACjB,mGAAmG;AACnG;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,iBAAiB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mCAAmC,YAAY;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,yBAAyB;AACzB;AACA,yBAAyB;AACzB,qBAAqB;AACrB,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,mCAAmC,yBAAyB;AAC5D;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,yBAAyB;AACxD;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,aAAa;AACb,SAAS;AACT;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;;AAEA;AACA,0EAA0E,SAAS;AACnF;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6CAA6C,QAAQ;AACrD;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT,iDAAiD,QAAQ;AACzD;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uCAAuC;AACvC,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA,mEAAmE;AACnE;;AAEA,6CAA6C;AAC7C;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,6EAA6E;;AAE7E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2DAA2D,SAAS;AACpE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yEAAyE,WAAW;AACpF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C,SAAS;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oDAAoD,SAAS;AAC7D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;;AAGA;;AAEA;;AAEA,CAAC,EAAE,MAAM,EAAE,GAAG;AACd,CAAC;;;;;;;;;;;;;AC3uFD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,E;;;;;;;;;;;ACxBA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACp9BA;AACA;AACA,+DAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,mDAAmD;AAC3G;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE,6BAA6B,gBAAgB,kBAAkB;AAC/D;AACA;AACA;AACA;AACA,+BAA+B,4CAA4C;AAC3E;AACA,mCAAmC,wBAAwB,kBAAkB,EAAE;AAC/E,mCAAmC,yBAAyB,EAAE,EAAE;AAChE;AACA,uCAAuC,8BAA8B;AACrE,uCAAuC,mBAAmB,EAAE;AAC5D;AACA,uCAAuC,qDAAqD;AAC5F,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uGAAuG;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,uBAAuB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,0BAA0B;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,aAAa;AAChF,qEAAqE,aAAa;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,0BAA0B,EAAE;AAClE;AACA;AACA,iBAAiB;AACjB,oDAAoD,+CAA+C;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,UAAU;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,0DAA0D;AAC5G,oDAAoD,4DAA4D;AAChH,qDAAqD,4DAA4D;AACjH,2DAA2D,uBAAuB;AAClF,6DAA6D,uBAAuB;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,uBAAuB,EAAE;AAC/D;AACA;AACA,iBAAiB;AACjB,sDAAsD,6BAA6B;AACnF,sDAAsD,0CAA0C;AAChG,yDAAyD,gCAAgC;AACzF,mDAAmD,mBAAmB;AACtE,kDAAkD,yBAAyB;AAC3E,oDAAoD,2BAA2B;AAC/E,qDAAqD,4BAA4B;AACjF,2DAA2D,oBAAoB;AAC/E,6DAA6D,oBAAoB;AACjF;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,0BAA0B;AACtF;AACA;AACA;AACA;AACA,+BAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC,0BAA0B;AAC3B,mC;;;;;;;;;;;AC3mCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,cAAc;;AAEnC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,eAAe,cAAc;AAC7B;;;;;;;;;;;;;ACttBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA,kC;;;;;;;;;;;;ACfA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD,iC;;;;;;;;;;;ACfA;AACA;AACA;;;;;;;;;;;;ACFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ,YAAY;AACZ;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,YAAY;AACZ,YAAY;AACZ;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAmB;AACtC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA,uBAAuB,kBAAkB;AACzC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA,mCAAmC;AACnC;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,MAAM;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,MAAM;AAClB,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,gBAAgB;AAC5B,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,6DAA6D;AAC3E;AACA,YAAY,sBAAsB;AAClC,YAAY,gBAAgB;AAC5B,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;;AAEA;;AAEA;AACA,2CAA2C,OAAO;AAClD;;AAEA;AACA,oCAAoC,OAAO,uBAAuB,OAAO;AACzE;;AAEA,mCAAmC,OAAO,uBAAuB,OAAO;AACxE;;;;;;;;;;;;;ACzaA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;;ACjBA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACVA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,kCAAkC,QAAQ;AAC1C;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wCAAwC;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;AC7KA;;AAEA;AACA;;AAEA;AACA,yCAAyC;AACzC;AACA,KAAK;AACL,4CAA4C;AAC5C;AACA,KAAK;AACL,qCAAqC;AACrC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,wCAAwC;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACjNA;;AAEA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAkB,OAAO,WAAW,aAAa;AACjD;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACpNA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AChHa;AAEb,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC;AAC1B,OAAO,CAAC,YAAY,GAAG,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;;AAEA;AACA;AACA;AACA,YAAY,IAAI;AAChB,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,4C;;;;;;;;;;;;AC9BA;;AAEA;AACA;;AAEA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,mEAAmE,aAAa;AAChF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,4EAA4E,eAAe;AAC3F;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,GAAG;;AAEH;AACA;AACA,qC;;;;;;;;;;;;AClKA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD,iC;;;;;;;;;;;;AC/DA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;AACA;AACA;AACA,YAAY,IAAI;AAChB,YAAY,IAAI;AAChB,YAAY,OAAO;AACnB,YAAY,aAAa;AACzB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAED,sCAAsC,uCAAuC,gBAAgB;;AAE7F,gCAAgC,qBAAqB,qCAAqC,gDAAgD,0BAA0B,MAAM,0BAA0B,wBAAwB,EAAE,gBAAgB,eAAe,QAAQ,EAAE,iBAAiB,gBAAgB,EAAE,OAAO,sDAAsD,qBAAqB,EAAE,kBAAkB,oBAAoB,EAAE,EAAE,EAAE,EAAE,qBAAqB,EAAE,EAAE,GAAG;AACxc,gD;;;;;;;;;;;ACpFA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AC/BA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AA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","file":"sw.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/modules/server/index.ts\");\n","/*\n       * Public API Surface of mylib\n       */\nexport * from './lib/core';\n","import {\n  TargetMetadata,\n  DecoratorInfo,\n  PropMetadata,\n  isString\n} from '@tdm/core/tdm';\nimport { Prop } from '../decorators';\n\ndeclare module '@tdm/core/tdm/lib/metadata/target-metadata' {\n  interface TargetMetadata<T, Z> {\n    getCreateProp(info: DecoratorInfo | string): PropMetadata;\n  }\n}\n\n(function (CLS: typeof TargetMetadata) {\n  CLS.prototype.getCreateProp = function getCreateProp(info: DecoratorInfo | string): PropMetadata {\n    const name = isString(info) ? info : info.name;\n\n    if (!this.config.has(PropMetadata, name)) {\n      Prop()(this.target.prototype, name);\n    }\n\n    return this.config.get(PropMetadata, name);\n  };\n})(TargetMetadata);\n","import { directMapper, TDMModelBase } from '@tdm/core/tdm';\n\nexport {\n  // fw\n  errors,\n  Errors,\n  Constructor,\n  TransformDir,\n  TransformFn,\n  TransformStrategy,\n  NamingStrategyConfig,\n  // metadata\n  ModelMetadataArgs,\n  TypeDefinition,\n  TypeMetadataArgs,\n  PropMetadataArgs,\n  RelationMetadataArgs,\n  ExcludeMetadataArgs,\n  // here was tdm\n  TDMCollection,\n  TDMModel,\n  TDMModelBase,\n  // add/model\n  Model,\n  // mapping\n  directMapper,\n  TransformationError,\n  DirectSerializeMapper,\n  DirectDeserializeMapper\n} from '@tdm/core/tdm';\n\nexport { Type, Prop, Exclude, Relation, Identity } from './decorators';\n\nimport './add/target-metadata';\n\n// public serialize / deserialize functions\nimport { Constructor, MapperFactory, targetStore } from '@tdm/core/tdm';\n\n/**\n * Serialize a class instance into a plain object.\n * @param mapper\n * @param instance\n * @param type optional, if not set taken from instance.constructor\n * @returns\n */\nexport function serialize<T, Z>(\n  mapper: MapperFactory,\n  instance: T,\n  type?: Z & Constructor<T>\n): any {\n  return targetStore.serialize(\n    type || (instance.constructor as any),\n    mapper.serializer(instance)\n  );\n}\n\n/**\n * Automatically serialize an instance.\n * This method will serialize an instance by first trying to locate the target using the `constructor` function.\n * If a target is found and if it's a model target (i.e. ModelMetadata) it will try to get the mapper assign for that\n * model.\n *\n * If no target, model or mapper was found it will use the fallbackMapper mapper provided, or `directMapper`\n * if no fallback is provided provided.\n *\n * Note that when provided a fallback mapper, make sure it is able to serialize unknown targets. (plain objects)\n */\nexport function autoSerialize(\n  instance: any,\n  fallbackMapper: MapperFactory = directMapper\n): any {\n  const tMeta = targetStore.getTargetMeta(<any>instance.constructor);\n  const mapper =\n    (tMeta && tMeta.hasModel && tMeta.model().mapper) || fallbackMapper;\n  return serialize(mapper, instance);\n}\n\n/**\n * De-serialize a plain object into a the provided instance or, when no instance is provided, to a new instance.\n */\nexport function deserialize<T, Z>(\n  mapper: MapperFactory,\n  plainObject: any,\n  type: Z & Constructor<T>,\n  instance?: any\n): T {\n  return targetStore.deserialize(\n    mapper.deserializer(plainObject, type),\n    instance\n  );\n}\n\n/**\n * Automatically de-serialize an object to/into an instance.\n * This method will de-serialize an object by first trying to locate a model (i.e. ModelMetadata) for the target.\n * If a model is found it will try to get the mapper assign for that model.\n *\n * If no model or mapper was found it will use the fallbackMapper mapper provided, or `directMapper`\n * if no fallback is provided provided.\n *\n */\nexport function autoDeserialize<T, Z>(\n  plainObject: any,\n  type: Z & Constructor<T>,\n  instance: any = null,\n  fallbackMapper: MapperFactory = directMapper\n): T {\n  const tMeta = targetStore.getTargetMeta(type);\n  const mapper =\n    (tMeta && tMeta.hasModel && tMeta.model().mapper) || fallbackMapper;\n  return deserialize(mapper, plainObject, type, instance);\n}\n\n(function (CLS: typeof TDMModelBase) {\n  CLS.clone = function(\n    resource: any,\n    mapperFactory: MapperFactory = directMapper\n  ) {\n    return autoDeserialize(\n      autoSerialize(resource, mapperFactory),\n      <any>resource.constructor,\n      null,\n      mapperFactory\n    );\n  };\n})(TDMModelBase);\n","import {\n  Constructor,\n  MetaClass,\n  targetStore,\n  TypeMetadata,\n  ExcludeMetadata,\n  ExcludeMetadataArgs,\n  PropMetadata,\n  RelationMetadata,\n  TypeDefinition, // leave for angular AOT compiler.\n  PropMetadataArgs, // leave for angular AOT compiler.\n  RelationMetadataArgs // leave for angular AOT compiler.\n} from '@tdm/core/tdm';\n\ntargetStore.on.processType((target: Constructor<any>) => {\n  const meta = targetStore.getTargetMeta(target);\n  meta.getValues(RelationMetadata).forEach(relation => {\n    // Its possible to set @Relation() without @Prop(), so make sure to create one if not set by the user.\n    const prop = meta.getCreateProp(relation.decoratorInfo);\n    prop.setRelationship(relation);\n\n    // if the fk is a different key, attach a reference to the foreign key PropMetadata (and create 1 if not there)\n    if (relation.name !== relation.foreignKey) {\n      meta.getCreateProp(relation.foreignKey).foreignKeyOf = prop;\n    }\n  });\n});\n\n/**\n * @propertyDecorator instance\n * @param def\n */\nexport const Prop = MetaClass.decorator(PropMetadata, true);\n\n/** @internal */\nexport let exclude: any = {};\nexclude = MetaClass.decorator(ExcludeMetadata, true, 'classPropMethod'); // for Angular AOT\n\n/**\n * @propertyDecorator instance\n */\nexport function Exclude(\n  metaArgs?: ExcludeMetadataArgs\n): (\n  target: Object | Function,\n  key?: TdmPropertyKey,\n  desc?: PropertyDescriptor\n) => any {\n  return exclude(metaArgs) as any;\n}\n\n/**\n * @propertyDecorator instance\n * @param def\n */\nexport const Relation = MetaClass.decorator(RelationMetadata, true);\n\n/**\n * @propertyDecorator instance\n * @param def\n */\nexport const Type = MetaClass.decorator(TypeMetadata);\n\n/**\n * @propertyDecorator instance\n */\nexport function Identity(): Function {\n  return (target: Object, key: TdmPropertyKey) => {\n    targetStore.getTargetMeta(<any>target.constructor).model().identity = key;\n  };\n}\n","/*\n       * Public API Surface of mylib\n       */\nexport * from './lib/tdm';\n","import { Tixin } from '@tdm/tixin';\nimport { TargetMetadata } from '../../metadata/target-metadata';\nimport { TargetStore, targetStore } from '../../metadata/target-store';\nimport { Model } from '../model';\nimport {\n  SerializeMapper,\n  DeserializeMapper,\n  TransformationError\n} from '../../mapping';\nimport { TargetTransformer } from '../../mapping/target-transformer';\nimport { Constructor, isFunction, array, LazyInit } from '../../fw';\n\ndeclare module '../../metadata/target-store' {\n  interface TargetStore {\n    serialize(target: Constructor<any>, mapper: SerializeMapper): any;\n\n    /**\n     * Deserialize a known target.\n     * @param mapper\n     * @param instance Optional, if not set a new instance of the type will be created.\n     */\n    deserialize(\n      mapper: DeserializeMapper,\n      instance?: any\n    ): any | any[] | undefined;\n\n    /**\n     * Plain deserializer, deserialize with no metadata.\n     * @param mapper\n     * @param instance Optional, if not set a new instance of will be created.\n     */\n    deserializePlain(mapper: DeserializeMapper, instance?: any): any;\n  }\n}\n\ndeclare module '../../metadata/target-metadata' {\n  interface TargetMetadata<T = any, Z = any> {\n    transformer: TargetTransformer<T, Z>;\n    serialize(mapper: SerializeMapper): any;\n    deserialize(\n      mapper: DeserializeMapper,\n      target: any | any[],\n      plain?: boolean\n    ): void;\n  }\n}\n\nexport function initMapping(): void {\n  @Model({ resName: 'InternalPlainObject' })\n  class PlainObject {}\n\n  TargetStore.prototype.serialize = function serialize(\n    target: Constructor<any>,\n    mapper: SerializeMapper\n  ): any {\n    const meta = this.getTargetMeta(target);\n    if (meta) {\n      return meta.serialize(mapper);\n    }\n  };\n\n  /**\n   * Deserialize and instance of \"DeserializeMapper\" into an instance of tge target supplied\n   * @param target\n   * @param mapper\n   * @returns\n   */\n  TargetStore.prototype.deserialize = function deserialize(\n    mapper: DeserializeMapper,\n    instance?: any\n  ): any | any[] | undefined {\n    if (this.hasTarget(mapper.sourceType)) {\n      const meta = this.getTargetMeta(mapper.sourceType);\n      const result: any = instance || meta.model().factory(mapper.isCollection);\n\n      meta.deserialize(mapper, result);\n      return result;\n    } else {\n      return this.deserializePlain(mapper, instance);\n    }\n  };\n\n  /**\n   * Deserialize and instance of \"DeserializeMapper\" into a plain object (object literal)\n   * @param mapper\n   * @param instance Optional, if not set a new instance of will be created.\n   */\n  TargetStore.prototype.deserializePlain = function deserializePlain(\n    mapper: DeserializeMapper,\n    instance?: any\n  ): any {\n    const meta = this.getTargetMeta(PlainObject);\n    const result: any = instance || mapper.isCollection ? [] : {};\n    meta.deserialize(mapper, result, true);\n    return result;\n  };\n\n  class MappingTargetMetadata<T, Z> extends TargetMetadata<T, Z> {\n    @LazyInit(function(this: TargetMetadata<T, Z>): TargetTransformer<T, Z> {\n      return new TargetTransformer<T, Z>(this);\n    })\n    transformer: TargetTransformer<T, Z>;\n\n    serialize(mapper: SerializeMapper): any {\n      return this.transformer.serialize(mapper);\n    }\n\n    deserialize(\n      mapper: DeserializeMapper,\n      target: any | any[],\n      plain: boolean = false\n    ): void {\n      if (mapper.isCollection) {\n        if (!Array.isArray(target)) {\n          throw TransformationError.coll_obj(true);\n        }\n\n        const refItems = target.splice(0, target.length);\n        const identKey = targetStore.getIdentityKey(this.target, 'incoming');\n\n        while (mapper.next()) {\n          let t: any;\n\n          // compare current item to map with a list of items that if we, if we got.\n          // if match use that instance.\n          // TODO: Move compare to the global store, so logic can change without bugs.\n          if (refItems.length > 0 && isFunction(mapper.getIdentity)) {\n            const incomingIdent = mapper.getIdentity();\n            t = array.findRemove(\n              refItems,\n              item => item[identKey] === incomingIdent\n            );\n          }\n\n          if (!t) {\n            t = plain ? {} : this.model().factory(false);\n          }\n\n          this.transformer.deserialize(mapper, t);\n          target.push(t);\n        }\n      } else {\n        if (Array.isArray(target)) {\n          throw TransformationError.coll_obj(false);\n        }\n\n        this.transformer.deserialize(mapper, target);\n      }\n    }\n  }\n\n  Tixin(TargetMetadata, MappingTargetMetadata);\n}\n","import { MetaClass, getProtoChain } from '../../fw';\nimport { targetStore, ModelMetadataArgs } from '../../metadata';\nimport { ModelMetadata } from './model';\n\n/**\n * @propertyDecorator static\n * @param metaArgs\n */\nexport function Model(metaArgs?: ModelMetadataArgs): Function {\n  return (target: any) => {\n    const metaClass = MetaClass.create(ModelMetadata, metaArgs, target);\n    processModel(target, metaClass, metaClass.skip !== true);\n  };\n}\n\n/**\n * Takes a model and process it.\n * The first step is to extend the target, if it inherits.\n * The second step is calling the build() method on the metadata class which will\n * start the event lifecycle.\n */\nexport function processModel(\n  target: any,\n  metaClass: ModelMetadata,\n  build?: boolean\n) {\n  for (let proto of getProtoChain(target)) {\n    if (target !== proto && targetStore.hasTarget(proto)) {\n      targetStore.extend(proto, target);\n    }\n  }\n\n  if (build) {\n    metaClass.build();\n  }\n}\n","import './target-metadata';\nexport { ModelMetadata } from './model';\nexport { Model, processModel } from './decorator';\n","import {\n  getProtoChain,\n  targetEvents,\n  stringify,\n  TransformStrategy,\n  NamingStrategyConfig,\n  MetaClass,\n  BaseMetadata,\n  DecoratorInfo,\n  Constructor,\n  MetaClassMetadata\n} from '../../fw';\nimport { targetStore, TargetMetadata, ModelMetadataArgs } from '../../metadata';\nimport { MapperFactory } from '../../mapping';\n\nexport const MODEL_PH = Symbol('ModelMetadata placeholder');\n\n// exporting to satisfy angular AOT\n/** @internal */\nexport function extendSingle(\n  from: ModelMetadata,\n  to: ModelMetadata | undefined,\n  meta: { from: Constructor<any>; to: Constructor<any> }\n): ModelMetadata | undefined {\n  if (!to) {\n    const tMeta = targetStore.getTargetMeta(meta.to);\n    return (tMeta[MODEL_PH] = from.clone(meta.to));\n  } else {\n    Object.keys(from).forEach(k => {\n      if (!(k in to)) {\n        to[k] = from[k];\n      }\n    });\n  }\n}\n\n@MetaClass<ModelMetadataArgs, ModelMetadata>({\n  allowOn: ['class'],\n  single: true,\n  extendSingle\n})\nexport class ModelMetadata extends BaseMetadata implements ModelMetadataArgs {\n  identity: TdmPropertyKey;\n  resName: string;\n  transformStrategy: TransformStrategy | undefined;\n  transformNameStrategy: NamingStrategyConfig | undefined;\n  mapper: MapperFactory;\n\n  tMeta: TargetMetadata;\n  target: Constructor<any>;\n  skip?: true;\n\n  get built(): boolean {\n    return this._built;\n  }\n\n  private _built: boolean;\n\n  constructor(\n    metaArgs: ModelMetadataArgs,\n    info: DecoratorInfo,\n    target: Constructor<any>\n  ) {\n    super(info);\n\n    const tMeta = targetStore.getTargetMeta(target);\n\n    /*\n    Checking up the proto-tree if there are temp model metadata values set.\n    This allows inheritance of model classes where the base class has no class decorator but do have\n    member decorators.\n\n    ```ts\n        class UserBase {\n          @Identity()\n          @UrlParam() id: number;\n        }\n\n        @HttpResource({\n          endpoint: '/api/users/:id/:param',\n          urlParams: { param: '99' }\n        })\n        class User extends ActiveRecord(UserBase) { }\n    ```\n\n    In the example, UserBase does not have a class decorator but the derived class User does.\n\n    > Note: Stopping on the first prototype that has an instantiated ModelMetadata, we can stop there\n    because implementation will invoke `extend` for prototypes and since it's now an instance it will auto-extend.\n     */\n    const protoChain = getProtoChain(target);\n    for (let i = protoChain.length - 1; i > 0; i--) {\n      // we skip idx 0, its the target itself.\n      const meta =\n        targetStore.hasTarget(protoChain[i]) &&\n        targetStore.getTargetMeta(protoChain[i]);\n      if (meta) {\n        if (meta[MODEL_PH] && !meta.hasModel) {\n          Object.assign(this, meta[MODEL_PH]);\n        } else if (meta.hasModel) {\n          break;\n        }\n      }\n    }\n\n    const classMetadata = tMeta.hasOwnProperty(MODEL_PH) ? tMeta[MODEL_PH] : {};\n    Object.assign(\n      this,\n      classMetadata,\n      metaArgs || {},\n      { target, tMeta } // last obj is for clone, so we won't take previous values\n    );\n\n    if (!this.resName) {\n      this.resName = stringify(target);\n    }\n\n    tMeta[MODEL_PH] = this;\n  }\n\n  clone(target: Constructor<any>): ModelMetadata {\n    const ctor: typeof ModelMetadata = <any>this.constructor;\n    return new ctor(this, this.decoratorInfo, target);\n  }\n\n  factory(isColl: boolean): any {\n    return isColl ? this.tMeta.createCollection() : new this.target();\n  }\n\n  /**\n   * Build the model.\n   * @param safe If set to true will not throw if the model is already built.\n   * @returns true if the model was built by this call\n   */\n  build(safe?: true): boolean {\n    if (this.built) {\n      if (safe === true) {\n        return false;\n      } else {\n        throw new Error(`\"${stringify(this.target)}\" already built.`);\n      }\n    }\n    this._built = true;\n    targetEvents.FIRE.beforeProcessType(this.target);\n    targetEvents.FIRE.processType(this.target);\n    return true;\n  }\n}\n\ndeclare module '../../fw/metadata-framework/meta-class' {\n  namespace MetaClass {\n    function get(\n      target: typeof ModelMetadata\n    ): MetaClassMetadata<ModelMetadataArgs, ModelMetadata>;\n  }\n}\n","import { TargetMetadata } from '../../metadata';\nimport { ModelMetadata, MODEL_PH } from './model';\n\ndeclare module '../../metadata/target-metadata' {\n  interface TargetMetadata<T = any, Z = any> {\n    /**\n     * Indicates if the model returned from model() is a placeholder or a {@link ModelMetadata} instance.\n     */\n    hasModel: boolean;\n\n    /**\n     * Returns a placeholder or the {@link ModelMetadata} instance (or a derived class instance) for the target.\n     *\n     * If a {@link ModelMetadata} instance is not yet created, a plain object is returned.\n     * The plain object is used a a placeholder for storing model metadata before the instance get's created.\n     *\n     * Use the `hasModel` property to check if it is a plain object or a {@link ModelMetadata} instance\n     */\n    model<T extends ModelMetadata>(): T | undefined;\n  }\n}\n\nObject.defineProperty(TargetMetadata.prototype, 'model', {\n  value: function(this: TargetMetadata) {\n    // this[MODEL_PH] is set from ModelMetadata constructor\n    // if not set, create one to act as temporary placeholder until set.\n    // ModelMetadata will grab the data on the placeholder and take it into account\n    return this[MODEL_PH] || (this[MODEL_PH] = {});\n  }\n});\n\nObject.defineProperty(TargetMetadata.prototype, 'hasModel', {\n  get: function(this: TargetMetadata) {\n    return this[MODEL_PH] instanceof ModelMetadata;\n  }\n});\n","import { Constructor, isFunction } from '../../fw/utils';\nimport { TransformDir } from '../../fw/interfaces';\nimport { targetEvents } from '../../fw/events';\nimport {\n  TargetStore,\n  TargetMetadata,\n  PropMetadata,\n  targetStore\n} from '../../metadata';\nimport { ModelMetadata } from '../../add/model';\n\ndeclare module '../../metadata/target-metadata' {\n  interface TargetMetadata<T, Z> {\n    /**\n     * Returns the target's identity key without initiating a target build.\n     * @param target\n     * @param direction\n     * @returns\n     */\n    getIdentityKey(direction?: TransformDir): string | undefined;\n  }\n}\n\ndeclare module '../../metadata/target-store' {\n  interface TargetStore {\n    /**\n     * Returns the target's identity key without initiating a target build.\n     * @param target\n     * @param direction\n     * @returns\n     */\n    getIdentityKey(\n      target: Constructor<any>,\n      direction?: TransformDir\n    ): string | undefined;\n\n    /**\n     * Returns metadata, if not built, builds it\n     * @param target\n     * @param register when true will also register if not exists\n     * @returns\n     */\n    getTargetMeta<T, Z>(\n      target: Z & Constructor<T>\n    ): TargetMetadata<T, Z> | undefined;\n\n    /**\n     * Returns the target's name key without initiating a target build.\n     * @param target\n     * @returns\n     */\n    getTargetName(target: Constructor<any>): string | undefined;\n  }\n}\n\n// set the name for name lookup\ntargetStore.on.processType(target => {\n  const model = targetStore.getTargetMeta(target).model();\n  if (model) {\n    // TODO: make this type safe\n    targetStore['namedTargets'].set(model.resName, target);\n  }\n});\n\nTargetMetadata.prototype.getIdentityKey = function getIdentityKey(\n  this: TargetMetadata,\n  direction?: TransformDir\n): string | undefined {\n  return targetStore.getIdentityKey(this.target, direction);\n};\n\nTargetStore.prototype.getTargetName = function getTargetName(\n  this: TargetStore,\n  target: Constructor<any>\n): string | undefined {\n  return targetStore.getMetaFor(target, ModelMetadata, true, 'resName');\n};\n\nTargetStore.prototype.getTargetMeta = function getTargetMeta(\n  target: Constructor<any>\n): TargetMetadata | undefined {\n  let meta = this.builtTargets.get(target);\n  if (!meta) {\n    const metaArgs = this.targets.get(target);\n\n    if (!metaArgs) {\n      this.registerTarget(target);\n      return this.getTargetMeta(target);\n    }\n\n    meta = new TargetMetadata(target, metaArgs);\n    this.builtTargets.set(target, meta);\n    targetEvents.FIRE.createMetadata(target);\n  }\n  return meta;\n};\n\nTargetStore.prototype.getIdentityKey = function getIdentityKey(\n  this: TargetStore,\n  target: Constructor<any>,\n  direction?: TransformDir\n): string | undefined {\n  const meta = this.getTargetMeta(target);\n  const model = meta.model();\n  const identity = <any>model.identity;\n\n  if (identity) {\n    if (!direction) {\n      return identity;\n    }\n\n    const propMeta = meta.getMetaFor(PropMetadata, identity);\n\n    // apply naming strategy when DONT HAVE ALIAS!\n    if (propMeta.name === propMeta.alias[direction]) {\n      const transformNameStrategy = model.transformNameStrategy;\n\n      if (\n        transformNameStrategy &&\n        isFunction(transformNameStrategy[direction])\n      ) {\n        // in exclusive mode there is no point in have 2 transformation strategies.\n        // incoming is never there since incoming keys are not calculated, only defined Props.\n        if (model.transformStrategy === 'exclusive') {\n          direction = 'outgoing';\n        }\n\n        return transformNameStrategy[direction](propMeta.name);\n      }\n    }\n\n    return direction === 'outgoing'\n      ? propMeta.alias.outgoing\n      : propMeta.alias.incoming;\n  }\n};\n","// tslint:disable:max-classes-per-file\nimport { DecoratorInfo } from './metadata-framework';\nimport { Constructor, reflection } from './utils';\n\nexport abstract class BaseMetadata {\n  /**\n   * The property name that the decorator wraps, if it wraps a property, member or constructor param.\n   * @returns\n   */\n  readonly name: TdmPropertyKey | undefined;\n\n  constructor(public readonly decoratorInfo: DecoratorInfo) {\n    this.name = decoratorInfo.name;\n  }\n}\n\nexport abstract class BaseParamMetadata extends BaseMetadata {\n  readonly paramType: Function | Constructor<any>;\n\n  get paramIndex(): number {\n    return this.decoratorInfo.paramIndex;\n  }\n\n  constructor(di: DecoratorInfo, target: Constructor<any>) {\n    super(di);\n    this.paramType = reflection.paramTypes(target.prototype, this.name)[\n      di.paramIndex\n    ];\n  }\n}\n","import { stringify, isFunction } from './utils';\n\nconst ERROR_EXEC_TYPE = Symbol('Throw');\n\nexport class Errors {\n  /**\n   * Returns a marked Errors repository where the next call to an error object will throw.\n   *\n   * e.g. `errors.THROW().decorator(...)` will throw\n   */\n  get throw(): this {\n    return Object.assign(Object.create(this), { [ERROR_EXEC_TYPE]: 'throw' });\n  }\n\n  protected constructor() {\n    // support for post instantiation mixins on the prototype (plugins) - don't use new.\n    Errors.create(this);\n  }\n\n  decorator(\n    target: any,\n    message: string,\n    propertyName?: TdmPropertyKey\n  ): Error {\n    const CLS = isFunction(target) ? target : target.constructor;\n\n    if (!propertyName) {\n      return this.ERROR(`Invalid decorator @ ${stringify(CLS)}}: ${message}`);\n    } else {\n      const dot = CLS === target ? '#' : '.';\n      return this.ERROR(\n        `Invalid decorator @ ${stringify(target)}${dot}${stringify(\n          propertyName\n        )}: ${message}`\n      );\n    }\n  }\n\n  model(model: any, message: string): Error {\n    return this.ERROR(`Model Error [${stringify(model)}]: ${message}`);\n  }\n\n  modelSingleCol(model: any, expectedCol: boolean): Error {\n    return this.ERROR(\n      `Model Error:` + expectedCol\n        ? `Expected a COLLECTION but got an OBJECT [Target: ${stringify(\n            model\n          )}]`\n        : `Expected an OBJECT but got a COLLECTION [Target: ${stringify(\n            model\n          )}]`\n    );\n  }\n\n  /**\n   * @internal\n   */\n  ERROR<T = any>(message: string, assign?: T): Error & T {\n    const err = new Error(message);\n    if (assign) {\n      Object.assign(err, assign);\n    }\n\n    if (this[ERROR_EXEC_TYPE] === 'throw') {\n      throw err;\n    } else {\n      return <any>err;\n    }\n  }\n\n  /**\n   * Creates a new TargetStore instance.\n   * @param instance optional, used internally\n   */\n  static create(instance?: Errors): Errors {\n    const errors: Errors = instance || Object.create(Errors.prototype);\n    return errors;\n  }\n}\n\nexport const errors: Errors = Errors.create();\n","import { KeySet } from './set-map-ext';\nimport { Constructor, isFunction } from './utils';\nimport { MetadataClassStatic } from './metadata-framework';\n\nconst eventHandlers = new KeySet<\n  TARGET_EVENT_NAMES,\n  (target: Constructor<any>) => void\n>();\nconst metaInitHandlers = new KeySet<\n  Constructor<any>,\n  (target: Constructor<any>, value: any, metaArgs?: any) => void\n>();\n\n/**\n * Event listeners registration object for lifecycle metadata events on a target.\n *\n * @pluginApi\n * @mixable\n * @singleton\n */\nexport class TargetEvents {\n  protected constructor() {\n    // support for post instantiation mixins on the prototype (plugins) - don't use new.\n    TargetEvents.create(this);\n  }\n\n  metaInit<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>\n  ) {\n    return {\n      run(\n        handler: (\n          target: Constructor<any>,\n          value: TMetaClass,\n          metaArgs?: TMetaArgs\n        ) => void\n      ): void {\n        metaInitHandlers.add(metaClass, handler);\n      }\n    };\n  }\n\n  /**\n   * Fired when the {@link TargetMetadata} instance is created for the target)\n   *\n   * FireBefore: processType\n   */\n  createMetadata(handler: (target: Constructor<any>) => void): void {\n    if (isFunction(handler)) {\n      eventHandlers.add('createMetadata', handler);\n    }\n  }\n\n  /**\n   * Fired before the type is processed, after extending all metadata.\n   * This event is not guaranteed to fire, it will fire only if the type is decorated with an appropriate decorator.\n   *\n   * FireAfter: createMetadata\n   * FireBefore: processType\n   */\n  beforeProcessType(handler: (target: Constructor<any>) => void): void {\n    if (isFunction(handler)) {\n      eventHandlers.add('beforeProcessType', handler);\n    }\n  }\n\n  /**\n   * Fired when the type is processed, after extending all metadata.\n   * This event is not guaranteed to fire, it will fire only if the type is decorated with an appropriate decorator.\n   *\n   * FireAfter: beforeProcessType\n   */\n  processType(handler: (target: Constructor<any>) => void): void {\n    if (isFunction(handler)) {\n      eventHandlers.add('processType', handler);\n    }\n  }\n\n  FIRE: typeof EVENT_FIRE;\n\n  static create(instance?: TargetEvents): TargetEvents {\n    const targetStore: TargetEvents =\n      instance || Object.create(TargetEvents.prototype);\n    targetStore.FIRE = EVENT_FIRE;\n    return targetStore;\n  }\n}\n\nexport const EVENT_FIRE = {\n  metaInit<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    target: Constructor<any>,\n    value: TMetaClass,\n    metaArgs?: TMetaArgs\n  ): void {\n    const eventMap = metaInitHandlers.get(metaClass);\n    if (eventMap) {\n      Array.from(eventMap.values()).forEach(handler =>\n        handler(target, value, metaArgs)\n      );\n    }\n  },\n  createMetadata: (target: Constructor<any>) =>\n    fireTargetEvent('createMetadata', target),\n  beforeProcessType: (target: Constructor<any>) =>\n    fireTargetEvent('beforeProcessType', target),\n  processType: (target: Constructor<any>) =>\n    fireTargetEvent('processType', target)\n};\n\nexport const targetEvents = TargetEvents.create();\n\ntype TARGET_EVENT_NAMES =\n  | 'createMetadata'\n  | 'beforeProcessType'\n  | 'processType';\n\nfunction fireTargetEvent(event: TARGET_EVENT_NAMES, target: any): void {\n  const eventMap = eventHandlers.get(event);\n  if (eventMap) {\n    Array.from(eventMap.values()).forEach(handler => handler(target));\n  }\n}\n","export * from './errors';\nexport * from './set-map-ext';\nexport * from './utils';\nexport * from './interfaces';\nexport * from './base-metadata';\nexport * from './normalize';\nexport * from './events';\nexport * from './lazy-ref';\nexport * from './metadata-framework/index';\n","/**\n * Same as angular's `forwardRef`, different name to prevent confusion / collusion.\n */\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport { isFunction, stringify, Constructor } from './utils';\n\nconst lazyRefKey = Symbol('lazyRef');\nconst toString = function() {\n  return stringify(this());\n};\n\n/**\n * Allows to refer to references which are not yet defined.\n *\n * For instance, `lazyRef` is used when the `token` which we need to refer to for the purposes of\n * DI is declared,\n * but not yet defined. It is also used when the `token` which we use when creating a query is not\n * yet defined.\n *\n * ### Example\n * {@example core/di/ts/forward_ref/forward_ref_spec.ts region='forward_ref'}\n * @experimental\n */\nexport function lazyRef<T extends Constructor<any>>(lazyRefFn: () => T): T {\n  lazyRefFn[lazyRefKey] = lazyRef;\n  lazyRefFn.toString = toString;\n  return lazyRefFn as any;\n}\n\nexport namespace lazyRef {\n  /**\n   * Lazily retrieves the reference value from a lazyRef.\n   *\n   * Acts as the identity function when given a non-forward-ref value.\n   *\n   * ### Example ([live demo](http://plnkr.co/edit/GU72mJrk1fiodChcmiDR?p=preview))\n   *\n   * {@example core/di/ts/forward_ref/forward_ref_spec.ts region='resolve_forward_ref'}\n   *\n   * See: {@link lazyRef}\n   * @experimental\n   */\n  export function resolve(type: any): Constructor<any> {\n    return isFunction(type) && type[lazyRefKey] === lazyRef ? type() : type;\n  }\n}\n","export * from './meta-class-args';\nexport * from './meta-class';\nexport * from './types';\nexport * from './utils';\n\nimport './meta-class-get';\n","import { MetadataClassStatic } from './types';\nimport { MetaClassMetadata, MetaClass, getMetaClass } from './meta-class';\n\ndeclare module './meta-class' {\n  namespace MetaClass {\n    function get<TMetaArgs, TMetaClass>(\n      target: MetadataClassStatic<TMetaArgs, TMetaClass>\n    ): MetaClassMetadata<TMetaArgs, TMetaClass>;\n  }\n}\n\nMetaClass.get = <any>getMetaClass;\n","// This is a core class with lot's of type crazy stuff, enforcing max-line-length will create an unreadable mess\n// tslint:disable:max-line-length\n\nimport {\n  Constructor,\n  isString,\n  stringify,\n  ensureTargetIsType,\n  isFunction\n} from '../utils';\nimport { targetEvents } from '../events';\nimport {\n  MetadataClassStatic,\n  MetaClassInstanceDetails,\n  MetadataCurriedCreate,\n  DecoratorInfo,\n  RegisterFn,\n  ExtendFn,\n  ExtendSingleFn\n} from './types';\nimport { decoratorInfo, extendHelpers, registerHelpers } from './utils';\nimport {\n  ProxyHostMetadataArgs,\n  MetaClassMetadataArgs\n} from './meta-class-args';\n\nconst store = new Map<Constructor<any>, MetaClassMetadata>();\n\n/**\n * A token representing single items (see {@link MetaClassMetadataArgs.single})\n * Use this token as a key for single items in TargetMetadata\n */\nexport class GLOBAL_KEY {} // tslint:disable-line:class-name\n\n/**\n * Represents management and control logic for metadata class's\n */\n// tslint:disable-next-line:max-classes-per-file\nexport class MetaClassMetadata<TMetaArgs = any, TMetaClass = any, Z = any> {\n  private proxyTo: Array<\n    ProxyHostMetadataArgs & { metaClass: MetaClassMetadata }\n  > = [];\n\n  private constructor(\n    public target: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    public metaArgs?: MetaClassMetadataArgs<TMetaArgs, TMetaClass>\n  ) {\n    if (!this.metaArgs) {\n      this.metaArgs = {};\n    } else {\n      if (metaArgs.inherit) {\n        this.metaArgs = metaArgs = Object.assign(\n          {},\n          MetaClass.get(metaArgs.inherit).metaArgs,\n          metaArgs\n        );\n      }\n\n      if (metaArgs.factory) {\n        this.factory = metaArgs.factory;\n      }\n\n      if (metaArgs.register) {\n        if (isString(metaArgs.register)) {\n          this.register = registerHelpers[metaArgs.register];\n        } else if (isFunction(metaArgs.register)) {\n          this.register = metaArgs.register;\n        }\n      }\n\n      if (metaArgs.proxy) {\n        const proxy: ProxyHostMetadataArgs & {\n          metaClass: MetaClassMetadata;\n        } = <any>metaArgs.proxy;\n        proxy.metaClass = this;\n        MetaClass.get(metaArgs.proxy.host).proxyTo.push(proxy);\n      }\n\n      if (metaArgs.extend) {\n        if (metaArgs.single === true) {\n          // TODO: make error message clear;\n          throw new Error(\n            'Extending a single class is done using extendSingle'\n          );\n        }\n        if (isString(metaArgs.extend)) {\n          this.extend = extendHelpers[metaArgs.extend];\n        } else if (isFunction(metaArgs.extend)) {\n          this.extend = metaArgs.extend;\n        }\n      }\n\n      if (isFunction(metaArgs.extendSingle)) {\n        if (metaArgs.single !== true) {\n          // TODO: make error message clear;\n          throw new Error('Extending a non-single class is done using extend');\n        }\n        this.extendSingle = metaArgs.extendSingle;\n      }\n    }\n  }\n\n  /**\n   * Create a new instance of the metadata class\n   * @param metaArgs\n   * @param target\n   * @param key\n   * @param desc\n   * @returns\n   */\n  create(\n    metaArgs: TMetaArgs,\n    target: Object | Function,\n    key?: TdmPropertyKey,\n    desc?: PropertyDescriptor | number\n  ): TMetaClass {\n    return this.createCurry(metaArgs, target, key, desc)();\n  }\n\n  createCurry(\n    metaArgs: TMetaArgs,\n    target: Object | Function,\n    key?: TdmPropertyKey,\n    desc?: PropertyDescriptor | number\n  ): MetadataCurriedCreate<TMetaArgs, TMetaClass> {\n    const info = decoratorInfo(target, key, desc);\n    const allowOn = this.metaArgs.allowOn;\n\n    if (allowOn && allowOn.length > 0) {\n      if (info.type === 'class') {\n        if (allowOn.indexOf('class') === -1) {\n          throw new Error(\n            `Metadata class ${stringify(\n              this.target\n            )} can not decorate a class (${stringify(target)})`\n          );\n        }\n      } else if (info.isStatic) {\n        if (allowOn.indexOf('staticMember') === -1) {\n          throw new Error(\n            `Metadata class ${stringify(\n              this.target\n            )} can not decorate a static member (${stringify(target)}#${key})`\n          );\n        }\n      } else if (info.type === 'param') {\n        if (allowOn.indexOf('param') === -1) {\n          throw new Error(\n            `Metadata class ${stringify(\n              this.target\n            )} can not decorate a param (${stringify(target)}#${key})`\n          );\n        }\n      } else {\n        if (allowOn.indexOf('member') === -1) {\n          throw new Error(\n            `Metadata class ${stringify(\n              this.target\n            )} can not decorate an instance member ` +\n              `(${stringify(target.constructor)}.${key})`\n          );\n        }\n      }\n    }\n\n    const meta = this.factory(metaArgs, target, info, key, desc);\n\n    const curry: MetadataCurriedCreate<TMetaArgs, TMetaClass> = <any>((\n      _meta?: MetaClassInstanceDetails<TMetaArgs, TMetaClass>\n    ): TMetaClass => {\n      if (!_meta) {\n        _meta = meta;\n      }\n\n      // in case factory return undefined\n      if (!_meta) {\n        return;\n      }\n\n      this.register(_meta);\n\n      const chain = this.singleChain(_meta);\n      if (chain) {\n        // we use this class's register implementation for all\n        chain.forEach(c => this.register(c));\n      }\n\n      targetEvents.FIRE.metaInit(\n        _meta.metaClassKey,\n        _meta.target,\n        _meta.metaValue,\n        metaArgs\n      );\n\n      const proxies = this.findProxies(metaArgs);\n      proxies.forEach(ra => {\n        if (ra) {\n          // we check since findProxies returns undefined when no key on metadata arguments was found\n          for (let i = 0, len = ra.args.length; i < len; i++) {\n            ra.meta.create(ra.args[i], target, key, desc);\n          }\n        }\n      });\n\n      return meta && meta.metaValue;\n    });\n\n    curry.meta = meta;\n\n    return curry;\n  }\n\n  createDecorator(type: 'class'): (def: TMetaArgs) => ClassDecorator;\n  createDecorator(type: 'param'): (def: TMetaArgs) => ParameterDecorator;\n  createDecorator(type: 'prop'): (def: TMetaArgs) => PropertyDecorator;\n  createDecorator(type: 'method'): (def: TMetaArgs) => MethodDecorator;\n  createDecorator(\n    type: 'propMethod'\n  ): (def: TMetaArgs) => PropertyDecorator | MethodDecorator;\n  createDecorator(\n    type: 'classPropMethod'\n  ): (def: TMetaArgs) => ClassDecorator | PropertyDecorator | MethodDecorator;\n  createDecorator(): (def: TMetaArgs) => PropertyDecorator | MethodDecorator;\n  createDecorator(\n    optional: true,\n    type: 'class'\n  ): (def?: TMetaArgs) => ClassDecorator;\n  createDecorator(\n    optional: true,\n    type: 'param'\n  ): (def?: TMetaArgs) => ParameterDecorator;\n  createDecorator(\n    optional: true,\n    type: 'prop'\n  ): (def?: TMetaArgs) => PropertyDecorator;\n  createDecorator(\n    optional: true,\n    type: 'method'\n  ): (def?: TMetaArgs) => MethodDecorator;\n  createDecorator(\n    optional: true,\n    type: 'propMethod'\n  ): (def?: TMetaArgs) => PropertyDecorator | MethodDecorator;\n  createDecorator(\n    optional: true,\n    type: 'classPropMethod'\n  ): (def?: TMetaArgs) => ClassDecorator | PropertyDecorator | MethodDecorator;\n  createDecorator(\n    optional: true\n  ): (def?: TMetaArgs) => PropertyDecorator | MethodDecorator;\n  createDecorator(...args: any[]): any {\n    return <any>((def: TMetaArgs) => {\n      return (\n        target: Object | Function,\n        key: TdmPropertyKey,\n        desc?: PropertyDescriptor\n      ) => {\n        this.create(def, target, key, desc);\n      };\n    });\n  }\n\n  /**\n   * @internal\n   * set by target-store.ts\n   */\n  public register: RegisterFn;\n\n  /**\n   * @internal\n   */\n  extend?: ExtendFn;\n  extendSingle?: ExtendSingleFn<TMetaClass>;\n\n  /**\n   * @internal\n   */\n  public factory(\n    metaArgs: TMetaArgs,\n    target: Object | Function,\n    info: DecoratorInfo,\n    key?: TdmPropertyKey,\n    desc?: PropertyDescriptor | number\n  ): MetaClassInstanceDetails<TMetaArgs, TMetaClass> {\n    const type = ensureTargetIsType(target);\n    const meta = {\n      info,\n      target: type,\n      metaClassKey: this.target,\n      metaPropKey: this.metaArgs.single === true ? GLOBAL_KEY : info.name,\n      metaValue: new this.target(metaArgs, info, type)\n    };\n\n    return meta;\n  }\n\n  /**\n   * Given a MetaClassInstanceDetails, if its a single metadata (single) and has a chain (inherit)\n   * it will go up the chain and create MetaClassInstanceDetails that match the given one just with\n   * the inherited class as the metaClass property.\n   *\n   * This is used to allow registering inheriting single metadata classes.\n   * For example, a ModelMetadata might get extended by an adapter resource, the only metadata class\n   * registered is the extending one, if we will not register the ModelMetadata token as well logic\n   * that expects to find it will fail.\n   * @param meta\n   * @returns\n   */\n  private singleChain(\n    meta: MetaClassInstanceDetails<TMetaArgs, TMetaClass>\n  ): Array<MetaClassInstanceDetails<TMetaArgs, TMetaClass>> | undefined {\n    if (this.metaArgs.single === true && this.metaArgs.inherit) {\n      const parentMeta = Object.create(meta);\n      parentMeta.metaClassKey = this.metaArgs.inherit;\n\n      const deep = getMetaClass(this.metaArgs.inherit).singleChain(meta);\n      return deep ? [parentMeta, ...deep] : [parentMeta];\n    }\n  }\n\n  private findProxies(\n    metaArgs: TMetaArgs | undefined\n  ): Array<{ meta: MetaClassMetadata; args: any[] }> {\n    const results: Array<{ meta: MetaClassMetadata; args: any[] }> = [];\n\n    if (metaArgs) {\n      // we need to take into account parent metadata\n      if (this.metaArgs.inherit) {\n        results.splice(\n          0,\n          0,\n          ...MetaClass.get(this.metaArgs.inherit).findProxies(metaArgs)\n        );\n      }\n\n      const local = this.proxyTo.map(proxy => {\n        if (metaArgs.hasOwnProperty(proxy.containerKey)) {\n          const myMetaArgs = isFunction(proxy.before)\n            ? proxy.before(metaArgs[proxy.containerKey])\n            : metaArgs[proxy.containerKey];\n\n          delete metaArgs[proxy.containerKey];\n\n          return proxy.forEach === true && Array.isArray(myMetaArgs)\n            ? { meta: proxy.metaClass, args: myMetaArgs }\n            : { meta: proxy.metaClass, args: [myMetaArgs] };\n        }\n      });\n\n      results.splice(results.length, 0, ...local);\n    }\n    return results;\n  }\n\n  /**\n   * A factory for {@link MetaClassMetadata} instances\n   *\n   * > This will create an instance of a metadata class container.\n   * A Metadata container can create instances of the metadata class it \"contains\", thus, the instance\n   * returned from the static `create` method also has a 'create' method however that instance level\n   * `create` method is a factory for instance of the metadata class, not the container.\n   *\n   * @param target\n   * @param metaArgs\n   * @returns\n   */\n  static create<TMetaArgs = any, TMetaClass = any>(\n    target: MetadataClassStatic<TMetaArgs, TMetaClass>,\n    metaArgs?: MetaClassMetadataArgs<TMetaArgs, TMetaClass>\n  ): MetaClassMetadata<TMetaArgs, TMetaClass> {\n    return new MetaClassMetadata<TMetaArgs, TMetaClass>(target, metaArgs);\n  }\n}\n\nexport function getMetaClass<TMetaArgs = any, TMetaClass = any>(\n  target: MetadataClassStatic<TMetaArgs, TMetaClass>\n): MetaClassMetadata<TMetaArgs, TMetaClass> {\n  return store.get(target);\n}\n\nexport function MetaClass<TMetaArgs, TMetaClass = any, Z = any>(\n  metaArgs?: MetaClassMetadataArgs<TMetaArgs, TMetaClass>\n) {\n  return (\n    target: Z & MetadataClassStatic<TMetaArgs, TMetaClass>\n  ): Z & MetadataClassStatic<TMetaArgs, TMetaClass> | void => {\n    store.set(target, MetaClassMetadata.create(target, metaArgs));\n  };\n}\n\n// tslint:disable-next-line:no-namespace\nexport namespace MetaClass {\n  /**\n   * Creates a metadata class instance.\n   * This is a shortcut for `MetaClass.get(MyMetadataClass).create(...);\n   * @param metaClass\n   * @param metaArgs\n   * @param target\n   * @param key\n   * @param desc\n   */\n  export function create<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    metaArgs: TMetaArgs,\n    target: Object | Function,\n    key?: TdmPropertyKey,\n    desc?: PropertyDescriptor | number\n  ): TMetaClass {\n    return store.get(metaClass).create(metaArgs, target, key, desc);\n  }\n\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    type: 'class'\n  ): (def: TMetaArgs) => ClassDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    type: 'param'\n  ): (def: TMetaArgs) => ParameterDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    type: 'prop'\n  ): (def: TMetaArgs) => PropertyDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    type: 'method'\n  ): (def: TMetaArgs) => MethodDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    type: 'propMethod'\n  ): (def: TMetaArgs) => PropertyDecorator | MethodDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    type: 'classPropMethod'\n  ): (def: TMetaArgs) => ClassDecorator | PropertyDecorator | MethodDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>\n  ): (\n    def: TMetaArgs\n  ) => (\n    target: Object,\n    propertyKey: string | symbol,\n    descOrIndex?: PropertyDescriptor | number\n  ) => any;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    optional: true,\n    type: 'class'\n  ): (def?: TMetaArgs) => ClassDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    optional: true,\n    type: 'param'\n  ): (def?: TMetaArgs) => ParameterDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    optional: true,\n    type: 'prop'\n  ): (def?: TMetaArgs) => PropertyDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    optional: true,\n    type: 'method'\n  ): (def?: TMetaArgs) => MethodDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    optional: true,\n    type: 'propMethod'\n  ): (def?: TMetaArgs) => PropertyDecorator | MethodDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    optional: true,\n    type: 'classPropMethod'\n  ): (def?: TMetaArgs) => ClassDecorator | PropertyDecorator | MethodDecorator;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    optional: true\n  ): (\n    def?: TMetaArgs\n  ) => (\n    target: Object,\n    propertyKey: string | symbol,\n    descOrIndex?: PropertyDescriptor | number\n  ) => any;\n  export function decorator<TMetaArgs, TMetaClass, Z>(\n    metaClass: Z & MetadataClassStatic<TMetaArgs, TMetaClass>,\n    ...args: any[]\n  ): any {\n    return <any>store.get(metaClass).createDecorator();\n  }\n\n  export function defaultRegistrator(\n    fn: (meta: MetaClassInstanceDetails<any, any>) => void\n  ): void {\n    MetaClassMetadata.prototype['register'] = fn;\n  }\n}\n","import { isFunction, isNumber, isStaticDecorator } from '../utils';\nimport {\n  DecoratorInfo,\n  MetaClassRegisterHelpers,\n  MetaClassExtendHelpers,\n  RegisterFn,\n  ExtendFn\n} from './types';\n\nexport function decoratorInfo(...args: any[]): DecoratorInfo {\n  if (isFunction(args[0]) && !args[1]) {\n    // target is function and key is not set\n    return { type: 'class' };\n  } else {\n    const type = args.length === 3 && isNumber(args[2]) ? 'param' : 'member';\n    const result: DecoratorInfo = {\n      type,\n      name: args[1],\n      isStatic: isStaticDecorator(args[0]),\n      hasDescriptor: args.length === 3 && type === 'member'\n    };\n    if (type === 'param') {\n      result.paramIndex = args[2];\n    }\n    return result;\n  }\n}\n\nexport const registerHelpers: MetaClassRegisterHelpers = <any>{};\nexport const extendHelpers: MetaClassExtendHelpers = <any>{};\n\nexport function setMetaHelper(\n  type: 'register',\n  name: keyof MetaClassRegisterHelpers,\n  helperFn: RegisterFn\n): void;\nexport function setMetaHelper(\n  type: 'extend',\n  name: keyof MetaClassExtendHelpers,\n  helperFn: ExtendFn\n): void;\nexport function setMetaHelper(\n  type: 'register' | 'extend',\n  name: any,\n  helperFn: any\n): void {\n  switch (type) {\n    case 'extend':\n      extendHelpers[name] = helperFn;\n      break;\n    case 'register':\n      registerHelpers[name] = helperFn;\n      break;\n    default:\n      break;\n  }\n}\n","import { isString, isFunction } from './utils';\nimport {\n  PropAliasConfig,\n  PropTransformConfig,\n  TransformFn\n} from './interfaces';\n\nexport function propAliasConfig(\n  from: string | Partial<PropAliasConfig>,\n  fallback: string\n): PropAliasConfig {\n  let incoming: string, outgoing: string;\n\n  if (!from) {\n    incoming = outgoing = fallback;\n  } else if (isString(from)) {\n    incoming = outgoing = from;\n  } else {\n    incoming = from.incoming || fallback;\n    outgoing = from.outgoing || fallback;\n  }\n\n  return { incoming, outgoing };\n}\n\nexport function propTransformConfig(\n  from: TransformFn | Partial<PropTransformConfig>\n): PropTransformConfig {\n  let incoming: TransformFn, outgoing: TransformFn;\n\n  if (isFunction(from)) {\n    incoming = outgoing = from;\n  } else if (from) {\n    if (isFunction(from.incoming)) {\n      incoming = from.incoming;\n    }\n    if (isFunction(from.outgoing)) {\n      outgoing = from.outgoing;\n    }\n  }\n\n  return { incoming, outgoing };\n}\n","const emptyIterator = {\n  next() {\n    return { value: null, done: true };\n  },\n  [Symbol.iterator]() {\n    return emptyIterator;\n  }\n};\n\n// TODO: move to separate package along with other utils on @tdm/core\n\n/**\n * A dual map, key->key->value\n */\nexport class DualKeyMap<K, K1, V> {\n  protected map = new Map<K, Map<K1, V>>();\n\n  readonly [Symbol.toStringTag]: 'Map' = 'Map';\n\n  has(type: K): boolean;\n  has(type: K, id: K1): boolean;\n  has(type: K, id?: K1): boolean {\n    if (id === undefined) {\n      return this.map.has(type);\n    } else {\n      const t = this.map.get(type);\n      return t ? t.has(id) : false;\n    }\n  }\n\n  get(type: K): Map<K1, V> | undefined;\n  get(type: K, id: K1): V | undefined;\n  get(type: K, id?: K1): Map<K1, V> | V | undefined {\n    const t = this.map.get(type);\n    return id === undefined ? t : t && t.get(id);\n  }\n\n  delete(type: K): boolean;\n  delete(type: K, id: K1): boolean;\n  delete(type: K, id?: K1): boolean {\n    if (id === undefined) {\n      return this.map.delete(type);\n    } else {\n      const t = this.map.get(type);\n      return !(t && t.delete(id));\n    }\n  }\n\n  set(type: K, map: Map<K1, V>): void;\n  set(type: K, id: K1, value: V): void;\n  set(type: K, idOrMap: K1 | Map<K1, V>, value?: V): void {\n    if (idOrMap instanceof Map) {\n      if (arguments.length === 2) {\n        this.map.set(type, idOrMap);\n      }\n    } else {\n      const t = this.map.get(type) || new Map<K1, V>();\n      t.set(idOrMap, value);\n      this.map.set(type, t);\n    }\n  }\n\n  clear(): void;\n  clear(type: K): void;\n  clear(type?: K): void {\n    if (type === undefined) {\n      this.map.clear();\n    }\n    {\n      const t = this.map.get(type);\n      t && t.clear();\n    }\n  }\n\n  /**\n   * Perform for each on the top-level map.\n   * NOTE: The first parameter must be the boolean true.\n   * @param callbackfn\n   * @param thisArg\n   */\n  forEach(\n    root: true,\n    callbackfn: (value: Map<K1, V>, index: K, map: Map<K1, Map<K1, V>>) => void,\n    thisArg?: any\n  ): void;\n  /**\n   * Perform for each on the 2nd level map\n   * if not, it will\n   * @param callbackfn\n   * @param thisArg\n   */\n  forEach(\n    callbackfn: (value: V, index: K1, map: Map<K1, V>) => void,\n    type: K,\n    thisArg?: any\n  ): void;\n  forEach(\n    callbackfn: true | ((value: V, index: K1, map: Map<K1, V>) => void),\n    type: K | ((value: Map<K1, V>, index: K, map: Map<K1, Map<K1, V>>) => void),\n    thisArg?: any\n  ): void {\n    if (callbackfn === true) {\n      this.map.forEach(type as any, thisArg);\n    } else {\n      const t = this.map.get(type as any);\n      t && t.forEach(callbackfn as any, thisArg);\n    }\n  }\n\n  entries(): IterableIterator<[K, Map<K1, V>]>;\n  entries(type: K): IterableIterator<[K1, V]>;\n  entries(\n    type?: K\n  ): IterableIterator<[K, Map<K1, V>]> | IterableIterator<[K1, V]> {\n    if (type === undefined) {\n      return this.map.entries();\n    } else {\n      const t = this.map.get(type as any);\n      return t ? t.entries() : this.makeEmptyIterator();\n    }\n  }\n\n  keys(): IterableIterator<K>;\n  keys(type: K): IterableIterator<K1>;\n  keys(type?: K): IterableIterator<K> | IterableIterator<K1> {\n    if (type === undefined) {\n      return this.map.keys();\n    } else {\n      const t = this.map.get(type as any);\n      return t ? t.keys() : this.makeEmptyIterator();\n    }\n  }\n\n  values(): IterableIterator<Map<K1, V>>;\n  values(type: K): IterableIterator<V>;\n  values(type?: K): IterableIterator<Map<K1, V>> | IterableIterator<V> {\n    if (type === undefined) {\n      return this.map.values();\n    } else {\n      const t = this.map.get(type as any);\n      return t ? t.values() : this.makeEmptyIterator();\n    }\n  }\n\n  get size(): number {\n    return this.map.size;\n  }\n\n  sizeOf(type: K): number {\n    const t = this.map.get(type);\n    return t ? t.size : 0;\n  }\n\n  private makeEmptyIterator(): IterableIterator<any> {\n    return emptyIterator;\n  }\n\n  [Symbol.iterator](): IterableIterator<[K, Map<K1, V>]> {\n    return this.map[Symbol.iterator]();\n  }\n}\n\n/**\n * The child of Map and Set\n */\nexport class KeySet<K, V> {\n  map = new Map<K, Set<V>>();\n\n  has(key: K, value: V): boolean;\n  has(key: K): boolean;\n  has(key: K, value?: V): boolean {\n    if (arguments.length === 1) {\n      return this.map.has(key);\n    } else {\n      const t = this.map.get(key);\n      return t ? t.has(value) : false;\n    }\n  }\n\n  get(key: K, index: number): V | undefined;\n  get(key: K): Set<V> | undefined;\n  get(key: K, index?: number): Set<V> | V | undefined {\n    if (arguments.length === 1) {\n      return this.map.get(key);\n    } else {\n      const set = this.map.get(key);\n      if (set) {\n        return SetExt.index(set, index);\n      }\n    }\n  }\n\n  /**\n   * Set's the Set for a key.\n   * @param key\n   * @param set An optional set, if not supplied a new Set is created.\n   */\n  set(key: K, set?: Set<V>): Set<V> {\n    if (!set) {\n      set = new Set<V>();\n    }\n    this.map.set(key, set);\n    return set;\n  }\n\n  add(key: K, value: V): this {\n    const t = this.map.get(key) || new Set<V>();\n    t.add(value);\n    this.map.set(key, t);\n    return this;\n  }\n\n  clear(key?: K): void {\n    if (!key) {\n      this.map.clear();\n    } else {\n      const t = this.map.get(key);\n      t && t.clear();\n    }\n  }\n\n  delete(key: K, value?: V): boolean {\n    if (arguments.length === 1) {\n      return this.delete(key);\n    } else {\n      const t = this.map.get(key);\n      return t ? t.delete(value) : false;\n    }\n  }\n\n  forEach(\n    key: K,\n    callbackfn: (value: V, index: V, set: Set<V>) => void,\n    thisArg?: any\n  ): void {\n    const t = this.map.get(key);\n    if (t) {\n      t.forEach(callbackfn, thisArg);\n    }\n  }\n\n  /**\n   * Returns the amount of map entries\n   */\n  get size(): number {\n    return this.map.size;\n  }\n\n  sizeOf(key: K): number {\n    const t = this.map.get(key);\n    return t ? t.size : 0;\n  }\n}\n\nexport class SetExt<T> extends Set<T> {\n  first(): T | undefined {\n    return SetExt.first(this);\n  }\n\n  index(index: number): T | undefined {\n    return SetExt.index(this, index);\n  }\n\n  asArray(): Array<T> {\n    return SetExt.asArray(this);\n  }\n\n  isSuperset(subset: Set<any>): boolean {\n    return SetExt.isSuperset(this, subset);\n  }\n\n  /**\n   * Combine all of the sources\n   * @param source\n   * returns the target\n   */\n  combine(...source: Array<Set<T>>): void;\n  combine(...source: Array<Array<T>>): void;\n  combine(...source: Array<any>): void {\n    SetExt.combine(this, ...source);\n  }\n\n  /**\n   * Deduct all of the sources\n   * @param source\n   * returns the target\n   */\n  deduct(...source: Array<Set<T>>): void {\n    SetExt.deduct(this, ...source);\n  }\n\n  union(...source: Array<Set<T>>): SetExt<T> {\n    return SetExt.union(SetExt as any, this as any, ...source);\n  }\n\n  /**\n   * Returns all the items that were in this set and the supplied set.\n   * @param setA\n   * @param setB\n   * @param initSetExt\n   */\n  intersection(set: Set<T>): SetExt<T> {\n    return SetExt.intersection(this, set as any, true);\n  }\n\n  /**\n   * Returns all the items that are in this set, but not in the target set.\n   * Returns a new SetExt instance.\n   * @param set\n   * @returns\n   */\n  difference(set: Set<T>): SetExt<T> {\n    return SetExt.difference(this, set as any, true);\n  }\n\n  /**\n   * Returns all the items that were not in this set and the supplied set.\n   * Returns a new SetExt instance.\n   * @param set\n   * @returns\n   */\n  negative(set: Set<T>): SetExt<T> {\n    return SetExt.negative(this, set as any, true);\n  }\n\n  static first<T>(set: Set<T>): T | undefined {\n    return set.values().next().value;\n  }\n\n  static index<T>(set: Set<T>, index: number): T | undefined {\n    const iterator = set.values();\n\n    for (let i = 0; i < index; i++) {\n      if (iterator.next().done) {\n        return undefined;\n      }\n    }\n\n    return iterator.next().value;\n  }\n\n  static asArray<T>(set: Set<T>): Array<T> {\n    return Array.from(set);\n  }\n\n  static isSuperset(set: Set<any>, subset: Set<any>): boolean {\n    return !SetExt.asArray(subset).some(v => !set.has(v));\n  }\n\n  /**\n   * Combine all of the sources into the target.\n   * @param target\n   * @param source\n   * returns the target\n   */\n  static combine<T>(target: Set<T>, ...source: Array<Set<T>>): Set<T>;\n  static combine<T>(target: Set<T>, ...source: Array<Array<T>>): Set<T>;\n  static combine<T>(target: Set<T>, ...source: Array<any>): Set<T> {\n    for (let i = 0, len = source.length; i < len; i++) {\n      const arr = Array.isArray(source[i])\n        ? source[i]\n        : SetExt.asArray(source[i]);\n      for (let z = 0, lenZ = arr.length; z < lenZ; z++) {\n        if (!target.has(arr[z])) {\n          target.add(arr[z]);\n        }\n      }\n    }\n    return target;\n  }\n\n  /**\n   * Deduct all of the sources from the target.\n   * @param target\n   * @param source\n   * returns the target\n   */\n  static deduct<T>(target: Set<T>, ...source: Set<T>[]): Set<T> {\n    for (let i = 0, len = source.length; i < len; i++) {\n      const arr = SetExt.asArray(source[i]);\n      for (let z = 0, lenZ = arr.length; z < lenZ; z++) {\n        target.delete(arr[z]);\n      }\n    }\n    return target;\n  }\n\n  static union<T extends Set<any>>(...source: T[]): T {\n    const union: any =\n      typeof source[0] === 'function'\n        ? new (source.shift() as any)()\n        : new Set<any>();\n    SetExt.combine(union, ...source);\n    return union;\n  }\n\n  /**\n   * Returns all the items that were in both sets.\n   * @param setA\n   * @param setB\n   * @param initSetExt\n   */\n  static intersection<T extends Set<any>>(\n    setA: T,\n    setB: T,\n    initSetExt?: boolean\n  ): T {\n    const intersection = initSetExt ? new SetExt<any>() : new Set<any>();\n\n    const arr = SetExt.asArray(setB);\n    for (let z = 0, lenZ = arr.length; z < lenZ; z++) {\n      if (setA.has(arr[z])) {\n        intersection.add(arr[z]);\n      }\n    }\n    return intersection as any;\n  }\n\n  /**\n   * Returns all the items that are in source set, but not in the target set.\n   * @param source\n   * @param target\n   * @param initSetExt\n   * @returns\n   */\n  static difference<T extends Set<any>>(\n    source: T,\n    target: T,\n    initSetExt?: boolean\n  ): T {\n    const difference = initSetExt\n      ? new SetExt<any>(source)\n      : new Set<any>(source);\n\n    const arr = SetExt.asArray(target);\n    for (let z = 0, lenZ = arr.length; z < lenZ; z++) {\n      difference.delete(arr[z]);\n    }\n    return difference as any;\n  }\n\n  /**\n   * Returns all the items that were not in both sets.\n   * @param source\n   * @param target\n   * @param initSetExt\n   * @returns\n   */\n  static negative<T extends Set<any>>(\n    source: T,\n    target: T,\n    initSetExt?: boolean\n  ): T {\n    const negative = initSetExt\n      ? new SetExt<any>(source)\n      : new Set<any>(source);\n\n    const arr = SetExt.asArray(target);\n    for (let z = 0, lenZ = arr.length; z < lenZ; z++) {\n      if (negative.has(arr[z])) {\n        negative.delete(arr[z]);\n      } else {\n        negative.add(arr[z]);\n      }\n    }\n    return negative as any;\n  }\n}\n\nexport class MapExt {\n  /**\n   * Merge source map into target map.\n   * @param target\n   * @param source\n   * @param diffOnly if true will only merge keys from source that does not exist on target.\n   */\n  static mergeInto<K, V>(\n    target: Map<K, V>,\n    source: Map<K, V>,\n    diffOnly?: boolean\n  ): Map<K, V> {\n    const arr = MapExt.asKeyArray(source);\n    for (let i = 0, len = arr.length; i < len; i++) {\n      if (!diffOnly || !target.has(arr[i])) {\n        target.set(arr[i], source.get(arr[i]));\n      }\n    }\n    return target;\n  }\n\n  /**\n   * Set the values of an array into a map\n   * @param arr\n   * @param keySelector A function returning the key to be used in the map\n   * @param map The map to set on, optional. If not set a new map is created.\n   * @param diffOnly Set only new values, optional. Valid only if a map is supplied.\n   * @returns\n   */\n  static fromArray<K, V>(\n    arr: Array<V>,\n    keySelector: (value: V) => K,\n    map?: Map<K, V>,\n    diffOnly?: boolean\n  ): Map<K, V> {\n    if (!(map instanceof Map)) {\n      map = new Map<K, V>();\n      diffOnly = false;\n    }\n\n    for (let i = 0, len = arr.length; i < len; i++) {\n      const key = keySelector(arr[i]);\n      if (!diffOnly || !map.has(key)) {\n        map.set(key, arr[i]);\n      }\n    }\n\n    return map;\n  }\n\n  static asKeyValArray<K, V>(map: Map<K, V>): Array<[K, V]> {\n    return Array.from(map.entries());\n  }\n\n  static asKeyArray<K, V>(map: Map<K, V>): Array<K> {\n    return Array.from(map.keys());\n  }\n\n  static asValArray<K, V>(map: Map<K, V>): Array<V> {\n    return Array.from(map.values());\n  }\n\n  static asObjectLiteral<K, V>(map: Map<K, V>): { [key: string]: V } {\n    return MapExt.asKeyArray(map).reduce((prev, curr) => {\n      prev[curr.toString()] = map.get(curr);\n      return prev;\n    }, {});\n  }\n}\n","export type Constructor<T> = new (...args: any[]) => T;\n\nexport function isNumber(obj: any): obj is number {\n  return typeof obj === 'number';\n}\n\nexport function isString(obj: any): obj is string {\n  return typeof obj === 'string';\n}\n\nexport function isFunction(obj: any): obj is Function {\n  return typeof obj === 'function';\n}\n\nexport function isStaticDecorator(target: any): boolean {\n  return isFunction(target);\n}\n\nconst undef = undefined;\nexport function isUndefined(obj: any): obj is undefined {\n  return obj === undef;\n}\n\nexport function ensureTargetIsType(type: any): any {\n  return isFunction(type) ? type : type.constructor;\n}\n\nexport function isJsObject(obj: any): boolean {\n  return obj !== null && (typeof obj === 'function' || typeof obj === 'object');\n}\nexport function isPrimitive(obj: any): boolean {\n  return !isJsObject(obj);\n}\n\n/**\n * See https://github.com/angular/angular/blob/2.0.0-rc.4/modules/%40angular/facade/src/lang.ts#L149\n * @param token\n * @returns\n */\nexport function stringify(token: any): string {\n  if (typeof token === 'string') {\n    return token;\n  }\n\n  if (token === undefined || token === null) {\n    return '' + token;\n  }\n\n  if (token.name) {\n    return token.name;\n  }\n  if (token.overriddenName) {\n    return token.overriddenName;\n  }\n\n  const res = token.toString();\n  const newLineIndex = res.indexOf('\\n');\n  return newLineIndex === -1 ? res : res.substring(0, newLineIndex);\n}\n\nexport const reflection = {\n  designType(target: any, key: string | symbol): any {\n    return (Reflect as any).getMetadata('design:type', target, key);\n  },\n  paramTypes(target: any, key: string | symbol) {\n    return (Reflect as any).getMetadata('design:paramtypes', target, key);\n  }\n};\n\nexport function LazyInit(getter: Function): PropertyDecorator {\n  return (\n    target: Object,\n    propertyKey: string | symbol,\n    descriptor?: PropertyDescriptor\n  ) => {\n    if (descriptor) {\n      throw new Error('LazyInit can only decorate properties');\n    }\n    Object.defineProperty(target, propertyKey, {\n      get() {\n        const ret = getter.call(this);\n\n        Object.defineProperty(this, propertyKey, { value: ret });\n        return ret;\n      }\n    });\n  };\n}\n\n/**\n * @pluginApi\n */\nexport const array = (function() {\n  const findRemove = <T>(\n    arr: T[],\n    predicate: (value: T) => boolean,\n    thisArg?: any\n  ): T | undefined => {\n    const idx = arr.findIndex(predicate, thisArg);\n    if (idx > -1) {\n      return arr.splice(idx, 1)[0];\n    }\n  };\n\n  return { findRemove };\n})();\n\n/**\n * Returns the chain of prototypes up to Object (not included)\n * @pluginApi\n * @param cls\n */\nexport function getProtoChain(cls: Constructor<any>): Array<Constructor<any>> {\n  const classes = [];\n  while (cls && cls !== Object) {\n    classes.push(cls);\n\n    const proto = Object.getPrototypeOf(cls.prototype);\n    cls = isFunction(proto) || !proto ? proto : proto.constructor;\n  }\n  return classes;\n}\n\nexport function getBaseClass(cls: Constructor<any>): Constructor<any> | void {\n  const proto = Object.getPrototypeOf(cls.prototype);\n  return !proto || isFunction(proto) ? proto : proto.constructor;\n}\n","import { isPrimitive, DualKeyMap } from '../../fw';\nimport { PropMetadata, targetStore } from '../../metadata';\nimport { MapperFactory, DeserializeMapper, SerializeMapper } from '../mapper';\nimport {\n  PropertyContainer,\n  PoClassPropertyMap,\n  transformValueOut\n} from '../prop-container';\nimport { PlainObjectMapper } from '../plain-object-mapper';\n\n/**\n * A mapper that has no mapping effect.\n * Maps every property on the source to the same property on the target.\n * This mapper does not support non primitive id's\n */\nexport class DirectDeserializeMapper extends DeserializeMapper {\n  setRef(value: any): void {\n    if (this.current) {\n      this.existing.set(this.sourceType, this.getIdentity(), value);\n    }\n  }\n\n  readonly isCollection: boolean;\n\n  protected existing: DualKeyMap<any, string, any>;\n  protected get ref(): any | undefined {\n    if (this.current) {\n      return this.existing.get(this.sourceType, this.getIdentity());\n    }\n  }\n\n  protected current: any;\n  protected identity: string;\n  private idx: number = -1;\n\n  constructor(source: any, sourceType: any, plainMapper?: PlainObjectMapper) {\n    super(source, sourceType, plainMapper);\n\n    if (!(this instanceof DirectChildDeserializeMapper)) {\n      this.existing = new DualKeyMap<any, string, any>();\n    }\n\n    this.identity = targetStore.getIdentityKey(this.sourceType, 'outgoing');\n\n    this.isCollection = Array.isArray(source);\n    if (!this.isCollection) {\n      this.current = this.source;\n    }\n  }\n\n  getIdentity(): string {\n    // TODO: Move to the global store, so logic can change without bugs.\n    return this.current[this.identity];\n  }\n\n  next(): boolean {\n    if (this.isCollection) {\n      this.current = this.source[++this.idx];\n      return !!this.current;\n    } else {\n      return false;\n    }\n  }\n\n  getKeys(): string[] {\n    return Object.keys(this.current);\n  }\n\n  getValue(key: string, prop?: PropMetadata): any {\n    let value = this.current[key];\n\n    if (prop) {\n      // The adapter has the responsibility to manage relationships.\n      // It doesn't care about key matching (e.g. key in property customer_id but property is customer)\n      // it get's a value and the property to assign to, the adapter should check if the value it got\n      // was an id or an object.\n\n      // this relationship handling logic makes this whole adapter support only primitive ID properties.\n      // if we have primitives we treat them as id's and create an object.\n      // later we wil check if this value is in cache, if not create it.\n      // if its not a primitive, it will process as a full object included in the payload.\n      const rel = this.getRelationQuery(prop, value);\n      if (rel) {\n        value = rel;\n      }\n\n      if (targetStore.hasTarget(prop.type.ref)) {\n        return (\n          this.getCache(prop.type.ref, value) || this.deserialize(value, prop)\n        );\n      }\n    }\n\n    return typeof value === 'object'\n      ? this.plainMapper.deserialize(value)\n      : value;\n  }\n\n  protected deserialize(value: any, prop: PropMetadata): any {\n    const mapper = this.ref\n      ? new DirectChildDeserializeMapper(\n          value,\n          prop.type.ref,\n          this.existing,\n          this.plainMapper\n        )\n      : directMapper.deserializer(value, prop.type.ref, this.plainMapper); // tslint:disable-line\n\n    return targetStore.deserialize(mapper);\n  }\n\n  /**\n   *  Returns a relationship object with the identity property set.\n   *  This object can then be used by the cache to identify if a value is cached or not (using the type & identity comb)\n   */\n  protected getRelationQuery(prop: PropMetadata, value: any): any {\n    if (prop.relation && isPrimitive(value)) {\n      return {\n        [targetStore.getIdentityKey(prop.type.ref as any, 'outgoing')]: value\n      };\n    }\n  }\n\n  protected getCache(type: any, value: any): any | undefined {\n    const idKey = targetStore.getIdentityKey(type, 'outgoing');\n    const idVal = idKey && value[idKey];\n    if (idVal) {\n      return this.existing.get(type, idVal);\n    }\n  }\n}\n\n// tslint:disable-next-line\nexport class DirectChildDeserializeMapper extends DirectDeserializeMapper {\n  constructor(\n    source: any,\n    sourceType: any,\n    protected existing: DualKeyMap<any, string, any>,\n    plainMapper: PlainObjectMapper\n  ) {\n    super(source, sourceType, plainMapper);\n  }\n}\n\n// tslint:disable-next-line\nexport class DirectSerializeMapper extends SerializeMapper {\n  protected cache: Map<any, any>;\n\n  serialize(container: PropertyContainer): any {\n    if (!this.cache) {\n      this.cache = new Map<any, any>();\n    }\n\n    if (Array.isArray(this.source)) {\n      return this.serializeCollection(this.source, container);\n    } else {\n      return this.serializeObject(this.source, container);\n    }\n  }\n\n  private serializeObject(obj: any, container: PropertyContainer): any {\n    const data: any = {};\n\n    const cb = (pMap: PoClassPropertyMap) => {\n      const p = pMap.prop;\n      if (p && targetStore.hasTarget(p.type.ref)) {\n        const type: any = p.type.ref;\n        if (p.relation && !p.type.isArray) {\n          const idKey = targetStore.getIdentityKey(type);\n          // if the rel points to a different fk property name, @tdm will make sure prop.obj is that fk.\n          data[pMap.obj] = obj[pMap.cls][idKey];\n        } else {\n          data[pMap.obj] = targetStore.serialize(\n            type,\n            new DirectChildSerializeMapper(\n              obj[pMap.cls],\n              this.cache,\n              this.plainMapper\n            )\n          );\n        }\n      } else {\n        const newVal = this.plainMapper.serialize(\n          transformValueOut(obj[pMap.cls], p)\n        );\n        data[pMap.obj] = newVal;\n      }\n    };\n\n    container.forEach(Object.keys(obj), cb);\n\n    const idKey = targetStore.getIdentityKey(container.target);\n    if (idKey !== targetStore.getIdentityKey(container.target, 'outgoing')) {\n      delete data[idKey];\n    }\n\n    return data;\n  }\n\n  private serializeCollection(arr: any[], container: PropertyContainer): any[] {\n    return arr.map(s => this.serializeObject(s, container));\n  }\n}\n\n// tslint:disable-next-line\nexport class DirectChildSerializeMapper extends DirectSerializeMapper {\n  constructor(\n    source: any,\n    protected cache: Map<any, any>,\n    plainMapper: PlainObjectMapper\n  ) {\n    super(source, plainMapper);\n  }\n}\n\nexport const directMapper: MapperFactory = {\n  serializer(\n    source: any,\n    plainMapper?: PlainObjectMapper\n  ): DirectSerializeMapper {\n    return new DirectSerializeMapper(source, plainMapper);\n  },\n  deserializer(\n    source: any,\n    sourceType: any,\n    plainMapper?: PlainObjectMapper\n  ): DirectDeserializeMapper {\n    return new DirectDeserializeMapper(source, sourceType, plainMapper);\n  }\n};\n","export class TransformationError extends Error {\n  constructor(message?: string) {\n    super(message);\n  }\n\n  static coll_obj(expectedCol: boolean): TransformationError {\n    return new TransformationError(\n      expectedCol\n        ? `Expected a collection but got an object`\n        : `Expected an object but got a collection`\n    );\n  }\n}\n","export * from './errors';\nexport * from './prop-container';\nexport * from './mapper';\nexport { PlainObjectMapper } from './plain-object-mapper';\nexport {\n  directMapper,\n  DirectSerializeMapper,\n  DirectDeserializeMapper\n} from './direct-mapper/direct-mapper';\n","import { PropertyContainer } from './prop-container';\nimport { PropMetadata } from '../metadata';\nimport { PlainObjectMapper } from './plain-object-mapper';\n\nexport interface MapperFactory {\n  serializer(source: any, plainMapper?: PlainObjectMapper): SerializeMapper;\n  deserializer(\n    source: any,\n    sourceType: any,\n    plainMapper?: PlainObjectMapper\n  ): DeserializeMapper;\n}\n\n/**\n * Represents the contract a Serializer needs to implements.\n * A Serializer should handle both a collection and a single item and should be able to identify them.\n *\n * Since Serialization transforms a KNOWN document to an UNKNOWN document the serializer is gets\n * free control over the output.\n * The library provides the instance and a container of property metadata for the instance and the\n * serializer should do the rest.\n *\n * Since the output schema is now known to the library the whole process is managed by the serializer.\n * The library helps with metadata.\n */\nexport abstract class SerializeMapper {\n  protected plainMapper: PlainObjectMapper;\n\n  constructor(public source: any | any[], plainMapper?: PlainObjectMapper) {\n    this.plainMapper = plainMapper || new PlainObjectMapper();\n  }\n\n  abstract serialize(container: PropertyContainer): any;\n}\n\n/**\n * Represents the contract a Deserializer needs to implements.\n * A Deserializer should handle both a collection and a single item and should be able to identify them.\n *\n * Since deserialization transforms UNKNOWN document to a KNOWN document the deserializer must implement\n * a specific interface so the library can normalize an unknown document into a known one.\n *\n * If a collection is found the deserializer move to an iteration mode via the next() method.\n * In a collection, the cursor must not point on an item until the first call to next().\n * In a single item next() is never used so the cursor must point to the item provided.\n *\n * The deserialization process:\n *   - Initialize the item (constructor) and identify the type (collection/single)\n *   - Find and return the keys for the current item (getKeys() done for each item)\n *   - Get the value for a given key\n *\n *\n * The Deserializer is responsible for deserializing the whole document, including nested items and\n * related items. It is therefor recommended to keep a cache of generated items if the document is expected to have nested resources.\n * Caching logic can be implemented by implementing the `setRef()` and `getIdentity()` methods and\n * using a child deserializer class or a count flag.\n *\n * > See `directMapper` and `@tdm/json-api-mapper` for implementation example.\n *\n */\nexport abstract class DeserializeMapper {\n  /**\n   * Optional, if set will be used to get the identity value.\n   * If the identity is part of the properties it will be sent through getValue(), but if not this\n   * function should be implemented. e.g. JSON API has an ID that is not part of the object attributes.\n   */\n  getIdentity?(): any;\n\n  /**\n   * Optional, if set will be used to inject a reference object to identify resources.\n   * If a mapper handles a cyclic document where resources reference other resources within the same\n   * document (e.g. JSONAPI) the mapper can use this reference along with identifiers on the document/resource\n   * to return objects that it already created.\n   * @param value\n   */\n  setRef?(value: any): void;\n\n  /**\n   * If true will iterate excluded items when calling getValue.\n   * See PropertyContainer.forEachRaw\n   */\n  raw?: boolean;\n\n  protected plainMapper: PlainObjectMapper;\n\n  constructor(\n    public source: any,\n    public sourceType: any,\n    plainMapper?: PlainObjectMapper\n  ) {\n    this.plainMapper = plainMapper || new PlainObjectMapper();\n  }\n\n  /**\n   * A value stating if the input is a collection or not.\n   * The Deserializer is responsible to identify it from the document\n   */\n  abstract readonly isCollection: boolean;\n\n  /**\n   * If a collection, Moves the current item to the next item in the collection and returns true.\n   * If not a collection or if the enumerator is at the end of the collection or the collection is empty, returns false.\n   */\n  abstract next(): boolean;\n\n  /**\n   * Return the keys for the current item, this call is guaranteed to execute once per item.\n   * In the event of a collection and if you are certain that each item in the collection has the same properties\n   * you can implement a cache.\n   *\n   * It is not recommended to alter the keys, key transformation is governed by the library and set\n   * by the definition on the models, i.e. Naming transformation strategy and PropMetadata#alias.\n   */\n  abstract getKeys(): string[];\n\n  /**\n   * Return the value for a given key.\n   *\n   * The keys sent to `getValue()` are not guaranteed to match the keys returned from `getKeys()`.\n   * Some keys might get omitted, some might change and the order might differ.\n   *\n   * A `PropMetadata` object is supplied, if exists.\n   * If the transformation strategy is exclusive a PropMetadata is always supplied otherwise, only for properties that have a @Prop decorator.\n   *\n   * Use the supplied `PropMetadata` to identify relationships, foreign keys, etc...\n   *\n   * @param key\n   * @param prop\n   */\n  abstract getValue(key: string, prop?: PropMetadata): any;\n}\n","const PRIMITIVES = ['boolean', 'string', 'number', 'symbol'];\n\n/**\n * A plain object (POJO/POCO) serializer/deserializer.\n * Extend for custom behaviour.\n */\nexport class PlainObjectMapper {\n  deserialize(obj: any): any {\n    return this._deserialize(obj);\n  }\n\n  serialize(obj: any): any {\n    return this._serialize(obj, new Map<any, any>());\n  }\n\n  protected _deserialize(obj: any): any {\n    return obj;\n  }\n\n  protected _serialize(obj: any, cache: Map<any, any>): any {\n    if (obj === null || obj === undefined) {\n      return null;\n    }\n\n    // we can be passive about resolving primitives, let them fallback if nothing hits...\n    // however, since primitive are used often, it likely that we save checks if we use an active approach.\n    if (PRIMITIVES.indexOf(typeof obj) > -1) {\n      return obj;\n    }\n\n    let cachedVal: any = cache.get(obj);\n\n    if (cachedVal) {\n      return cachedVal;\n    }\n\n    if (Array.isArray(obj)) {\n      cache.set(obj, (cachedVal = []));\n\n      for (let i = 0, len = obj.length; i < len; i++) {\n        cachedVal.push(this._serialize(obj[i], cache));\n      }\n    } else if (obj instanceof Date) {\n      cache.set(obj, (cachedVal = obj.toISOString()));\n    } else if (obj instanceof RegExp) {\n      cache.set(obj, (cachedVal = obj.toString()));\n    } else if (typeof obj === 'object' || typeof obj === 'function') {\n      cache.set(obj, (cachedVal = {}));\n\n      const keys = Object.keys(obj);\n      for (let i = 0, len = keys.length; i < len; i++) {\n        cachedVal[keys[i]] = this._serialize(obj[keys[i]], cache);\n      }\n    } else {\n      // throw here? don't think there's a way to get here\n      cache.set(obj, (cachedVal = obj.toString()));\n    }\n\n    return cachedVal;\n  }\n}\n","import { array } from '../fw';\nimport { ExcludeMetadata, PropMetadata } from '../metadata';\n\n/**\n * Mappings between properties of a plain object to a class\n * @internal\n */\nexport interface PoClassPropertyMap {\n  cls: TdmPropertyKey;\n  obj: string;\n  exclude?: ExcludeMetadata;\n  prop?: PropMetadata;\n}\n\nexport interface CompiledTransformation {\n  /**\n   * Excluded members that doesn't have a @Prop decorator.\n   * All @Exclude instructions on members with @Prop instructions are add to the PoClassPropertyMap\n   */\n  excluded: ExcludeMetadata[];\n  instructions: PoClassPropertyMap[];\n}\n\nexport function transformValueOut(value: any, prop: PropMetadata): any {\n  if (prop && prop.transform && prop.transform.outgoing) {\n    return prop.transform.outgoing(value);\n  }\n  return value;\n}\n\nexport function transformValueIn(value: any, prop: PropMetadata): any {\n  if (prop && prop.transform && prop.transform.incoming) {\n    return prop.transform.incoming(value);\n  }\n  return value;\n}\n\nfunction excludedPredicate(e: ExcludeMetadata) {\n  return e.name === this;\n}\n\nexport interface PropertyContainer {\n  target: any;\n\n  forEach(keys: string[], cb: (pMap: PoClassPropertyMap) => void): void;\n\n  /**\n   * A forEach loop on all instructions including excluded instructions and properties not in \"keys\" but in metadata.\n   * It is recommended to use \"forEach\" unless the mapper implementation has different transformation strategies.\n   * @param keys\n   * @param cb\n   */\n  forEachRaw(keys: string[], cb: (pMap: PoClassPropertyMap) => void): void;\n}\n\nexport class InclusivePropertyContainer implements PropertyContainer {\n  constructor(\n    public target: any,\n    private compiled: CompiledTransformation,\n    private predicate: (p: PoClassPropertyMap) => boolean,\n    private renamer?: (po: PoClassPropertyMap) => string\n  ) {}\n\n  forEach(keys: string[], cb: (pMap: PoClassPropertyMap) => void): void {\n    let len = keys.length;\n\n    const instructions = this.compiled.instructions.slice();\n    const excluded = this.compiled.excluded.slice();\n\n    for (let i = 0; i < len; i++) {\n      let prop: PoClassPropertyMap = array.findRemove(\n        instructions,\n        this.predicate,\n        keys[i]\n      ) || {\n        cls: keys[i],\n        obj: keys[i],\n        exclude: array.findRemove(excluded, excludedPredicate, keys[i])\n      };\n\n      if (!prop.exclude) {\n        // we only transform names for ad-hoc properties. registered @Prop's are transformed\n        // when the prop is compiled.\n        if (!prop.prop && this.renamer) {\n          this.renamer(prop);\n        }\n        cb(prop);\n      }\n    }\n  }\n\n  /**\n   * A forEach loop on all instructions including excluded instructions and properties not in \"keys\" but in metadata.\n   * It is recommended to use \"forEach\" unless the mapper implementation has different transformation strategies.\n   * @param keys\n   * @param cb\n   */\n  forEachRaw(keys: string[], cb: (pMap: PoClassPropertyMap) => void): void {\n    let len = keys.length;\n\n    const instructions = this.compiled.instructions.slice();\n    const excluded = this.compiled.excluded.slice();\n\n    for (let i = 0; i < len; i++) {\n      let prop: PoClassPropertyMap = array.findRemove(\n        instructions,\n        this.predicate,\n        keys[i]\n      ) || {\n        cls: keys[i],\n        obj: keys[i],\n        exclude: array.findRemove(excluded, excludedPredicate, keys[i])\n      };\n\n      // we only transform names for ad-hoc properties. registered @Prop's are transformed\n      // when the prop is compiled.\n      if (!prop.prop && this.renamer) {\n        this.renamer(prop);\n      }\n      cb(prop);\n    }\n\n    len = instructions.length;\n    for (let i = 0; i < len; i++) {\n      let prop: PoClassPropertyMap = instructions[i];\n\n      // we only transform names for ad-hoc properties. registered @Prop's are transformed\n      // when the prop is compiled.\n      if (!prop.prop && this.renamer) {\n        this.renamer(prop);\n      }\n      cb(prop);\n    }\n  }\n}\n\nexport class ExclusivePropertyContainer implements PropertyContainer {\n  constructor(public target: any, private compiled: CompiledTransformation) {}\n\n  forEach(keys: string[], cb: (pMap: PoClassPropertyMap) => void): void {\n    const instructions = this.compiled.instructions;\n    // No need to apply transformNameStrategy, it is cached in the instructions.\n    for (let i = 0, len = instructions.length; i < len; i++) {\n      !instructions[i].exclude && cb(instructions[i]);\n    }\n  }\n\n  /**\n   * A forEach loop on all instructions including excluded instructions and properties not in \"keys\" but in metadata.\n   * It is recommended to use \"forEach\" unless the mapper implementation has different transformation strategies.\n   * @param keys\n   * @param cb\n   */\n  forEachRaw(keys: string[], cb: (pMap: PoClassPropertyMap) => void): void {\n    const instructions = this.compiled.instructions;\n    for (let i = 0, len = instructions.length; i < len; i++) {\n      cb(instructions[i]);\n    }\n  }\n}\n","import {\n  LazyInit,\n  TransformDir,\n  NamingStrategyConfig,\n  isFunction,\n  array\n} from '../fw';\nimport { PropMetadata, ExcludeMetadata, TargetMetadata } from '../metadata';\n\nimport {\n  SerializeMapper,\n  DeserializeMapper,\n  CompiledTransformation,\n  PoClassPropertyMap,\n  PropertyContainer,\n  ExclusivePropertyContainer,\n  InclusivePropertyContainer,\n  transformValueIn\n} from './index';\n\n/**\n * Returns an array of 2 property names, first is the name of the transformed output\n * second is the name of the property name to transform.\n * Used for applying NamingStrategyConfig based on the TransformDir\n * @param dir\n * @param transformNameStrategy\n */\nexport function namingStrategyMap(\n  dir: TransformDir,\n  transformNameStrategy: NamingStrategyConfig\n): boolean {\n  return transformNameStrategy && isFunction(transformNameStrategy[dir]);\n}\n\n/**\n * @internal\n */\nexport function getInstructions<T, Z>(\n  meta: TargetMetadata<T, Z>,\n  dir: TransformDir\n): CompiledTransformation {\n  // all excluded instructions for this type\n  // this array will be filtered to hold only @Exclude without @Prop\n  const excluded = meta\n    .getValues(ExcludeMetadata)\n    .filter(e => !e.from || e.from === dir);\n\n  const model = meta.model();\n\n  // in exclusive mode there is no point in have 2 transformation strategies.\n  // incoming is never there since incoming keys are not calculated, only defined Props.\n  if (model.transformStrategy === 'exclusive') {\n    dir = 'outgoing';\n  }\n\n  // only apply naming strategy on outgoing, incoming has no effect here\n  const naming = namingStrategyMap(dir, model.transformNameStrategy);\n\n  const fkMap = new Map<PropMetadata, PoClassPropertyMap[]>();\n\n  // TODO: move to for loop\n  const instructions = meta.getValues(PropMetadata).map(prop => {\n    const obj = {\n      cls: prop.name,\n      obj: prop.alias[dir],\n      exclude: array.findRemove(excluded, e => e.name === prop.name),\n      prop\n    };\n\n    // apply naming strategy when DONT HAVE ALIAS!\n    if (!obj.exclude && naming && obj.cls === obj.obj) {\n      obj.obj = model.transformNameStrategy[dir](obj.cls);\n    }\n\n    // store the PoClassPropertyMap of a belongsTo PropMetadata relation\n    // and the PoClassPropertyMap of all foreign key PropMetadata.\n    // These arr actually matching pairs of a belongTo relation and it's fk\n    // (not all belongsTo has fk, only different property name is a fk)\n    //\n    // At the end, go through the stored PropMetadata's and see if matching pairs found (2 values in array)\n    // for all of them, swap the prop names so:\n    // belongsTo PoClassPropertyMap will output (deserialize) to the original fk property name\n    // foreignKey PoClassPropertyMap wil input (serialize) to the belongsTo property name\n    // this swap make the deserialize/serialize process transparent to fk mismatch defined on the model.\n    // De/Serialize implementations are only responsible to return the right object\n    // (e.g. detect when a key is incoming, return obj instead)\n    if (prop.relation) {\n      const arr = fkMap.get(prop) || [];\n      arr[0] = obj;\n      fkMap.set(prop, arr);\n    } else if (prop.foreignKeyOf) {\n      const arr = fkMap.get(prop.foreignKeyOf) || [];\n      arr[1] = obj;\n      fkMap.set(prop.foreignKeyOf, arr);\n    }\n\n    return obj;\n  });\n\n  Array.from(fkMap.entries()).forEach(([k, v]) => {\n    if (v.length === 2) {\n      // this is a swap\n      v[0].obj = v[1].cls as any;\n      v[1].cls = k.name as any; // v[0].cls === k.name\n    }\n  });\n\n  return { excluded, instructions };\n}\n\nfunction serializePredicate(p: PoClassPropertyMap) {\n  return p.cls === this;\n}\nfunction deserializePredicate(p: PoClassPropertyMap) {\n  return p.obj === this;\n}\n\n/**\n * A Target transformer is the running context of a mapper.\n * It will run the mapper, provide input and parse results\n */\nexport class TargetTransformer<T, Z> {\n  @LazyInit(function(\n    this: TargetTransformer<T, Z>\n  ): PoClassPropertyMap | undefined {\n    const idKey = this.meta.getIdentityKey();\n    if (idKey) {\n      return (this.hasOwnProperty('incoming')\n        ? this.incoming\n        : this.outgoing\n      ).instructions.find(p => p.prop.name === idKey);\n    }\n  })\n  protected identity: PoClassPropertyMap | undefined;\n\n  @LazyInit(function(this: TargetTransformer<T, Z>): CompiledTransformation {\n    return getInstructions(this.meta, 'incoming');\n  })\n  protected incoming: CompiledTransformation;\n\n  @LazyInit(function(this: TargetTransformer<T, Z>): CompiledTransformation {\n    return getInstructions(this.meta, 'outgoing');\n  })\n  protected outgoing: CompiledTransformation;\n\n  @LazyInit(function(this: TargetTransformer<T, Z>): PropertyContainer {\n    const model = this.meta.model();\n    if (model.transformStrategy === 'exclusive') {\n      return new ExclusivePropertyContainer(this.meta.target, this.incoming);\n    } else {\n      const rename = namingStrategyMap('incoming', model.transformNameStrategy)\n        ? prop => (prop.cls = model.transformNameStrategy.incoming(prop.obj))\n        : undefined;\n      return new InclusivePropertyContainer(\n        this.meta.target,\n        this.incoming,\n        deserializePredicate,\n        rename\n      );\n    }\n  })\n  protected incomingContainer: PropertyContainer;\n\n  @LazyInit(function(this: TargetTransformer<T, Z>): PropertyContainer {\n    const model = this.meta.model();\n    if (model.transformStrategy === 'exclusive') {\n      return new ExclusivePropertyContainer(this.meta.target, this.outgoing);\n    } else {\n      const rename = namingStrategyMap('outgoing', model.transformNameStrategy)\n        ? prop => (prop.obj = model.transformNameStrategy.outgoing(prop.cls))\n        : undefined;\n      return new InclusivePropertyContainer(\n        this.meta.target,\n        this.outgoing,\n        serializePredicate,\n        rename\n      );\n    }\n  })\n  protected outgoingContainer: PropertyContainer;\n\n  constructor(protected meta: TargetMetadata<T, Z>) {}\n\n  serialize(mapper: SerializeMapper): any {\n    return mapper.serialize(this.outgoingContainer);\n  }\n\n  /**\n   * Deserialize a single target.\n   * Does not support collection deserialization, if mapper is a collection will throw.\n   * @param mapper\n   * @param target\n   */\n  deserialize(mapper: DeserializeMapper, target: any): void {\n    const cb = (prop: PoClassPropertyMap) => {\n      const propMeta = (prop.prop && prop.prop.foreignKeyOf) || prop.prop;\n      target[prop.cls] = transformValueIn(\n        mapper.getValue(prop.obj, propMeta),\n        propMeta\n      );\n    };\n\n    if (isFunction(mapper.setRef)) {\n      mapper.setRef(target);\n    }\n\n    if (mapper.raw === true) {\n      this.incomingContainer.forEachRaw(mapper.getKeys(), cb);\n    } else {\n      this.incomingContainer.forEach(mapper.getKeys(), cb);\n    }\n\n    if (isFunction(mapper.getIdentity)) {\n      if (this.identity) {\n        const ident = transformValueIn(\n          mapper.getIdentity(),\n          this.identity.prop\n        );\n        if (ident) {\n          target[this.identity.cls] = ident;\n        }\n      }\n    }\n  }\n}\n","import {\n  TransformDir,\n  BaseMetadata,\n  DecoratorInfo,\n  MetaClass,\n  MetaClassMetadata,\n  MetaClassInstanceDetails\n} from '../fw';\n\nimport { targetStore } from './target-store';\nimport { PropMetadata } from './prop';\n\nexport interface ExcludeMetadataArgs {\n  /**\n   * The type of transformation to exclude from, if not set excludes from all.\n   * @optional\n   * @default undefined (all)\n   */\n  from?: TransformDir;\n}\n\ndeclare module './prop' {\n  interface PropMetadataArgs {\n    exclude?: true | ExcludeMetadataArgs;\n  }\n}\n\n// exporting to satisfy angular AOT\nexport function factory(\n  this: MetaClassMetadata<ExcludeMetadataArgs, ExcludeMetadata>,\n  metaArgs: ExcludeMetadataArgs,\n  target: Object | Function,\n  info: DecoratorInfo\n): MetaClassInstanceDetails<ExcludeMetadataArgs, ExcludeMetadata> | undefined {\n  if (info.type === 'class') {\n    targetStore.getTargetMeta(<any>target).model().transformStrategy =\n      'exclusive';\n  } else {\n    return {\n      info,\n      target: <any>target.constructor,\n      metaClassKey: ExcludeMetadata,\n      metaPropKey: info.name,\n      metaValue: new ExcludeMetadata(metaArgs, info)\n    };\n  }\n}\n\n@MetaClass<ExcludeMetadataArgs, ExcludeMetadata>({\n  allowOn: ['class', 'member'],\n  extend: 'mergeMap',\n  proxy: {\n    host: PropMetadata,\n    containerKey: 'exclude'\n  },\n  factory\n})\nexport class ExcludeMetadata extends BaseMetadata {\n  from?: TransformDir;\n\n  constructor(metaArgs: ExcludeMetadataArgs, info: DecoratorInfo) {\n    super(info);\n\n    if (metaArgs) {\n      this.from = metaArgs.from;\n    }\n  }\n}\n\n// to make it easy on generics later\ndeclare module '../fw/metadata-framework/meta-class' {\n  namespace MetaClass {\n    function get(\n      target: typeof ExcludeMetadata\n    ): MetaClassMetadata<ExcludeMetadataArgs, ExcludeMetadata>;\n  }\n}\n","import {\n  MapExt,\n  MetaClassInstanceDetails,\n  MetaClassMetadata,\n  registerHelpers,\n  extendHelpers,\n  BaseMetadata\n} from '../fw';\nimport { targetStore } from './target-store';\n\n/**\n * Registers the value as any array.\n * If array does not exists will create one and push the value into it.\n *\n * Handles both single and property style registration.\n */\nregisterHelpers.array = function<TMetaArgs, TMetaClass>(\n  this: MetaClassMetadata<TMetaArgs, TMetaClass>,\n  meta: MetaClassInstanceDetails<TMetaArgs, TMetaClass>\n): void {\n  const propKey: any = this.metaArgs.single === true ? true : meta.metaPropKey;\n\n  let curr: any[] = <any>targetStore.getMetaFor(\n    meta.target,\n    meta.metaClassKey,\n    propKey\n  );\n  if (!curr) {\n    targetStore.setMetaFor(\n      meta.target,\n      meta.metaClassKey,\n      propKey,\n      (curr = [])\n    );\n  }\n\n  curr.push(meta.metaValue);\n};\n\nextendHelpers.mergeMap = function<T>(\n  from: Map<TdmPropertyKey, T>,\n  to: Map<TdmPropertyKey, T> | undefined\n): Map<TdmPropertyKey, T> {\n  return to\n    ? MapExt.mergeInto(to, from)\n    : new Map<TdmPropertyKey, T>(from.entries());\n};\n\nextendHelpers.mergeMapArray = function<T extends BaseMetadata>(\n  from: Map<TdmPropertyKey, T[]>,\n  to: Map<TdmPropertyKey, T[]> | undefined\n): Map<TdmPropertyKey, T[]> {\n  if (!to) {\n    to = new Map<TdmPropertyKey, T[]>();\n  }\n\n  MapExt.asKeyValArray(from).forEach(([k, v]) => {\n    if (!to.has(k)) {\n      to.set(k, v.slice());\n    } else {\n      const arrFrom = v;\n      const arrTo = to.get(k);\n      for (let metaClass of arrFrom) {\n        if (!arrTo.some(a => a.name === metaClass.name)) {\n          arrTo.push(metaClass);\n        }\n      }\n    }\n  });\n\n  return to;\n};\n\ndeclare module '../fw/metadata-framework/types' {\n  interface MetaClassRegisterHelpers {\n    /**\n     * Registers the value as any array.\n     * If array does not exists will create one and push the value into it.\n     *\n     * Handles both single and property style registration.\n     */\n    array<TMetaArgs, TMetaClass>(\n      this: MetaClassMetadata<TMetaArgs, TMetaClass>,\n      meta: MetaClassInstanceDetails<TMetaArgs, TMetaClass>\n    ): void;\n  }\n\n  interface MetaClassExtendHelpers {\n    /**\n     * Extend the type by merging the map from the source (from) onto the map of destination (to).\n     * In case properties exist on both, will override from destination.\n     * If destination does not exist, it's a shallow copy of the map.\n     */\n    mergeMap<T>(\n      from: Map<TdmPropertyKey, T>,\n      to: Map<TdmPropertyKey, T> | undefined\n    ): Map<TdmPropertyKey, T>;\n\n    mergeMapArray<T extends BaseMetadata>(\n      from: Map<TdmPropertyKey, T[]>,\n      to: Map<TdmPropertyKey, T[]> | undefined\n    ): Map<TdmPropertyKey, T[]>;\n  }\n}\n","export * from './model-metadata';\nexport * from './target-store';\nexport * from './prop';\nexport * from './type';\nexport * from './relation';\nexport { ExcludeMetadata, ExcludeMetadataArgs } from './exclude';\nexport * from './target-metadata';\n","import {\n  LazyInit,\n  Constructor,\n  TransformFn,\n  propAliasConfig,\n  PropAliasConfig,\n  propTransformConfig,\n  PropTransformConfig,\n  BaseMetadata,\n  DecoratorInfo,\n  MetaClass,\n  MetaClassMetadata\n} from '../fw';\n\nimport { targetStore } from './target-store';\nimport { RelationMetadata } from './relation';\nimport { TypeMetadata, TypeMetadataArgs } from './type';\n\nexport interface PropMetadataArgs {\n  alias?: string | Partial<PropAliasConfig>;\n  transform?: TransformFn | Partial<PropTransformConfig>;\n\n  /**\n   * A Getter function that returns the type of the property.\n   * In most cases, the framework will identify the type using the metadata supplied by TypeScript.\n   * However, in some scenarios it is not possible to detect the type, the most common are:\n   *\n   * A) Circular module dependency, i.e. where A import B and B import A. Especially common in related types.\n   *    From 2 circular dependencies, the first one to load will not know the type of the 2nd.\n   *\n   * B) When using \"this\" type. TypeScript will emit the type \"Object\" when using this so it is not\n   *    known and the user must supply it.\n   *\n   * C) When using \"any\" type. TypeScript will emit the type \"Object\" when using this so it is not\n   *    known and the user must supply it.\n   *\n   * D): When the type T in an Array of T, TypeScript will emit the type Array without the array\n   *     element type. https://github.com/Microsoft/TypeScript/issues/7169\n   */\n  type?: TypeMetadataArgs;\n}\n\n@MetaClass<PropMetadataArgs, PropMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap'\n})\nexport class PropMetadata extends BaseMetadata {\n  alias: PropAliasConfig;\n  transform?: Partial<PropTransformConfig>;\n\n  @LazyInit(function(this: PropMetadata) {\n    // get the type information.\n    // 3 options:\n    // 1. User set the @Type decorator, so we will find it in the metadata store\n    // 2. User the the 'type' property in PropMetadataArgs which will mimic @Type in the PropMetadata constructor\n    // 3. Auto resolve, we will create a new instance with no getter.\n    return (\n      targetStore.getMetaFor(this.target, TypeMetadata, this.name) ||\n      new TypeMetadata(this.typeArgs, this.decoratorInfo, this.target)\n    );\n  })\n  type: TypeMetadata;\n\n  relation: RelationMetadata | undefined;\n  foreignKeyOf?: PropMetadata;\n\n  private typeArgs?: TypeMetadataArgs;\n\n  constructor(\n    obj: PropMetadataArgs | undefined,\n    info: DecoratorInfo,\n    private target: Constructor<any>\n  ) {\n    super(info);\n\n    if (!obj) {\n      obj = {};\n    }\n\n    // TODO: throw if name is not a string (can be symbol)\n    this.alias = propAliasConfig(obj.alias, info.name as any);\n\n    if (obj.transform) {\n      this.transform = propTransformConfig(obj.transform);\n    }\n\n    if (obj.type) {\n      this.typeArgs = obj.type;\n    }\n  }\n\n  setRelationship(rel: RelationMetadata): void {\n    if (!this.type.isGetter) {\n      if (\n        !this.type.ref ||\n        this.type.ref === Object ||\n        this.type.ref === Array\n      ) {\n        throw new Error(\n          `Property ${\n            this.decoratorInfo.name\n          } with relation but without a type, please set a type.`\n        );\n      }\n    }\n\n    this.relation = rel;\n  }\n}\n\n// to make it easy on generics later\ndeclare module '../fw/metadata-framework/meta-class' {\n  namespace MetaClass {\n    function get(\n      target: typeof PropMetadata\n    ): MetaClassMetadata<PropMetadataArgs, PropMetadata>;\n  }\n}\n","import { BaseMetadata, DecoratorInfo, MetaClass } from '../fw';\n\nexport interface RelationMetadataArgs {\n  /**\n   * The foreign key (property name) that points to the id of the resource belonged to.\n   * If not set, the current property name is used.\n   *\n   * For example, on a Customer object, if the foreign key is customerId and you would like to use\n   * the \"customer\" property, set the foreignKey to \"customerId\"\n   */\n  foreignKey?: string;\n}\n\n@MetaClass<RelationMetadataArgs, RelationMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap'\n})\nexport class RelationMetadata extends BaseMetadata {\n  foreignKey: string;\n\n  constructor(obj: RelationMetadataArgs | undefined, info: DecoratorInfo) {\n    super(info);\n\n    this.foreignKey = (obj && obj.foreignKey) || (info.name as any);\n  }\n}\n\n// to make it easy on generics later\n// declare module '../fw/metadata-framework/meta-class' {\n//   module MetaClass {\n//     function get(target: typeof RelationMetadata): MetaClassMetadata<RelationMetadataArgs, RelationMetadata>;\n//   }\n// }\n","import {\n  Constructor,\n  DualKeyMap,\n  BaseMetadata,\n  isString,\n  GLOBAL_KEY,\n  MetadataClassStatic\n} from '../fw';\n\nimport { targetStore } from './target-store';\n// import { PropMetadata } from './prop';\nimport { TDMCollection } from '../model';\n\n/**\n * The metadata store for a target.\n *\n * Each target in the {@link TargetStore} has a matching TargetMetadata instance.\n * Each instance holds all the metadata data registered under that target.\n *\n * @pluginApi\n */\nexport class TargetMetadata<T = any, Z = any> {\n  protected config: DualKeyMap<Constructor<any>, TdmPropertyKey, any>;\n\n  constructor(\n    public readonly target: Z & Constructor<T>,\n    config: DualKeyMap<MetadataClassStatic, TdmPropertyKey, any>\n  ) {\n    this.config = config;\n  }\n\n  /**\n   * Returns an array of values represented by the key.\n   * If the key has no values returns an empty array.\n   *\n   * This is a safe metadata collection extractor.\n   * @param type\n   * @returns\n   */\n  getValues<T, Z>(type: T & Constructor<Z>): Array<Z> {\n    const values = this.config.get(type);\n    return values ? Array.from(values.values()) : [];\n  }\n\n  /**\n   * Get the whole map of non-single metadata class\n   */\n  getMetaFor<T extends MetadataClassStatic, Z extends BaseMetadata>(\n    metaClass: T & Constructor<Z>\n  ): Map<TdmPropertyKey, Z> | undefined;\n  /**\n   * Get metadata for a single value metadata class\n   */\n  getMetaFor<T extends MetadataClassStatic, Z extends BaseMetadata>(\n    metaClass: T & Constructor<Z>,\n    single: true\n  ): Z | undefined;\n  /**\n   * Get metadata for a non-single value metadata class\n   */\n  getMetaFor<T extends MetadataClassStatic, Z extends BaseMetadata>(\n    metaClass: T & Constructor<Z>,\n    name: string\n  ): Z | undefined;\n  getMetaFor<T extends MetadataClassStatic, Z extends BaseMetadata>(\n    metaClass: T & Constructor<Z>,\n    name?: string | true\n  ): Z | undefined {\n    if (isString(name)) {\n      const meta = this.config.get(metaClass);\n      if (meta) {\n        return meta.get(name);\n      }\n    } else if (name === true) {\n      const meta = this.config.get(GLOBAL_KEY);\n      if (meta) {\n        return meta.get(<any>metaClass);\n      }\n    } else {\n      return this.config.get(metaClass) as any;\n    }\n  }\n\n  /**\n   * Set metadata for a single metadata class\n   */\n  setMetaFor<T, ZValue = T>(\n    metaClass: MetadataClassStatic<T>,\n    value: ZValue\n  ): void;\n  /**\n   * Set metadata for a non-single metadata class\n   */\n  setMetaFor<T, ZValue = T>(\n    metaClass: MetadataClassStatic<T>,\n    name: string,\n    value: ZValue\n  ): void;\n  setMetaFor<T, ZValue = T>(\n    metaClass: MetadataClassStatic<T>,\n    name: string | ZValue,\n    value?: ZValue\n  ): void {\n    // TODO: don't go to target-store for this, implement here\n    if (isString(name)) {\n      targetStore.setMetaFor(this.target, metaClass, name, value);\n    } else {\n      targetStore.setMetaFor(this.target, metaClass, true, name);\n    }\n  }\n\n  /**\n   * Create a new instance of the TDMCollection for this type.\n   * @returns\n   */\n  createCollection(): TDMCollection<T> {\n    return new TDMCollection<T>();\n  }\n\n  // protected get<T, Z, P extends keyof T>(type: T & Constructor<Z>, key: P): Z {\n  //   return this.config.get(PropMetadata, key);\n  // }\n}\n","import { Constructor, isUndefined } from '../fw/utils';\nimport { KeySet, SetExt, MapExt, DualKeyMap } from '../fw/set-map-ext';\nimport {\n  MetaClass,\n  MetadataClassStatic,\n  MetaClassInstanceDetails,\n  GLOBAL_KEY\n} from '../fw/metadata-framework';\nimport { targetEvents, TargetEvents } from '../fw/events';\n\nimport { TargetMetadata } from './target-metadata';\n\n/**\n * The global type registry.\n *\n * Hold {@link TargetMetadata} for models.\n *\n * @pluginApi\n * @mixable\n * @singleton\n */\nexport class TargetStore {\n  /**\n   * register listeners for metadata lifecycle events on a target.\n   * @returns\n   */\n  get on(): TargetEvents {\n    return targetEvents;\n  }\n\n  /**\n   * Storage for local, non target specific, data.\n   */\n  protected locals: KeySet<any, any>;\n  protected namedTargets: Map<string, Constructor<any>>;\n  protected targets: Map<\n    Constructor<any>,\n    DualKeyMap<MetadataClassStatic, TdmPropertyKey, any>\n  >;\n  protected builtTargets: Map<Constructor<any>, TargetMetadata>;\n\n  protected constructor() {\n    // support for post instantiation mixins on the prototype (plugins) - don't use new.\n    TargetStore.create(this);\n  }\n\n  /**\n   * Returns a single local item.\n   * @param key\n   * @param index optional, if not set returns the first.\n   * @returns\n   */\n  protected local<T>(key: any, index: number = 0): T | undefined {\n    const set = this.locals.get(key);\n    if (set) {\n      return SetExt.index(set, index);\n    }\n  }\n\n  hasTarget(target: any): boolean {\n    return this.targets.has(target);\n  }\n\n  /**\n   * Returns the target metadata of all models registered. (targets with ModelMetadata or derived)\n   * Only built models are returned, with valid ModelMetadata instances.\n   * Do not call this method from a decorator.\n   */\n  getAllModels(): TargetMetadata[] {\n    return Array.from(this.builtTargets.values()).filter(\n      tMeta => tMeta.hasModel\n    );\n  }\n\n  findTarget(name: string): Constructor<any> | undefined {\n    return this.namedTargets.get(name);\n  }\n\n  getMetaFor<T, Z>(\n    target: Constructor<any>,\n    metaClass: T & Constructor<Z>\n  ): Map<TdmPropertyKey, Z> | undefined;\n  getMetaFor<T, Z>(\n    target: Constructor<any>,\n    metaClass: T & Constructor<Z>,\n    single: true\n  ): Z | undefined;\n  getMetaFor<T, Z, P extends keyof Z>(\n    target: Constructor<any>,\n    metaClass: T & Constructor<Z>,\n    single: true,\n    singleKey: P\n  ): Z[P] | undefined;\n  getMetaFor<T, Z>(\n    target: Constructor<any>,\n    metaClass: T & Constructor<Z>,\n    name: TdmPropertyKey\n  ): Z | undefined;\n  getMetaFor<T, Z>(\n    target: Constructor<any>,\n    metaClass: T & Constructor<Z>,\n    name?: TdmPropertyKey | true,\n    singleKey?: any\n  ): Z | Map<TdmPropertyKey, Z> | undefined {\n    const dkm = this.targets.get(target);\n    if (dkm) {\n      if (name === true) {\n        const v = dkm.get(GLOBAL_KEY, <any>metaClass);\n        return v && singleKey ? v[singleKey] : v;\n      } else if (name) {\n        return dkm.get(metaClass, name);\n      } else {\n        return dkm.get(metaClass);\n      }\n    }\n  }\n\n  setMetaFormFactory<T>(meta: MetaClassInstanceDetails<any, any>): void {\n    if (meta) {\n      if (meta.metaPropKey === GLOBAL_KEY) {\n        this.set<any, any, any>(\n          meta.target,\n          GLOBAL_KEY,\n          meta.metaClassKey,\n          meta.metaValue\n        );\n      } else {\n        this.setMetaFor(\n          meta.target,\n          meta.metaClassKey,\n          meta.metaPropKey,\n          meta.metaValue\n        );\n      }\n    }\n  }\n\n  setMetaFor<T, ZValue = T>(\n    target: Constructor<any>,\n    metaClass: MetadataClassStatic<T>,\n    single: true,\n    value: ZValue\n  ): void;\n  setMetaFor<T, ZValue = T>(\n    target: Constructor<any>,\n    metaClass: MetadataClassStatic<T>,\n    name: string,\n    value: ZValue\n  ): void;\n  setMetaFor<T, ZValue = T>(\n    target: Constructor<any>,\n    metaClass: MetadataClassStatic<T>,\n    name: string | true,\n    value: ZValue\n  ): void {\n    if (name === true) {\n      this.set<any, any, any>(target, GLOBAL_KEY, metaClass, value);\n    } else {\n      this.set(target, metaClass, name, value);\n    }\n  }\n\n  /**\n   * Registers the target in the store, does not build.\n   * Used for targets without metadata\n   * @param target\n   */\n  registerTarget(target: Constructor<any>): void {\n    if (!this.hasTarget(target)) {\n      this.targets.set(\n        target,\n        new DualKeyMap<MetadataClassStatic, TdmPropertyKey, any>()\n      );\n    }\n  }\n\n  /**\n   * Extends metadata from one target to the other.\n   * Extending types will not trigger a metadata instantiation.\n   * @param from\n   * @param to\n   */\n  extend(from: Constructor<any>, to: Constructor<any>): void {\n    if (!this.hasTarget(from) || !this.hasTarget(to)) {\n      throw new Error('Target not registered.');\n    }\n\n    const fromTarget = this.targets.get(from);\n    const toTarget = this.targets.get(to);\n    Array.from(fromTarget.keys()).forEach(clsKey => {\n      if (clsKey === GLOBAL_KEY) {\n        const singleTypes = fromTarget.get(clsKey);\n        const toSingleTypes = toTarget.get(clsKey) || new Map<any, any>();\n\n        MapExt.asKeyValArray(singleTypes).forEach(([type, instance]) => {\n          // type is a class, using <any> since for TS its a TdmPropertyKey\n          const metaClass = MetaClass.get(<any>type);\n          if (metaClass.extendSingle) {\n            const toInstance = toSingleTypes.get(<any>type);\n            const value = metaClass.extendSingle(instance, toInstance, {\n              from,\n              to\n            });\n            if (!isUndefined(value)) {\n              toSingleTypes.set(<any>type, <any>value);\n            }\n          }\n        });\n\n        if (toSingleTypes.size > 0) {\n          toTarget.set(clsKey, toSingleTypes);\n        }\n      } else {\n        const metaClass = MetaClass.get(clsKey);\n        if (metaClass.extend) {\n          const value = metaClass.extend(\n            fromTarget.get(clsKey),\n            toTarget.get(clsKey),\n            { from, to }\n          );\n          if (!isUndefined(value)) {\n            toTarget.set(clsKey, value);\n          }\n        }\n      }\n    });\n  }\n\n  protected set<T, Z, P extends keyof T>(\n    target: Constructor<any>,\n    k: Z & Constructor<T>,\n    k1: P,\n    v: T[P]\n  ): T[P] {\n    // TODO: implement LRU since most values are set sequentially on the same target.\n    let dkm = this.targets.get(target);\n\n    if (!dkm) {\n      this.targets.set(\n        target,\n        (dkm = new DualKeyMap<MetadataClassStatic, TdmPropertyKey, any>())\n      );\n    }\n\n    dkm.set(k as any, k1, v as any);\n\n    return v;\n  }\n\n  /**\n   * Creates a new TargetStore instance.\n   * @param instance optional, used internally\n   * @returns\n   */\n  static create(instance?: TargetStore): TargetStore {\n    const targetStore: TargetStore =\n      instance || Object.create(TargetStore.prototype);\n\n    targetStore.locals = new KeySet<any, any>();\n    targetStore.namedTargets = new Map<string, Constructor<any>>();\n    targetStore.targets = new Map<\n      Constructor<any>,\n      DualKeyMap<MetadataClassStatic, TdmPropertyKey, any>\n    >();\n    targetStore.builtTargets = new Map<Constructor<any>, TargetMetadata>();\n\n    return targetStore;\n  }\n}\n\nexport const targetStore: TargetStore = TargetStore.create();\nMetaClass.defaultRegistrator(meta => targetStore.setMetaFormFactory(meta));\n\nimport './helpers';\n","import {\n  reflection,\n  isFunction,\n  Constructor,\n  BaseMetadata,\n  DecoratorInfo,\n  MetaClass\n} from '../fw';\n\nexport interface TypeDefinition {\n  /**\n   * The type or a forward reference (getter) for the type.\n   * If not set, Object is set as the default type\n   */\n  ref?: (() => Constructor<any>) | Constructor<any>;\n\n  /**\n   * If true, ref should be treated as a getter to the type.\n   */\n  forwardRef?: true;\n\n  /**\n   * Is actual type an array of the type in ref?\n   */\n  isArray?: boolean;\n}\n\n/**\n * Custom type definitions for a property.\n *\n * In most cases custom type definition are not needed, however due to the way typescript defines\n * the type information there are some edge cases where a manual type definition is required:\n *\n * A) Circular module dependency, i.e. where A import B and B import A. Especially common in related types.\n *    From 2 circular dependencies, the first one to load will not know the type of the 2nd.\n *    A similar scenario also happens when 2 (or more) classes are defined on the same file and a class (A)\n *    defined before of an other class (B). If class A has a property of type class B then the type information\n *    for B will be undefined since at the point of executing the decorator code B is undefined, this is plain JS.\n *\n * B) When using \"this\" type. TypeScript will emit the type \"Object\" when using this so it is not\n *    known and the user must supply it.\n *\n * C) When using \"any\" type. TypeScript will emit the type \"Object\" when using this so it is not\n *    known and the user must supply it.\n *\n * D): When the type T in an Array of T, TypeScript will emit the type Array without the array\n *     element type. https://github.com/Microsoft/TypeScript/issues/7169\n *\n * A type definition supports 2 type of references to a type:\n *   1. Forward reference\n *   2. Direct reference\n *\n * Forward reference is simple a function that returns the type, a simple getter. It comes to solve\n * the problem described in A.\n *\n * Direct reference is for all other use cases, the type definition points to the type directly.\n *\n * ```ts\n * class MyClass {}\n *\n * // Forward Reference:\n * { ref: () => MyClass, forwardRef: true }\n *\n * // Direct Reference:\n * { ref: MyClass }\n * ```\n *\n * Since `() => MyClass` and `MyClass` are both functions it is required to specify `forwardRef: true`,\n * if not the library will treat `ref` as the type.\n *\n * Since using `forwardRef` is common a shortcut can be used, instead of defining an object, just provide\n * a function, the library will convert it into a forward reference type definition.\n *\n * ```ts\n * class MyClassA {\n *   @Prop({ type: () => MyClassB }) myClassB: MyClassB;\n * }\n *\n * class MyClassB {}\n * ```\n * In the example above, `{ type: () => MyClassB }` is equivalent to `{ ref: () => MyClassB, forwardRef: true }`\n *\n *\n * ### Arrays\n * In TS arrays are used with type parameters (generic) that define the type used within an array.\n * Currently, TS will not emit the type parameter and will only emit the Array type.\n *\n * ```ts\n * class MyClass {\n *   myArray: string[];\n * }\n * ```\n * In the example above the reflected type is `Array` and not `String`.\n *\n * To workaround this issue you can specify if the type is an array in the type definition.\n * If `isArray` is not explicitly specified the value is taken from the type system. i.e. if the\n * reflected type is `Array` then `isArray` is considered true. This is also true when using the forward reference shortcut.\n *\n * If no type definition is set and the reflected type is `Array` then the final defined type will be Array<Object>.\n *\n *\n * ```ts\n * class MyClassA {\n *   @Prop({ type: () => MyClassB }) myClassB: MyClassB[];\n *   @Prop() myClassB_1: MyClassB[];\n *\n *   @Type({ type: {ref: String} }) @Prop() myString: string[];\n *   @Prop({ type: {ref: String, isArray: true} }) myString_1: string;\n *   @Prop() myString_2: string[];\n * }\n *\n * class MyClassB {}\n * ```\n *  myClassB: `{ ref: () => MyClassB, forwardRef: true, isArray: true }`\n *  myClassB_1: `{ ref: Object, isArray: true }`\n *  myString: `{ ref: String, isArray: true }`\n *  myString_1: `{ ref: String, isArray: true }`\n *  myString_2: `{ ref: Object, isArray: true }`\n *\n *  Note that explicitly set type definitions override reflected type definitions.\n */\nexport type TypeMetadataArgs = { (): Constructor<any> } | TypeDefinition;\n\n@MetaClass<TypeMetadataArgs, TypeMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap'\n})\nexport class TypeMetadata extends BaseMetadata {\n  readonly ref: Constructor<any>;\n  readonly isArray?: boolean;\n  readonly isGetter?: boolean;\n\n  constructor(\n    metaArgs: TypeMetadataArgs,\n    info: DecoratorInfo,\n    target?: Constructor<any>\n  ) {\n    super(info);\n\n    const type = target\n      ? reflection.designType(target.prototype, this.name as any)\n      : Object;\n\n    let def: TypeDefinition;\n    if (isFunction(metaArgs)) {\n      def = { ref: metaArgs, forwardRef: true, isArray: type === Array };\n    } else if (metaArgs) {\n      def = metaArgs;\n      if (!def.hasOwnProperty('isArray')) {\n        def.isArray = type === Array;\n      }\n      if (!def.ref) {\n        def.ref = def.forwardRef === true ? () => Object : Object;\n      }\n    } else {\n      def = { ref: type === Array ? Object : type, isArray: type === Array };\n    }\n\n    this.isArray = def.isArray;\n\n    if (def.forwardRef === true) {\n      // WHY configurable: true -> see @tdm/data -> meta-class extension\n      Object.defineProperty(this, 'ref', {\n        configurable: true,\n        get: <any>def.ref\n      });\n      this.isGetter = true;\n    } else {\n      this.ref = <any>def.ref;\n    }\n  }\n}\n","export * from './tdm-collection';\nexport * from './tdm-model';\n","import { Tixin } from '@tdm/tixin';\nimport { targetStore } from '../metadata/target-store';\nimport { Constructor } from '../fw';\n\nconst TDMCollectionMark = Symbol('TDMCollection instance mark');\nconst NON_EXTENDABLE_PROPS = ['constructor'];\n\nconst pCopyMap = new Map<any, Array<string | symbol>>();\n\nfunction buildAndCacheProperties(proto: any) {\n  const propertiesToCopy = Object.getOwnPropertyNames(proto)\n    .concat(Object.getOwnPropertySymbols(proto) as any)\n    .filter(v => NON_EXTENDABLE_PROPS.indexOf(v) === -1);\n\n  pCopyMap.set(proto, propertiesToCopy);\n}\n\nfunction runtimeExtend(proto: any, thisVar: Array<any>): any {\n  const propertiesToCopy = pCopyMap.get(proto) || [];\n\n  thisVar[TDMCollectionMark] = true;\n\n  for (let i = 0, len = propertiesToCopy.length; i < len; i++) {\n    const name = propertiesToCopy[i];\n    const propDesc = Object.getOwnPropertyDescriptor(proto, name);\n    if (propDesc) {\n      Object.defineProperty(thisVar, name, propDesc);\n    } else {\n      thisVar[name] = proto[name];\n    }\n  }\n}\n\n// TODO: document the class and how to use it. explain about methods that return new instance (concat, reverse, etc) that return Array instance and not ActiveRecordCollection instance.\n// TODO: override ref changing methods? throw on them? return ActiveRecordCollection on them?\nexport class TDMCollection<\n  T /* extends ActiveRecord<any, any> */\n> extends Array<T> {\n  constructor() {\n    super();\n    runtimeExtend(TDMCollection.prototype, this);\n  }\n\n  static extend(type: any): void {\n    Tixin(TDMCollection as any, type);\n    buildAndCacheProperties(TDMCollection.prototype);\n  }\n\n  static instanceOf(instance: any): instance is TDMCollection<any> {\n    return instance[TDMCollectionMark] === true;\n  }\n\n  /**\n   * Creates a new instance of TDMCollection.\n   * If a type is specified, returns the TDMCollection class for that type.\n   * It is recommended to use this method along with a type to ensure plugins functionality.\n   * @param type\n   */\n  static create<T>(type?: Constructor<T>): TDMCollection<T> {\n    if (!type) {\n      return new TDMCollection<any>();\n    } else {\n      return targetStore.getTargetMeta(type).createCollection();\n    }\n  }\n\n  /**\n   * Creates a new TDMCollection class mixed in with the proto object.\n   * @param proto An object literal used as a mixin to the TDMCollection prototype.\n   * @returns\n   */\n  static factory<T>(\n    proto: any\n  ): typeof TDMCollection & Constructor<TDMCollection<T>> {\n    const clz = class RuntimeTDMCollection<T> extends TDMCollection<T> {\n      constructor() {\n        super();\n        runtimeExtend(clz.prototype, this);\n      }\n\n      static extend(type: any): void {\n        Tixin(TDMCollection as any, type);\n        buildAndCacheProperties(clz.prototype);\n      }\n    };\n\n    Object.defineProperty(clz, Symbol.hasInstance, {\n      value: clz.instanceOf\n    });\n\n    Object.assign(clz.prototype, proto);\n    buildAndCacheProperties(clz.prototype);\n\n    return clz;\n  }\n}\n\nObject.defineProperty(TDMCollection, Symbol.hasInstance, {\n  value: TDMCollection.instanceOf\n});\n\nbuildAndCacheProperties(TDMCollection.prototype);\n","import { TixinFree } from '@tdm/tixin';\nimport { Constructor } from '../fw';\nimport { MapperFactory } from '../mapping/mapper';\n\nconst TDMModelMark = Symbol('TDMModel instance mark');\n\nexport interface TDMModel<T> {}\n\nexport class TDMModelBase<T> implements TDMModel<T> {\n  toString(): string {\n    return this.constructor.name;\n  }\n\n  // SEE IMPLEMENTATION IN src/@tdm/core/src/core.ts\n  /**\n   * Clone's (deep) the resource.\n   * This is a deep clone done using serialization -> deserialization, which means that all rules apply (i.e @Exclude)\n   *\n   * @param resource the resource (instance) to clone\n   * @param mapperFactory Optional, The [[MapperFactory]] to use, defaults to [[directMapper]].\n   */\n  static clone: <T>(resource: T, mapperFactory?: MapperFactory) => T;\n\n  static instanceOf(instance: any): instance is TDMModelBase<any> {\n    return instance[TDMModelMark] === true;\n  }\n\n  static factory<T, Z>(\n    model: Z & Constructor<T>\n  ): Z & Constructor<TDMModelBase<T>> {\n    class TDModel extends (model as Constructor<{}>) {}\n\n    Object.defineProperty(TDModel, 'name', {\n      configurable: true,\n      value: model.name\n    });\n    Object.defineProperty(TDModel, Symbol.hasInstance, {\n      value: TDMModelBase.instanceOf\n    });\n\n    TixinFree(TDModel, TDMModelBase, 'proto');\n\n    // TODO: copy other TS reflection info\n    const paramTypes = (Reflect as any).getOwnMetadata(\n      'design:paramtypes',\n      model\n    );\n    (Reflect as any).defineMetadata('design:paramtypes', paramTypes, TDModel);\n\n    return TDModel as any;\n  }\n}\n\nObject.defineProperty(TDMModelBase.prototype, TDMModelMark, { value: true });\n","export * from './type-helpers';\n\nexport {\n  errors,\n  Errors,\n  Constructor,\n  TransformDir,\n  TransformFn,\n  TransformStrategy,\n  NamingStrategyConfig,\n  stringify,\n  isNumber,\n  isString,\n  isFunction,\n  isUndefined,\n  isJsObject,\n  isPrimitive,\n  LazyInit,\n  DualKeyMap,\n  SetExt,\n  KeySet,\n  MapExt,\n  ensureTargetIsType,\n  MetadataAllowOn,\n  setMetaHelper,\n  MetaClassRegisterHelpers,\n  MetaClassExtendHelpers,\n  BaseMetadata,\n  BaseParamMetadata,\n  DecoratorInfo,\n  TargetEvents,\n  lazyRef,\n  getBaseClass,\n  getProtoChain,\n  reflection,\n  ProxyHostMetadataArgs,\n  MetaClassMetadataArgs,\n  MetaClassMetadata,\n  MetaClass,\n  MetadataClassStatic,\n  MetadataCurriedCreate,\n  MetaClassInstanceDetails\n} from './fw/index';\n\nexport {\n  ModelMetadataArgs,\n  TypeDefinition,\n  TypeMetadataArgs,\n  PropMetadataArgs,\n  RelationMetadataArgs,\n  ExcludeMetadataArgs,\n  TypeMetadata,\n  PropMetadata,\n  ExcludeMetadata,\n  RelationMetadata,\n  TargetStore,\n  TargetMetadata,\n  targetStore\n} from './metadata/index';\n\nexport {\n  directMapper,\n  TransformationError,\n  DirectSerializeMapper,\n  DirectDeserializeMapper,\n  MapperFactory,\n  DeserializeMapper,\n  SerializeMapper,\n  PropertyContainer,\n  PoClassPropertyMap,\n  transformValueOut,\n  PlainObjectMapper\n} from './mapping/index';\n\nexport { TDMCollection, TDMModel, TDMModelBase } from './model/index';\n\nexport { Model, ModelMetadata, processModel } from './add/model/index';\n\nimport './add/target-store';\nimport { initMapping } from './add/mapping';\ninitMapping();\nimport './add/mapping'; // we need this for d.ts export, the 2 rows above are not set in d.ts)\n\n// tslint:disable-next-line:no-namespace\ndeclare global {\n  type TdmPropertyKey = string | symbol;\n}\n","/*\n       * Public API Surface of mylib\n       */\nexport * from './lib/data';\n","import { TDMModel } from '@tdm/core';\nimport { DAOMethodType } from '../dao/index';\nimport { ResourceControl } from '../resource-control';\n\nexport interface ARMethodType {\n  $create: any;\n  $update: any;\n  $replace: any;\n  $remove: any;\n  $get: any;\n}\n\nexport type ARMethods = { [P in keyof ARMethodType]: any };\n\n/**\n * String enumeration of active record object methods\n */\nexport const ARMethods: ARMethodType = <any>{\n  // Keep this any, or 3rd party extending of ARMethodType will fail\n  $create: '$create',\n  $update: '$update',\n  $replace: '$replace',\n  $remove: '$remove',\n  $get: '$get'\n};\n\nexport type ARHookableMethods = keyof ARMethodType | keyof DAOMethodType;\n\nexport interface ARHookRule {\n  type: 'both' | 'static' | 'instance';\n}\n\nexport const ARHooks: { [P in ARHookableMethods]: ARHookRule } = {\n  $create: { type: 'instance' },\n  $update: { type: 'instance' },\n  $replace: { type: 'instance' },\n  $remove: { type: 'instance' },\n  $get: { type: 'instance' },\n\n  findById: { type: 'static' },\n\n  find: { type: 'static' },\n  findOne: { type: 'static' },\n\n  query: { type: 'static' },\n  findAll: { type: 'static' },\n\n  create: { type: 'static' },\n  update: { type: 'static' },\n  replace: { type: 'static' },\n  remove: { type: 'static' },\n\n  /**\n   * Clear the whole table representing a resource.\n   */\n  clear: { type: 'static' }\n};\n\nexport type ARInterface<T, Z> = TDMModel<T> &\n  { [P in keyof typeof ARMethods]: (options?: Z) => ResourceControl<T> };\n","import { isNumber, errors } from '@tdm/core/tdm';\nimport { ValidationContext } from './fw';\n\nconst undef = undefined;\n\nfunction isTypeof(value, type: any): boolean {\n  switch (type) {\n    case Boolean:\n      return typeof value === 'boolean';\n    case String:\n      return typeof value === 'string';\n    case Number:\n      return typeof value === 'number';\n    default:\n      return false;\n  }\n}\n\n/**\n * Validates that the value is declared on the object, i.e. hasOwnProperty\n * The value can be undefined, null or any other falsy expression.\n *\n */\nexport const declared = {\n  name: 'declared',\n  validate(ctx: ValidationContext): boolean {\n    return ctx.target.hasOwnProperty(ctx.member);\n  },\n  errorMessage(ctx: ValidationContext) {\n    return `Property ${ctx.member} is not declared`;\n  }\n};\n\n/**\n * Validates that the value is present, i.e. the value is not undefined and not null.\n */\nexport const required = {\n  name: 'required',\n  validate(ctx: ValidationContext): boolean {\n    return ctx.value !== undef && ctx.value !== null;\n  },\n  errorMessage(ctx: ValidationContext) {\n    return `Property ${ctx.member} is required`;\n  }\n};\n\n/**\n * Checks if the value is an instance of it's type.\n * If instanceOf check fails and the type is Boolean, String or Number and additional check is done\n * using the typeof operator.\n */\nexport const instanceOf = {\n  name: 'instanceOf',\n  validate(ctx: ValidationContext): boolean {\n    return ctx.value instanceof ctx.type || isTypeof(ctx.value, ctx.type);\n  },\n  errorMessage(ctx: ValidationContext) {\n    return `Property ${ctx.member} is not an instance of ${ctx.type.name}`;\n  }\n};\n\n/**\n * Validates that the value is greater than or equal to the minimum.\n * Does not validate that value is a number.\n */\nexport class Min {\n  readonly name = 'minimum';\n\n  constructor(private min: number) {\n    if (!isNumber(min)) {\n      errors.throw.validationConfig(this.name, 'input \"min\" is not a number');\n    }\n  }\n\n  validate(ctx: ValidationContext): boolean {\n    return ctx.value >= this.min;\n  }\n\n  errorMessage(ctx: ValidationContext) {\n    return `Property ${ctx.member} must be greater than or equal to ${\n      this.min\n    }`;\n  }\n}\n\n/**\n * Validates that the value is less than or equal to the maximum.\n * Does not validate that value is a number.\n */\nexport class Max {\n  readonly name = 'maximum';\n\n  constructor(private max: number) {\n    if (!isNumber(max)) {\n      errors.throw.validationConfig(this.name, 'input \"max\" is not a number');\n    }\n  }\n\n  validate(ctx: ValidationContext): boolean {\n    return ctx.value <= this.max;\n  }\n\n  errorMessage(ctx: ValidationContext) {\n    return `Property ${ctx.member} must be less than or equal to ${this.max}`;\n  }\n}\n\n/**\n * Validates that the value is between (but not equal to) the minimum and maximum.\n * Does not validate that value is a number.\n */\nexport class Between {\n  readonly name = 'between';\n\n  constructor(private min: number, private max: number) {\n    if (!isNumber(min)) {\n      errors.throw.validationConfig(this.name, 'input \"min\" is not a number');\n    }\n    if (!isNumber(max)) {\n      errors.throw.validationConfig(this.name, 'input \"max\" is not a number');\n    }\n  }\n\n  validate(ctx: ValidationContext): boolean {\n    return ctx.value > this.min && ctx.value < this.max;\n  }\n\n  errorMessage(ctx: ValidationContext) {\n    return `Property ${ctx.member} must be between ${this.min} and ${this.max}`;\n  }\n}\n\nexport const validators = {\n  declared,\n  required,\n  instanceOf,\n  Min,\n  Max,\n  Between\n};\n","import {\n  targetStore,\n  isFunction,\n  isJsObject,\n  errors,\n  TDMCollection,\n  TargetMetadata,\n  TDMModelBase\n} from '@tdm/core/tdm';\n\nimport {\n  dispatchEvent,\n  eventFactory,\n  CancellationTokenResourceEvent,\n  ExecuteInitResourceEvent\n} from '../events';\nimport { noop } from '../utils';\nimport {\n  AdapterMetadata,\n  ActionMetadata,\n  ValidationSchedule\n} from '../metadata';\nimport {\n  AdapterStatic,\n  ActionOptions,\n  Adapter,\n  ExecuteResponse,\n  ARHookableMethods\n} from '../fw';\n\nimport { ResourceControl } from '../resource-control';\nimport { ExecuteContext, ExecuteParams } from './execute-context';\n\ninterface ExecuteState {\n  id?: any;\n  rc?: ResourceControl<any>;\n  wasBusy?: boolean;\n  cancelled?: boolean;\n  request?: any;\n  postReturnsResult?: any;\n}\n\nexport class ActionController<T = any, Z = any> {\n  public target: Z;\n  public adapter: Adapter<ActionMetadata, ActionOptions>;\n  readonly adapterMeta: AdapterMetadata;\n\n  constructor(\n    public targetMetadata: TargetMetadata<T, Z>,\n    public adapterClass: AdapterStatic<any, any>\n  ) {\n    this.target = targetMetadata.target;\n    // TODO: adapter can be shared for all targets\n    this.adapter = new adapterClass();\n\n    this.adapterMeta = targetStore.getAdapter(adapterClass);\n  }\n\n  createExecFactory<T>(\n    action: ActionMetadata,\n    ret: 'promise'\n  ): (self: T, params: ExecuteParams) => Promise<T>;\n  createExecFactory<T>(\n    action: ActionMetadata,\n    ret?: 'instance'\n  ): (self: T, params: ExecuteParams) => T;\n  createExecFactory<T>(\n    action: ActionMetadata,\n    ret?: 'instance' | 'promise'\n  ): (self: T, params: ExecuteParams) => T | Promise<T> {\n    const ac = this;\n    return function(self: T, params: ExecuteParams) {\n      return ac.execute(this.clone(self), params, <any>ret);\n    }.bind(new ExecuteContext(this.targetMetadata, action));\n  }\n\n  execute(\n    ctx: ExecuteContext<any>,\n    params: ExecuteParams,\n    ret: 'promise'\n  ): Promise<any>;\n  execute(\n    ctx: ExecuteContext<any>,\n    params: ExecuteParams,\n    ret?: 'instance'\n  ): any;\n  execute(\n    ctx: ExecuteContext<any>,\n    params: ExecuteParams,\n    ret?: 'instance' | 'promise'\n  ): any {\n    const action = ctx.action;\n    const args = params.args || [];\n\n    if (args.length < action.paramHint) {\n      args[action.paramHint - 1] = {};\n    }\n\n    // we keep alive any resource that returns an instance, which is AR.\n    const keepAliveResourceControl = ret !== 'promise';\n\n    // if the user opt in to force promise response, mark it\n    if (action.post && action.post.returns && ret !== 'promise') {\n      ret = 'promise';\n      // 'instance' is ActiveRecord but post process that also controls the return value is not longer 'instance'\n      // We must clone the instance otherwise it will create strange behaviour in `ResourceControl` (busy, _next, etc..)\n      ctx = ctx.clone();\n      if (ctx.instance) {\n        // TODO: instead of clone we can do Object.create(ctx.instance), should be b\n        ctx.setInstance(TDMModelBase.clone(ctx.instance));\n      }\n    }\n\n    const options = isFunction(action.pre) ? action.pre(ctx, ...args) : args[0];\n\n    if (!ctx.instance) {\n      ctx.setInstance();\n    }\n\n    // finally set the mode after the initial setup.\n    const promiseMode = ret === 'promise';\n\n    let eState: ExecuteState;\n\n    // TODO: move this to be part of the promise flow\n    const doFinally = () => {\n      eState.rc.set('busy', false);\n    };\n\n    // TODO:  fireEvent uses member name as Hook matcher, this requires member name to be one of\n    //        \"ARHookableMethods\", let user set the action method in ActionMetadata or something\n    //        - Also applied to fireEvent \"after\" below.\n    const promise = new Promise(resolve => setTimeout(resolve, 0))\n      .then(() => {\n        if (!!action.isCollection !== TDMCollection.instanceOf(ctx.instance)) {\n          throw errors.modelSingleCol(ctx.instance, action.isCollection);\n        } else if (eState.wasBusy) {\n          throw new Error('An action is already running');\n        }\n\n        dispatchEvent(eventFactory.actionStart(ctx.instance));\n\n        if (this.adapter.supports.cancel) {\n          dispatchEvent(\n            new CancellationTokenResourceEvent(ctx.instance, () =>\n              this.cancel(eState, ctx)\n            )\n          );\n        }\n      })\n      .then(() =>\n        this.fireHook(action.name as any, 'before', ctx.instance, options)\n      )\n      .then(() => this.validate('outgoing', action.validation, ctx))\n      .then(() => {\n        if (eState.cancelled === true) {\n          // this error will be omitted, its here to skip all the then's.\n          throw new Error('Cancelled');\n        }\n\n        const adapterResponse = this.adapter.execute(ctx, options, params);\n\n        eState.id = adapterResponse.id;\n        eState.request = adapterResponse.request;\n\n        // TODO: If user cancelled and the adapter does not throw an error on cancellation\n        //       this means that the promise chain will continue, need to fix it.\n        //       Need to create a promise flow where steps can be skipped\n        //       this also applies on the first 2 steps\n        return adapterResponse.response.then((response: ExecuteResponse) => {\n          if (isJsObject(response.data)) {\n            if (\n              response.skipDeserialize !== true ||\n              !action.post ||\n              !action.post.returns\n            ) {\n              ctx.deserialize(response.data);\n            }\n          }\n          if (action.post) {\n            eState.postReturnsResult = action.post.handler.apply(ctx.instance, [\n              response,\n              options\n            ]);\n          }\n\n          return (action.isCollection\n            ? Promise.resolve()\n            : this.validate('incoming', action.validation, ctx)\n          )\n            .then(() =>\n              this.fireHook(\n                action.name as any,\n                'after',\n                ctx.instance,\n                options,\n                response\n              )\n            )\n            .then(() => response);\n        });\n      })\n      .then((response: ExecuteResponse) => {\n        dispatchEvent(eventFactory.success(ctx.instance));\n        doFinally();\n        dispatchEvent(\n          eventFactory.actionEnd(\n            ctx.instance,\n            'success',\n            eState.request,\n            response.response\n          )\n        );\n        return action.post && action.post.returns\n          ? eState.postReturnsResult\n          : promiseMode && !isJsObject(response.data)\n            ? response.data\n            : ctx.instance;\n      })\n      .catch(error => {\n        if (eState.cancelled !== true) {\n          dispatchEvent(\n            eventFactory.error(ctx.instance, error, eState.request)\n          );\n          if (promiseMode) {\n            // rethrow if the user handles the promise\n            doFinally();\n            throw error;\n          }\n        }\n        doFinally();\n      });\n\n    // fired before the promise is returned to the user (the last param, async, is not set)\n    // this is important, because we must register the instance/promise for lookup's before the user can\n    // do ResourceControl.get(...)\n    dispatchEvent(\n      new ExecuteInitResourceEvent(\n        ctx.instance,\n        { ac: this, action, params },\n        ret,\n        promise,\n        keepAliveResourceControl\n      )\n    );\n\n    eState = {\n      rc: ResourceControl.get(ctx.instance)\n    };\n\n    // we only care about busy mode when working on an instance to prevent race conditions.\n    if (!promiseMode) {\n      eState.wasBusy = eState.rc.busy;\n    }\n    eState.rc.set('busy', true);\n\n    // TODO: implement timeout to protect from stale promises?\n    return promiseMode ? promise : ctx.instance;\n  }\n\n  private cancel(eState: ExecuteState, ctx: ExecuteContext<any>): void {\n    if (!eState.cancelled) {\n      eState.cancelled = true;\n      dispatchEvent(eventFactory.cancel(ctx.instance));\n      eState.rc.set('busy', false);\n      if (eState.id) {\n        this.adapter.cancel(eState.id);\n      }\n      dispatchEvent(\n        eventFactory.actionEnd(ctx.instance, 'cancel', eState.request)\n      );\n    }\n  }\n\n  private validate(\n    type: 'incoming' | 'outgoing',\n    validation: ValidationSchedule,\n    ctx: ExecuteContext<any>\n  ): Promise<void> {\n    if (type === validation || validation === 'both') {\n      return this.targetMetadata\n        .validate(ctx.instance)\n        .then((validationErrors: any) => {\n          if (validationErrors.length > 0) {\n            errors.throw.validation(ctx.instance, validationErrors);\n          }\n        });\n    } else {\n      return Promise.resolve();\n    }\n  }\n\n  private fireHook(\n    action: ARHookableMethods,\n    event: 'before' | 'after',\n    self: any,\n    options: ActionOptions,\n    ...args: any[]\n  ): Promise<void> {\n    const hookMetadata = this.targetMetadata.findHookEvent(action, event);\n\n    const fn = hookMetadata\n      ? hookMetadata.decoratorInfo.isStatic\n        ? this.target[hookMetadata.name]\n        : self[hookMetadata.name]\n      : noop;\n\n    return Promise.resolve(fn.apply(self, [options, ...args]));\n  }\n}\n","import {\n  TDMModel,\n  TDMCollection,\n  errors,\n  TargetMetadata,\n  MapperFactory\n} from '@tdm/core/tdm';\n\nimport { findProp } from '../utils';\nimport { defaultConfig } from '../default-config';\nimport { ActionMetadata } from '../metadata';\nimport { IdentityValueType } from '../fw';\n\n/**\n *\n */\nexport interface ExecuteParams<T = any> {\n  /**\n   * Data object supplied by the creator of this execution.\n   * This is a placeholder for an object that the creator of the execution can pass.\n   *\n   * For example, in:\n   * ```ts\n   * DAO.of(SomeAdapter, SomeTarget, { a: 'b' }).findById(12, 'abc');\n   * ```\n   *\n   * `factoryArgs` will be { a: 'b' }\n   *\n   */\n  factoryArgs?: T;\n\n  /**\n   * Arguments used when calling the action.\n   * These are the arguments that the user passed in runtime.\n   *\n   * For example, in:\n   * ```ts\n   * DAO.of(SomeAdapter, SomeTarget).findById(12, 'abc');\n   * ```\n   *\n   * `args` will be [12, 'abc']\n   */\n  args?: any[];\n}\n\n// TODO: TS 2.3 (set the instance type)\n// export class ExecuteContext<T = any, Z extends ActionMetadata = ActionMetadata> {\nexport class ExecuteContext<T extends ActionMetadata> {\n  /**\n   * Optional data, usually an action pre hook will use this to pass information to the adapter.\n   */\n  data?: any;\n\n  get targetMeta(): TargetMetadata {\n    return this.meta;\n  }\n\n  /**\n   * The instance representing this execution context.\n   *\n   * The instance not set, to set the instance use the setInstance() method.\n   * Note that calling any method in ExecuteContext that requires the instance (setIdentity, deserialize,\n   * serialize  etc...) will automatically init a new instance.\n   *\n   * This also mean that the instance can be set from an action's \"pre\" handler.\n   * An instance set must be an instance of the target or an instance of ActiveRecordCollection.\n   * (i.e. return true from the call to ExecuteContext#instanceOf)\n   */\n  get instance(): any {\n    // TODO: TS 2.3 TDMModel<T> | TDMCollection<T> {\n    return this._instance;\n  }\n\n  private get safeInstance(): TDMModel<any> | TDMCollection<any> {\n    return this._instance || (this.setInstance(), this._instance);\n  }\n\n  private _instance: TDMModel<any> | TDMCollection<any>;\n  private mapper: MapperFactory;\n\n  constructor(\n    private readonly meta: TargetMetadata,\n    public readonly action: T,\n    mapper?: MapperFactory\n  ) {\n    this.mapper =\n      this.mapper || findProp('mapper', defaultConfig, meta.model());\n  }\n\n  /**\n   * The the instance for this execution context.\n   * If no value supplied the instance set is a new instance or a new TDMCollection (based on the action)\n   * @param value\n   */\n  setInstance(value?: TDMModel<any> | TDMCollection<any>): void {\n    if (this._instance) {\n      throw new Error('Instance exists');\n    }\n\n    if (!value) {\n      value = this.meta.model().factory(this.action.isCollection);\n    } else if (!this.instanceOf(value)) {\n      throw new Error('Instance does not match type');\n    }\n\n    this._instance = value;\n  }\n\n  /**\n   * Returns true if an object is an instance of the target type of this execution context.\n   * The target type is ActionRecordCollection when the action of this execution context\n   * is true (ActionMetadata#isCollection) otherwise it is the target.\n   * @param obj\n   */\n  instanceOf(obj: any): boolean {\n    return this.action.isCollection\n      ? TDMCollection.instanceOf(obj)\n      : obj instanceof this.meta.target;\n  }\n\n  getIdentity(): IdentityValueType {\n    return this.safeInstance[this.meta.getIdentityKey()];\n  }\n\n  setIdentity(identity: IdentityValueType): void {\n    this.safeInstance[this.meta.getIdentityKey()] = identity;\n  }\n\n  /**\n   * Serialize the instance in this execution context.\n   */\n  serialize(): any {\n    return this.meta.serialize(this.mapper.serializer(this.safeInstance));\n  }\n\n  /**\n   * Deserialize an object into the instance of the current execution context.\n   * If an instance does not exist, it will be created on the fly.\n   * @param data\n   */\n  deserialize(data: any): void {\n    if (data) {\n      // only if exists (false, 0, '' and all falsy's === not exists)\n      const mapper = this.mapper.deserializer(data, this.meta.target);\n      const isColl = !!this.action.isCollection;\n\n      if (mapper.isCollection !== isColl) {\n        errors.throw.modelSingleCol(<any>this.safeInstance, isColl);\n      }\n\n      this.meta.deserialize(mapper, this.safeInstance);\n    }\n  }\n\n  /**\n   * Returns a context-free copy of the current execution context.\n   * The returned execution context does not contain the instance and/or data that existed in the source execution\n   * context.\n   */\n  clone(instance?: TDMModel<any> | TDMCollection<any>): ExecuteContext<T> {\n    const ctx = new ExecuteContext(this.meta, this.action, this.mapper);\n    if (instance) {\n      ctx.setInstance(instance);\n    }\n    return ctx;\n  }\n}\n","export { ActionController } from './action-controller';\nexport { ExecuteContext, ExecuteParams } from './execute-context';\n","import { targetStore, LazyInit, PropMetadata } from '@tdm/core/tdm';\nimport { Validator, ValidationError, ValidationContext } from '../fw';\n\n/**\n * @internal\n */\nexport interface CompiledValidation {\n  validators: Validator[];\n  prop: PropMetadata;\n}\n\n/**\n * @internal\n */\nexport function getInstructions(targetType: any): CompiledValidation[] {\n  // TODO: once @Validators are allowed (along with PropMetadata#Validators) aggregate here.\n  return targetStore\n    .getTargetMeta(targetType)\n    .getValues(PropMetadata)\n    .map(prop => ({\n      validators: prop.validation,\n      prop\n    }));\n}\n\nexport class TargetValidator {\n  /**\n   * @internal\n   */\n  @LazyInit(function(this: TargetValidator): CompiledValidation[] {\n    return getInstructions(this.targetType);\n  })\n  meta: CompiledValidation[];\n\n  constructor(private targetType: any) {}\n\n  validate(instance: any): Promise<ValidationError[]> {\n    const promises: Array<\n      Promise<{ context: ValidationContext; validators: Validator[] }>\n    > = [];\n    const meta = this.meta;\n\n    meta.forEach(p => {\n      const context = {\n        member: p.prop.name,\n        target: instance,\n        value: instance[p.prop.name],\n        type: p.prop.type.ref\n      };\n      const propValidations = p.validators.map(validator => {\n        return Promise.resolve(validator.validate(context)).then(\n          result => (!result ? validator : undefined)\n        );\n      });\n\n      const promise = Promise.all(propValidations).then(results => {\n        return {\n          context,\n          validators: results.filter(v => !!v)\n        };\n      });\n\n      promises.push(promise);\n    });\n\n    return Promise.all(promises).then(results =>\n      results.filter(r => r.validators.length > 0).map(r => {\n        return {\n          context: r.context,\n          errors: r.validators.reduce((prev, v) => {\n            prev[v.name] = v.errorMessage(r.context);\n            return prev;\n          }, {})\n        };\n      })\n    );\n  }\n}\n","import { isFunction, targetStore, errors, Constructor } from '@tdm/core/tdm';\n\nimport { AdapterStatic, ActionOptions, IdentityValueType } from '../fw';\nimport { DAOMethods, DAOContextSymbol, DAOContext } from './symbols';\n\nexport interface TargetDAO<T, Options extends ActionOptions> {\n  findById(id: IdentityValueType, options?: Options): Promise<T>;\n\n  find(options: Options): Promise<T>;\n  findOne(options: Options): Promise<T>;\n\n  query(options?: Options): Promise<T[]>;\n  findAll(options?: Options): Promise<T[]>;\n\n  create(instance: T, options?: Options): Promise<T | void>;\n  create(obj: Partial<T>, options?: Options): Promise<T | void>;\n\n  update(instance: T, options?: Options): Promise<T | void>;\n  update<T>(obj: Partial<T>, options?: Options): Promise<T | void>;\n\n  replace(instance: T, options?: Options): Promise<T | void>;\n  replace<T>(obj: Partial<T>, options?: Options): Promise<T | void>;\n\n  remove(instance: T, options?: Options): Promise<void>;\n  remove(id: IdentityValueType, options?: Options): Promise<void>;\n}\n\nexport interface AdapterDAO<Options extends ActionOptions> {\n  findById<T>(id: IdentityValueType, options?: Options): Promise<T>;\n\n  find<T>(options: Options): Promise<T>;\n  findOne<T>(options: Options): Promise<T>;\n\n  query<T>(options?: Options): Promise<T[]>;\n  findAll<T>(options?: Options): Promise<T[]>;\n\n  create<T>(instance: T, options?: Options): Promise<T | void>;\n  create<T>(obj: Partial<T>, options?: Options): Promise<T | void>;\n\n  update<T>(instance: T, options?: Options): Promise<T | void>;\n  update<T>(obj: Partial<T>, options?: Options): Promise<T | void>;\n\n  replace<T>(instance: T, options?: Options): Promise<T | void>;\n  replace<T>(obj: Partial<T>, options?: Options): Promise<T | void>;\n\n  remove<T>(instance: T, options?: Options): Promise<void>;\n  remove(id: IdentityValueType, options?: Options): Promise<void>;\n}\n\nexport class DAO {\n  findById<T>(\n    target: Constructor<T>,\n    id: IdentityValueType,\n    options?: ActionOptions\n  ): Promise<T> {\n    return this.run(target, 'findById', id, options);\n  }\n\n  find<T>(target: Constructor<T>, options: ActionOptions): Promise<T> {\n    return this.run(target, 'find', options);\n  }\n  findOne<T>(target: Constructor<T>, options: ActionOptions): Promise<T> {\n    return this.find(target, options);\n  }\n\n  query<T>(target: Constructor<T>, options?: ActionOptions): Promise<T[]> {\n    return this.run(target, 'query', options);\n  }\n  findAll<T>(target: Constructor<T>, options?: ActionOptions): Promise<T[]> {\n    return this.query(target, options);\n  }\n\n  create<T>(instance: T, options?: ActionOptions): Promise<T | void>;\n  create<T>(\n    target: Constructor<T>,\n    obj: Partial<T>,\n    options?: ActionOptions\n  ): Promise<T | void>;\n  create<T>(\n    target: Constructor<T> | T,\n    obj?: Partial<T> | ActionOptions,\n    options?: ActionOptions\n  ): Promise<T | void> {\n    return this.runTargetOrInstance(target, 'create', obj, options);\n  }\n\n  update<T>(instance: T, options?: ActionOptions): Promise<T | void>;\n  update<T>(\n    target: Constructor<T>,\n    obj: Partial<T>,\n    options?: ActionOptions\n  ): Promise<T | void>;\n  update<T>(\n    target: Constructor<T> | T,\n    obj?: Partial<T> | ActionOptions,\n    options?: ActionOptions\n  ): Promise<T | void> {\n    return this.runTargetOrInstance(target, 'update', obj, options);\n  }\n\n  replace<T>(instance: T, options?: ActionOptions): Promise<T | void>;\n  replace<T>(\n    target: Constructor<T>,\n    obj: Partial<T>,\n    options?: ActionOptions\n  ): Promise<T | void>;\n  replace<T>(\n    target: Constructor<T> | T,\n    obj?: Partial<T> | ActionOptions,\n    options?: ActionOptions\n  ): Promise<T | void> {\n    return this.runTargetOrInstance(target, 'replace', obj, options);\n  }\n\n  remove<T>(instance: T, options?: ActionOptions): Promise<void>;\n  remove<T>(\n    target: Constructor<T>,\n    id: IdentityValueType,\n    options?: ActionOptions\n  ): Promise<void>;\n  remove<T>(\n    target: Constructor<T> | T,\n    id?: IdentityValueType | ActionOptions,\n    options?: ActionOptions\n  ): Promise<void> {\n    return this.runTargetOrInstance(target, 'remove', id, options);\n  }\n\n  /**\n   * Clear the whole table representing a resource.\n   */\n  clear<T>(target: Constructor<T>): Promise<void> {\n    return this.run(target, 'clear');\n  }\n\n  private runTargetOrInstance(\n    target: Constructor<any> | any,\n    cmd: keyof typeof DAOMethods,\n    ...args: any[]\n  ): Promise<void> {\n    if (isFunction(target)) {\n      return this.run(target, cmd, ...args);\n    } else {\n      if (targetStore.hasTarget(target.constructor)) {\n        return this.run(<any>target.constructor, cmd, ...args);\n      }\n      // TODO: got down proto chain and search for target.\n    }\n\n    // TODO: normalize error.\n    return Promise.reject(new Error('Invalid input'));\n  }\n\n  private run(\n    target: Constructor<any>,\n    cmd: keyof typeof DAOMethods,\n    ...args: any[]\n  ): any {\n    if (!targetStore.hasTarget(target)) {\n      // TODO: normalize error.\n      return Promise.reject(new Error('Target does not exist'));\n    }\n\n    const meta = targetStore.getTargetMeta(target);\n    if (!meta.activeAdapter) {\n      return Promise.reject(errors.modelNoAdapter(target));\n    }\n\n    const action = targetStore.getAdapter(meta.activeAdapter).getDAOAction(cmd);\n\n    if (!action) {\n      return Promise.reject(errors.adapterNoAction(meta.activeAdapter, cmd));\n    }\n    return targetStore\n      .getAC(target, meta.activeAdapter)\n      .createExecFactory(action, 'promise')(undefined, { args });\n  }\n\n  /**\n   * Returns the DAO of an adapter, attached to a target.\n   * @param adapterClass\n   * @param target\n   * @param factoryArgs\n   * @returns\n   */\n  static of<T, Z, Options>(\n    adapterClass: AdapterStatic<any, Options>,\n    target: Z & Constructor<T>,\n    factoryArgs?: any\n  ): TargetDAO<T, Options> {\n    const clz = targetStore.getAdapter(adapterClass).DAOClass;\n    const daoCtx: DAOContext = {\n      target,\n      adapter: adapterClass,\n      factoryArgs\n    };\n    return Object.create(clz.prototype, {\n      [DAOContextSymbol]: { value: daoCtx }\n    });\n  }\n}\n","export * from './symbols';\nexport * from './dao';\n","import { Constructor } from '@tdm/core';\nimport { AdapterStatic } from '../fw';\n\n/**\n * @internal\n */\nexport const DAOContextSymbol = Symbol('DAO context prop');\n\nexport interface DAOContext<T = any> {\n  /**\n   * The target (resource) to use.\n   */\n  target: Constructor<any>;\n  /**\n   * The adapter to use.\n   */\n  adapter: AdapterStatic<any, any>;\n  /**\n   * Additional data to pass to the DAO.\n   */\n  factoryArgs?: T;\n}\n\nexport interface DAOMethodType {\n  findById: any;\n\n  find: any;\n  findOne: any;\n\n  query: any;\n  findAll: any;\n\n  create: any;\n  update: any;\n  replace: any;\n  remove: any;\n\n  /**\n   * Clear the whole table representing a resource.\n   */\n  clear: any;\n}\n\nexport type DAOMethods = { [P in keyof DAOMethodType]: any };\n\nexport const DAOMethods: DAOMethods = <any>{\n  // Keep this any, or 3rd party extending of DAOMethodType will fail\n  findById: 'findById',\n\n  find: 'find',\n  findOne: 'findOne',\n\n  query: 'query',\n  findAll: 'findAll',\n\n  create: 'create',\n  update: 'update',\n  replace: 'replace',\n  remove: 'remove',\n\n  /**\n   * Clear the whole table representing a resource.\n   */\n  clear: 'clear'\n};\n","export {\n  ActionMetadata,\n  ActionMetadataArgs,\n  ActionMethodType,\n  AdapterMetadata,\n  AdapterMetadataArgs,\n  AfterHook,\n  AutoIdentity,\n  BeforeHook,\n  BelongsTo,\n  BelongsToMetadata,\n  BelongsToMetadataArgs,\n  Exclude,\n  ExtendAction,\n  ExtendActionMetadata,\n  Hook,\n  HookMetadata,\n  HookMetadataArgs,\n  Identity,\n  Owns,\n  OwnsMetadata,\n  OwnsMetadataArgs,\n  Prop,\n  PreActionHandler,\n  PostActionHandler,\n  PostActionMetadata,\n  Relationship,\n  RelationshipType,\n  Resource,\n  ValidationContext,\n  ValidationError,\n  ValidationMetadataArgs,\n  ValidationSchedule,\n  Validator,\n  store\n} from './metadata/index';\n\nimport './transformation/index'; // extending @tdm/core\nexport * from './core/index';\n\nexport { validators } from './core-validators';\n\nexport {\n  ARInterface,\n  IdentityValueType,\n  AdapterResponse,\n  ExecuteResponse,\n  Adapter,\n  AdapterStatic,\n  ActionOptions,\n  plugins,\n  PluginStore\n} from './fw/index';\n\nexport {\n  isResourceEvent,\n  events$,\n  ResourceEventEmitter,\n  ResourceEventDispatcher,\n  ResourceEvent,\n  ResourceEventType,\n  ActionErrorResourceEvent,\n  ActionEndResourceEvent,\n  eventFactory,\n  StateChangeResourceEvent\n} from './events/index';\n\nexport { findProp, isSymbol, isTdmPropertyKey, promiser } from './utils/index';\n\n// re-export common types from core\nexport { Constructor, TDMModel, TDMModelBase, TDMCollection } from '@tdm/core';\n\nexport { DAO, AdapterDAO, TargetDAO, DAOMethodType } from './dao/index';\n\nexport { ResourceControl, ResourceControlToken } from './resource-control';\n","import {\n  TransformStrategy,\n  NamingStrategyConfig,\n  directMapper,\n  MapperFactory\n} from '@tdm/core/tdm';\n\nexport interface DefaultConfig {\n  mapper: MapperFactory;\n\n  /**\n   * How to treat an object when transforming it.\n   *\n   * inclusive - include all except explicitly excluded properties.\n   * exclusive - exclude all except explicitly included properties.\n   *\n   * Note that every member decorated with @Prop is included by default, so `exclusive` requires\n   * every member that you want to include to be decorated with @Prop\n   *\n   * ## exclusive vs inclusive:\n   * An exclusive strategy is strict hence predictable, this means:\n   *   - Reduce the change for error\n   *   - Better performance\n   *\n   * The cost is boilerplate, writing additional code.\n   *\n   *\n   * @optional\n   * @default 'inclusive'\n   */\n  transformStrategy: TransformStrategy | undefined;\n\n  /**\n   * A Default strategy for name conversion.\n   * Applied on all properties except those with explicit alias defined.\n   *\n   *\n   * ###EXAMPLE\n   * ```ts\n   * {\n   *  transformNameStrategy: {\n   *    incoming: (propertyName: string) => camelCase(propertyName),\n   *    outgoing: (propertyName: string) => snakeCase(propertyName)\n   *  }\n   * }\n   * ```ts\n   *\n   * The example above converts incoming server object properties to camel case (myProperty)\n   * and all outgoing client object properties to snake case (my_property)\n   *\n   * @optional\n   * @default undefined\n   */\n  transformNameStrategy: NamingStrategyConfig | undefined;\n}\n\nexport const defaultConfig: DefaultConfig = {\n  mapper: directMapper,\n  transformStrategy: 'inclusive',\n  transformNameStrategy: undefined\n};\n","// tslint:disable:max-classes-per-file\nimport { ResourceEventType, ResourceEventTypes } from './interfaces';\n\ndeclare module './interfaces' {\n  interface ResourceEventType {\n    ActionStart: ResourceEvent;\n    ActionError: ActionErrorResourceEvent;\n    ActionSuccess: ResourceEvent;\n    ActionEnd: ActionEndResourceEvent;\n    ActionCancel: ResourceEvent;\n  }\n}\n\nexport class ResourceEvent<T extends ResourceEventTypes = ResourceEventTypes> {\n  constructor(public readonly resource: any, public readonly type: T) {}\n}\n\nexport class ActionErrorResourceEvent extends ResourceEvent {\n  constructor(\n    public readonly resource: any,\n    public readonly error: Error,\n    public readonly request?: any,\n    public readonly response?: any\n  ) {\n    super(resource, 'ActionError');\n  }\n}\n\nexport class ActionEndResourceEvent extends ResourceEvent {\n  constructor(\n    public readonly resource: any,\n    public readonly result: 'success' | 'cancel',\n    public readonly request?: any,\n    public readonly response?: any\n  ) {\n    super(resource, 'ActionEnd');\n  }\n}\n\nexport const eventFactory = {\n  actionStart(resource: any) {\n    return new ResourceEvent(resource, 'ActionStart');\n  },\n  error(resource: any, err: Error, request?: any, response?: any) {\n    return new ActionErrorResourceEvent(resource, err, request, response);\n  },\n  cancel(resource: any) {\n    return new ResourceEvent(resource, 'ActionCancel');\n  },\n  success(resource: any) {\n    return new ResourceEvent(resource, 'ActionSuccess');\n  },\n  actionEnd(\n    resource: any,\n    result: 'success' | 'cancel',\n    request?: any,\n    response?: any\n  ) {\n    return new ActionEndResourceEvent(resource, result, request, response);\n  }\n};\n","import { ResourceEvent } from './events';\nimport { ResourceEventDispatcher, ResourceEventEmitter } from './interfaces';\nimport { SimpleEvents } from './simple-events';\n\nexport * from './interfaces';\nexport * from './events';\nexport * from './internal';\nexport * from './simple-events';\n\nexport let dispatcher: ResourceEventDispatcher;\nexport let events$: ResourceEventEmitter;\n\ndispatcher = events$ = new SimpleEvents();\n\n/**\n * Dispatch a resource control event.\n * These event's are fired to local listeners, not the user's listeners.\n * The local listeners will trigger user's listeners.\n *\n * @param event\n * @param async When not set, fire's the event sync within the current task.\n * When set to true the event is fired at the end of the current micro task\n * When set to a number, the even if fired as a macro task, after an amount of ms provided as the number.\n */\nexport function dispatchEvent(\n  event: ResourceEvent,\n  async?: number | true\n): void {\n  if (async >= 0) {\n    setTimeout(() => dispatcher.next(event), async);\n  } else if (async === true) {\n    Promise.resolve(null).then(() => dispatcher.next(event));\n  } else {\n    try {\n      dispatcher.next(event);\n    } catch (err) {} // tslint:disable-line:no-empty\n    // we don't want handler's error to interrupt the process, the handler should handle it's own errors.\n  }\n}\n\n/* An example of an rxjs based event system  */\n// import { Subject } from 'rxjs/Subject'\n// import 'rxjs/add/operator/share'; // TODO: move to no-side effect implementation\n// dispatcher = new Subject<ResourceEvent>();\n// events$ = (dispatcher as any).share();\n","import { ResourceEvent } from './events';\n\nexport interface ResourceEventType {}\n\nexport interface InternalResourceEventType {}\n\nexport type ResourceEventTypes = keyof (ResourceEventType &\n  InternalResourceEventType);\n\nexport interface ResourceEventDispatcher {\n  next(value?: ResourceEvent): void;\n}\n\nexport interface ResourceEventEmitter {\n  subscribe(next?: (value: ResourceEvent) => void): { unsubscribe(): void };\n}\n\nexport function isResourceEvent<T extends keyof ResourceEventType>(\n  type: T,\n  evt: ResourceEvent\n): evt is ResourceEventType[T] {\n  return type === evt.type;\n}\n","// tslint:disable:max-classes-per-file\nimport { InternalResourceEventType } from './interfaces';\nimport { ResourceEvent } from './events';\nimport { ActionController } from '../core';\nimport { ExecuteParams } from '../core/execute-context';\nimport { ActionMetadata } from '../metadata';\n\ndeclare module './interfaces' {\n  interface InternalResourceEventType {\n    $CancellationToken: CancellationTokenResourceEvent;\n    $ExecuteInit: ExecuteInitResourceEvent;\n    $StateChange: StateChangeResourceEvent;\n  }\n}\n\nconst internalError = Symbol('Internal Resource Error');\n\nexport function isInternalError(event: ResourceEvent): boolean {\n  return event[internalError] === true;\n}\n\n/**\n * Sends the cancellation token (function) so the listener (resource control) can cancel.\n *\n * @internal\n */\nexport class CancellationTokenResourceEvent extends ResourceEvent {\n  constructor(\n    public readonly resource: any,\n    public readonly cancel: () => void\n  ) {\n    super(resource, '$CancellationToken');\n    this[internalError] = true;\n  }\n}\n\n/**\n *\n * @internal\n */\nexport interface ExecuteInitResourceEventArgs {\n  ac: ActionController;\n  action: ActionMetadata;\n  params: ExecuteParams;\n}\n\n/**\n * @internal\n */\nexport class ExecuteInitResourceEvent extends ResourceEvent {\n  /**\n   * The promise that is used by the execution.\n   *\n   * A promise is always used, it is returned to the user when the execution run's in promise mode, otherwise it is\n   * instance mode and the instance is returned, yet the promise always exist.\n   *\n   * When working with DAO the returned value is the promise, which makes it impossible to track the resource control\n   * because the user does not get it back, the promise can be used to track the instance.\n   */\n  promise: Promise<any>;\n\n  /**\n   * True instructs the resource control to stay alive when the promise resolves.\n   * False will cause the resource control to destroy itself once the promise resolve.\n   */\n  keepAlive: boolean;\n  constructor(\n    public readonly resource: any,\n    public readonly data: ExecuteInitResourceEventArgs,\n    public readonly mode: 'promise' | 'instance',\n    promise: Promise<any>,\n    keepAlive: boolean\n  ) {\n    super(resource, '$ExecuteInit');\n    this[internalError] = true;\n    this.promise = promise;\n    this.keepAlive = keepAlive;\n  }\n}\n\n/**\n * @internal\n */\nexport class StateChangeResourceEvent extends ResourceEvent {\n  constructor(\n    public readonly resource: any,\n    public readonly key: string,\n    public readonly oldVal: any,\n    public readonly newVal: any\n  ) {\n    super(resource, '$StateChange');\n    this[internalError] = true;\n  }\n}\n","import { ResourceEvent } from './events';\nimport { ResourceEventDispatcher, ResourceEventEmitter } from './interfaces';\n\n/**\n * A simple event dispatcher and emitter, used as the default events implementation.\n * The API is minimal and somewhat shared with the observables API for extensibility.\n */\nexport class SimpleEvents\n  implements ResourceEventDispatcher, ResourceEventEmitter {\n  private listeners: Array<(value: ResourceEvent) => void> = [];\n\n  next(value: ResourceEvent): void {\n    const listeners = this.listeners.slice();\n    for (let l of listeners) {\n      l(value);\n    }\n  }\n\n  subscribe(next?: (value: ResourceEvent) => void): { unsubscribe(): void } {\n    this.listeners.push(next);\n    const unsubscribe = () => {\n      const idx = this.listeners.indexOf(next);\n      if (idx > -1) {\n        this.listeners.splice(idx, 1);\n      }\n    };\n\n    return { unsubscribe };\n  }\n\n  clear(): void {\n    this.listeners.splice(0, this.listeners.length);\n  }\n}\n","import { Errors, stringify } from '@tdm/core/tdm';\nimport { AdapterStatic, ValidationError } from './interfaces';\n\nconst pt = Errors.prototype;\n\ndeclare module '@tdm/core/tdm/lib/fw/errors' {\n  interface Errors {\n    validation(\n      model: any,\n      errors: ValidationError[]\n    ): Error & { errors: ValidationError[] };\n    validationConfig(validationName: string, message: string): Error;\n    modelNoAdapter(model: any): Error;\n    adapterNoAction(\n      adapterClass: AdapterStatic<any, any>,\n      action: string\n    ): Error;\n    plugin(pluginName: string, message: string): Error;\n    pluginMissing(pluginName: string): Error;\n    adapter(adapterClass: AdapterStatic<any, any>, message: string): Error;\n    adapterRegistered(\n      adapterClass: AdapterStatic<any, any>,\n      registeredIn?: any\n    ): Error;\n    adapterNotRegistered(\n      adapterClass: AdapterStatic<any, any>,\n      model?: any\n    ): Error;\n  }\n}\n\npt.modelNoAdapter = function modelNoAdapterError(\n  this: Errors,\n  model: any\n): Error {\n  return this.model(model, `No active adapter registered.`);\n};\n\npt.adapterNoAction = function adapterNoActionError(\n  this: Errors,\n  adapterClass: AdapterStatic<any, any>,\n  action: string\n): Error {\n  return this.adapter(adapterClass, `Action \"${action}\" is not registered.`);\n};\n\npt.validation = function validationError(\n  this: Errors,\n  model: any,\n  errors: ValidationError[]\n): Error & { errors: ValidationError[] } {\n  // TODO: print validation errors\n  return this.ERROR(`Validation Error [${stringify(model)}]`, { errors });\n};\n\npt.validationConfig = function validationConfigError(\n  this: Errors,\n  validationName: string,\n  message: string\n): Error {\n  return this.ERROR(\n    `Invalid validation configuration params for \"${validationName}\": ${message}`\n  );\n};\n\npt.plugin = function plugin(\n  this: Errors,\n  pluginName: string,\n  message: string\n): Error {\n  return this.ERROR(`Plugin Error [${pluginName}]: ${message}`);\n};\n\npt.pluginMissing = function plugin(this: Errors, pluginName: string): Error {\n  return this.plugin(pluginName, `Unknown or missing plugin`);\n};\n\npt.adapter = function adapter(\n  adapterClass: AdapterStatic<any, any>,\n  message: string\n): Error {\n  return this.ERROR(`Adapter Error [${stringify(adapterClass)}]: ${message}`);\n};\n\npt.adapterRegistered = function adapterRegistered(\n  adapterClass: AdapterStatic<any, any>,\n  registeredIn?: any\n): Error {\n  return this.adapter(\n    adapterClass,\n    `Adapter already registered${\n      registeredIn ? ` (in ${stringify(registeredIn)})` : ''\n    }`\n  );\n};\n\npt.adapterNotRegistered = function adapterNotRegistered(\n  adapterClass: AdapterStatic<any, any>,\n  model?: any\n): Error {\n  return this.adapter(\n    adapterClass,\n    `Adapter not registered${model ? ` (in ${stringify(model)})` : ''}`\n  );\n};\n","import './errors';\nexport * from './interfaces';\nexport * from './plugin';\n","export * from '../active-record/interfaces';\nexport * from '../metadata/meta-types/schema/interfaces';\n\nimport { ActionMetadata } from '../metadata';\nimport { ExecuteContext, ExecuteParams } from '../core/execute-context';\n\nexport interface AdapterResponse {\n  /**\n   * An id representing this call.\n   */\n  id: any;\n\n  response: Promise<ExecuteResponse>;\n\n  /**\n   * The raw request object\n   * This is optional, the type of the request changes between adapters.\n   */\n  request?: any;\n}\n\nexport interface ExecuteResponse {\n  /**\n   * The data object, this is the object that the library will deserialize into the instance.\n   */\n  data: any;\n\n  /**\n   * When set to true, the library will not deserialize the `data` object into the instance.\n   */\n  skipDeserialize?: boolean;\n\n  /**\n   * The raw response object\n   * This is optional, the type of the response changes between adapters.\n   */\n  response?: any;\n}\n\nexport interface ActionOptions {}\n\nexport interface AdapterStatic<\n  T extends ActionMetadata,\n  Z extends ActionOptions\n> {\n  new (): Adapter<T, Z>;\n  prototype: Adapter<T, Z>;\n}\n\nexport interface Adapter<T extends ActionMetadata, Z extends ActionOptions> {\n  supports: {\n    cancel: boolean;\n  };\n\n  /**\n   *\n   * @param ctx Context for the execution\n   * @param options The options supplied (after possible transformation from 'pre')\n   * @param args the arguments used to invoke the action\n   */\n  execute(\n    ctx: ExecuteContext<T>,\n    options: Z,\n    params: ExecuteParams\n  ): AdapterResponse;\n\n  cancel(id: any): void;\n}\n\nexport type IdentityValueType = string | number;\n","import { Constructor, errors } from '@tdm/core';\n\nexport interface PluginStatic extends Constructor<Plugin> {\n  prototype: Plugin;\n}\n\nexport interface Plugin {\n  init(options?: any): void;\n}\n\nexport class PluginStore {\n  private constructor() {}\n\n  assertPlugin(name: string) {\n    if (!this[name]) {\n      errors.throw.pluginMissing(name);\n    }\n  }\n\n  /**\n   * Register's a plugin in the store.\n   * The plugin is not initialized until the user invokes the init() method.\n   * @param name\n   * @param type\n   */\n  static register(name: string, type: PluginStatic): void {\n    if (PluginStore.prototype.hasOwnProperty(name)) {\n      throw new Error(`Plugin conflict \"${name}\"`);\n    }\n    Object.defineProperty(PluginStore.prototype, name, { value: new type() });\n  }\n}\n\nexport const plugins: PluginStore = Object.create(PluginStore.prototype);\n","export { Type, Prop, Exclude, Identity } from '@tdm/core';\nexport * from '../transformation';\n","export * from './meta-types';\n\nexport { store } from './store';\n\nexport * from './decorators';\n\nimport './set-action-metadata-helpers';\n","import {\n  isFunction,\n  isString,\n  DecoratorInfo,\n  BaseMetadata\n} from '@tdm/core/tdm';\n\nimport {\n  ExecuteResponse,\n  ActionOptions,\n  ValidationSchedule,\n  AdapterStatic\n} from '../../fw';\nimport { ExecuteContext } from '../../core';\n\nexport enum ActionMethodType {\n  /**\n   * Used to mark a method as local to the implementing adapter.\n   */\n  LOCAL,\n  READ,\n  CREATE,\n  REPLACE,\n  UPDATE,\n  DELETE\n}\n\nexport type PreActionHandler = (\n  ctx: ExecuteContext<any>,\n  ...args: any[]\n) => any;\n\n/**\n * The\n */\nexport type PostActionHandler = (\n  response: ExecuteResponse,\n  options: ActionOptions\n) => void;\nexport type PostActionMetadata = {\n  handler: PostActionHandler;\n  /**\n   * Override mode.\n   *\n   * When set to true the action, when invoked, will not return the instance of the model, instead it will return a\n   * promise to the return value of the handler.\n   *\n   * When setting returns to true the incoming data is not managed by the library (no deserialization).\n   * When called on an ActiveRecord instance the instance is cloned and the action will work on the clone and not the\n   * original instance this is why you SHOULD NOT return the instance when setting returns to true.\n   *\n   * This mode is useful for custom methods that does not return the instance itself but a different value, for example\n   * an action operation with an indicator (true/false)\n   *\n   * @default false\n   */\n  returns?: boolean;\n};\n\nexport interface ActionMetadataArgs<T = any> {\n  method: T;\n  /**\n   * Specify if the response is an array.\n   * A collection can only be set on static level actions.\n   * @optional\n   * @default false\n   */\n  isCollection?: boolean;\n\n  /**\n   * If set to true, the action is also set on the ActiveRecordCollection instance.\n   * Valid on if isCollection is true;\n   */\n  collInstance?: boolean;\n\n  /**\n   * A hook to update data and return the options.\n   * If not set the options is taken from the 1st arg.\n   */\n  pre?: PreActionHandler;\n\n  /**\n   * A hook that allow control over the response.\n   *\n   * The hook's handler signature is [[PostActionHandler]].\n   *\n   * > Note that the context (this) of the handler is the instance of the model.\n   *\n   * The hook has 2 modes: PASSIVE and ACTIVE\n   *\n   * >The default mode is PASSIVE.\n   *\n   * PASSIVE MODE:\n   * Hook used to manipulate values in the response but does not control the structure.\n   * This mode allows updating the instance of the model before it is sent back to the user.\n   *\n   * The instance is created by the library which (optionally) deserialize the response and then the hooks can update\n   * the instance before it is serialized and sent to the user.\n   *\n   * > Optionally deserialize because the action might instruct not to, use ExecuteResponse.skipDeserialize to detect\n   * this.\n   *\n   * ACTIVE MODE:\n   * Hook used to change the response returned from the execution of the action.\n   *\n   * An execution returns one of 2: The instance of the model it \"executes on\" OR a promise of...\n   *\n   * When using ACTIVE mode, the execution will (always) return a promise of the value returned by the post handler.\n   *\n   * ACTIVE mode allows execution of operations/actions that does not return a response matching the structure of\n   * the model attached to it.\n   *\n   * For example, In a virtual machines ,management application we have a `VirtualMachine` record which we store in a\n   * database but we can also use to invoke operations (RPC). The `stop()` method is an operation/action we want to\n   * define but it returns an object with some keys that is not related to the `VirtualMachine` and used to keep track\n   * of the shutdown. For that we need to use an ACTIVE post action handler so we return this object instead of the\n   * library thinking this object represents the `VierualMachine` model.\n   */\n  post?: PostActionHandler | PostActionMetadata;\n\n  validation?: ValidationSchedule;\n\n  /**\n   * An alias (or alias list) for methods names that reference this action.\n   *\n   * > The library will create a reference to the action methods for each alias in the list.\n   */\n  alias?: string | string[];\n\n  /**\n   * Declare the number of parameters that the action accepts.\n   * When set, if the number of params is less then the hint an empty option object is added at the\n   * hint location.\n   *\n   * The library assumes that the last parameter in an action method signature is the option object.\n   *\n   * > The value is the length, not last index.\n   *\n   *\n   * > This will eliminate the need to validate the options object on actions where options object is optional.\n   *\n   * If you are using other optional parameters or union types you will need to verify the options manually and do not\n   * define a hint. In such cases it is probably better to reconsider the implementation, remove parameters from the\n   * signature and put them in the options object.\n   */\n  paramHint?: number;\n}\n\nexport abstract class ActionMetadata extends BaseMetadata {\n  method: ActionMethodType;\n  isCollection: boolean | undefined;\n  collInstance: boolean | undefined;\n  pre?: PreActionHandler;\n  post?: PostActionMetadata;\n  validation: ValidationSchedule;\n  alias?: string[];\n  paramHint: number;\n\n  constructor(\n    public readonly metaArgs: ActionMetadataArgs<any>,\n    info: DecoratorInfo\n  ) {\n    super(info);\n\n    Object.assign(this, metaArgs);\n    if (metaArgs.post) {\n      if (isFunction(metaArgs.post)) {\n        this.post = { handler: metaArgs.post };\n      } else if (metaArgs.post && isFunction(metaArgs.post.handler)) {\n        this.post = metaArgs.post;\n      }\n    }\n    if (isString(metaArgs.alias)) {\n      this.alias = [metaArgs.alias];\n    }\n    this.paramHint = metaArgs.paramHint || 0;\n  }\n\n  /**\n   * The adapter class this action represents\n   */\n  static adapterClass: AdapterStatic<any, any>;\n}\n","import {\n  isFunction,\n  targetStore,\n  Constructor,\n  DecoratorInfo,\n  MetadataClassStatic,\n  MetaClass,\n  MetaClassMetadata,\n  MetaClassInstanceDetails\n} from '@tdm/core/tdm';\n\nimport { array } from '../../utils/index';\nimport { DAOMethods, DAOContext, DAOContextSymbol } from '../../dao/index';\nimport { ActionMetadata, ActionMetadataArgs } from './action';\n\nfunction unsupportedDAOCmd() {\n  // TODO: normalize error.\n  return Promise.reject(new Error(`DAO does not support this action`));\n}\n\nexport interface AdapterMetadataArgs {\n  actionMetaClass: MetadataClassStatic;\n  DAOClass: Constructor<any>;\n  /**\n   * The resource metadata class.\n   * If not set the metadata arguments are registered to the target metadata instance\n   */\n  resourceMetaClass?: MetadataClassStatic;\n}\n\n// this is here so we don't break the flow.\n// adapter meta is different then other meta's since it might get created before the meta is available\n// since metadata (actions) for the adapter might be set before the meta is created.\n// this workaround prevents the need for an adapter store, the meta is used as the store.\n// to support that we allow setting the metadata args in a later period.\n// the register() method is aware of that and knows how to handle this scenario.\n/** @internal */\nexport function factory(\n  this: MetaClassMetadata<AdapterMetadataArgs, AdapterMetadata>,\n  metaArgs: AdapterMetadataArgs,\n  target: Object,\n  info: DecoratorInfo\n): MetaClassInstanceDetails<AdapterMetadataArgs, AdapterMetadata> {\n  return <any>Object.assign(\n    this.constructor.prototype.factory.call(this, metaArgs, target, info),\n    { metaArgs }\n  );\n}\n\n/** @internal */\nexport function register(\n  this: MetaClassMetadata<AdapterMetadataArgs, AdapterMetadata>,\n  meta: MetaClassInstanceDetails<AdapterMetadataArgs, AdapterMetadata>\n): void {\n  const adapter = targetStore.getAdapter(meta.target);\n  Object.assign(adapter, meta['metaArgs']);\n\n  adapter.buildDAO();\n}\n\n@MetaClass<AdapterMetadataArgs, AdapterMetadata>({\n  allowOn: ['class'],\n  factory,\n  register\n})\nexport class AdapterMetadata {\n  actionMetaClass: MetadataClassStatic;\n  DAOClass: Constructor<any>;\n  resourceMetaClass?: MetadataClassStatic;\n\n  private actions = new Map<any, ActionMetadata[]>();\n\n  addAction(meta: ActionMetadata, target: Constructor<any>): void;\n  addAction(\n    meta: MetaClassInstanceDetails<ActionMetadataArgs, ActionMetadata>\n  ): void;\n  addAction(\n    meta:\n      | ActionMetadata\n      | MetaClassInstanceDetails<ActionMetadataArgs, ActionMetadata>,\n    target?: Constructor<any>\n  ): void {\n    if (!isFunction(target)) {\n      target = (<any>meta).target;\n      meta = (<any>meta).metaValue;\n    }\n    const actions = this.actions.get(target) || [];\n    actions.push(<any>meta);\n    this.actions.set(target, actions);\n  }\n\n  getDAOAction(key: string): ActionMetadata {\n    return this.actions.get(this.DAOClass).find(a => a.name === key);\n  }\n\n  getActions(...targets: any[]): ActionMetadata[] {\n    const metadataColl = targets.map(t => this.actions.get(t)).filter(t => !!t);\n    return array.flatten(metadataColl);\n  }\n\n  /**\n   * @internal\n   */\n  buildDAO(): void {\n    const actions = this.getActions(this.DAOClass);\n    const daoProto = this.DAOClass.prototype;\n\n    actions.forEach(action => {\n      if (action.decoratorInfo.isStatic) {\n        throw new Error('DAO can not define static actions.');\n      }\n\n      daoProto[action.name] = function(...args: any[]) {\n        const ctx: DAOContext = this[DAOContextSymbol];\n        return targetStore\n          .getAC(ctx.target, ctx.adapter)\n          .createExecFactory(action, 'promise')(undefined, {\n          args,\n          factoryArgs: ctx.factoryArgs\n        });\n      };\n\n      if (action.alias) {\n        action.alias.forEach(\n          alias => (daoProto[alias] = daoProto[action.name])\n        );\n      }\n    });\n\n    // set unsupported handlers for missing commands.\n    const keys = Object.keys(DAOMethods);\n    for (let key of keys) {\n      if (!daoProto[key]) {\n        daoProto[key] = unsupportedDAOCmd;\n      }\n    }\n  }\n}\n","import { MetaClass, DecoratorInfo } from '@tdm/core/tdm';\nimport { ActionMetadata, ActionMetadataArgs } from './action';\n\n@MetaClass<ActionMetadataArgs<any>, ExtendActionMetadata>({\n  allowOn: ['staticMember', 'member'],\n  extend: 'mergeMapArray',\n  register: 'array'\n})\nexport class ExtendActionMetadata extends ActionMetadata {\n  constructor(metaArgs: Partial<ActionMetadataArgs<any>>, info: DecoratorInfo) {\n    super(metaArgs as any, info);\n    Object.assign(this, metaArgs);\n  }\n}\n","import {\n  errors,\n  targetStore,\n  MapExt,\n  DecoratorInfo,\n  MetaClassInstanceDetails,\n  MetaClassMetadata,\n  MetaClass,\n  BaseMetadata\n} from '@tdm/core/tdm';\n\nimport { ARHookableMethods, ARHooks } from '../../fw';\n\nexport interface StoredHook {\n  before?: HookMetadata;\n  after?: HookMetadata;\n}\n\nexport interface HookMetadataArgs {\n  event: 'before' | 'after';\n  action: ARHookableMethods;\n}\n\n/** @internal */\nexport function factory(\n  this: MetaClassMetadata<HookMetadataArgs, HookMetadata>,\n  metaArgs: HookMetadataArgs,\n  target: Object,\n  info: DecoratorInfo,\n  key: TdmPropertyKey,\n  desc: PropertyDescriptor\n): MetaClassInstanceDetails<HookMetadataArgs, HookMetadata> {\n  const { action } = metaArgs;\n\n  if (!ARHooks.hasOwnProperty(action)) {\n    errors.throw.decorator(target, `Invalid hook '${action}'`, key);\n  }\n\n  const t = ARHooks[action].type;\n  if (info.isStatic ? t === 'instance' : t === 'static') {\n    errors.throw.decorator(\n      target,\n      `Hook '${action}' can only decorate ${t} methods`,\n      key\n    );\n  }\n  return this.constructor.prototype.factory.call(\n    this,\n    metaArgs,\n    target,\n    info,\n    key,\n    desc\n  );\n}\n\n/** @internal */\nexport function register(\n  this: MetaClassMetadata<HookMetadataArgs, HookMetadata>,\n  meta: MetaClassInstanceDetails<HookMetadataArgs, HookMetadata>\n): void {\n  const hook: StoredHook = { [meta.metaValue.event]: meta.metaValue };\n\n  const currHook =\n    targetStore.getMetaFor<any, StoredHook>(\n      meta.target,\n      HookMetadata,\n      meta.metaValue.action\n    ) || ({} as any);\n  targetStore.setMetaFor<any, StoredHook>(\n    meta.target,\n    HookMetadata,\n    meta.metaValue.action as any,\n    Object.assign(currHook, hook)\n  );\n}\n\n/** @internal */\nexport function extend(\n  from: Map<TdmPropertyKey, StoredHook>,\n  to: Map<TdmPropertyKey, StoredHook> | undefined\n): Map<TdmPropertyKey, StoredHook> {\n  if (!to) {\n    to = new Map<TdmPropertyKey, StoredHook>(from.entries());\n  } else {\n    // TODO: Refactor to support static/instance like ExtendAction in case 2 hooks with same prop name\n    MapExt.asKeyValArray(from).forEach(([k, hookFrom]) => {\n      if (!to.has(k)) {\n        to.set(k, hookFrom);\n      } else {\n        const hookTo = to.get(k);\n        Object.keys(hookFrom).forEach(event => {\n          if (!hookTo.hasOwnProperty(event)) {\n            hookTo[event] = hookFrom[event];\n          }\n        });\n      }\n    });\n  }\n\n  return to;\n}\n\n@MetaClass<HookMetadataArgs, HookMetadata>({\n  allowOn: ['staticMember', 'member'],\n  factory,\n  extend,\n  register\n})\nexport class HookMetadata extends BaseMetadata {\n  event: 'before' | 'after';\n  action: ARHookableMethods;\n\n  constructor(obj: HookMetadataArgs, info: DecoratorInfo) {\n    super(info);\n\n    this.event = obj.event;\n    this.action = obj.action;\n  }\n}\n","export * from './action';\nexport { ExtendActionMetadata } from './extend-action';\nexport { AdapterMetadata, AdapterMetadataArgs } from './adapter';\nexport * from './relations';\nexport { HookMetadata, HookMetadataArgs, StoredHook } from './hook';\nexport * from './schema';\n","import {\n  RelationMetadataArgs,\n  MetaClass,\n  RelationMetadata\n} from '@tdm/core/tdm';\n\nexport type BelongsToMetadataArgs = RelationMetadataArgs;\n\nexport interface OwnsMetadataArgs<T> {\n  foreignKey: keyof T;\n}\n\n@MetaClass<BelongsToMetadataArgs, BelongsToMetadata>({\n  inherit: RelationMetadata\n})\nexport class BelongsToMetadata extends RelationMetadata {}\n\n@MetaClass<OwnsMetadataArgs<any>, OwnsMetadata>({\n  inherit: RelationMetadata\n})\nexport class OwnsMetadata extends RelationMetadata {}\n\nexport type Relationship = BelongsToMetadata | OwnsMetadata;\nexport type RelationshipType = 'belongsTo' | 'hasMany' | 'hasOne';\n","import {\n  MapExt,\n  MetaClassInstanceDetails,\n  MetaClassMetadata,\n  isFunction,\n  setMetaHelper,\n  stringify,\n  targetStore\n} from '@tdm/core/tdm';\n\nimport { ActionMetadataArgs, ActionMetadata } from './meta-types';\n\nfunction register(\n  this: MetaClassMetadata<ActionMetadataArgs, ActionMetadata>,\n  meta: MetaClassInstanceDetails<ActionMetadataArgs<any>, ActionMetadata>\n): void {\n  if (!this.target.adapterClass) {\n    throw new Error(\n      `Class ${stringify(\n        this\n      )} must implement a static property 'adapterClass' that points to the Adapter it uses`\n    );\n  } else if (!isFunction(this.target.adapterClass.prototype.execute)) {\n    throw new Error(\n      `Class ${stringify(this)} points to an invalid Adapter class`\n    );\n  }\n  targetStore.setMetaFormFactory(meta);\n  targetStore.getAdapter(this.target.adapterClass).addAction(meta);\n}\n\nfunction extend(\n  from: Map<TdmPropertyKey, ActionMetadata>,\n  to: Map<TdmPropertyKey, ActionMetadata> | undefined,\n  meta\n): Map<TdmPropertyKey, ActionMetadata> {\n  MapExt.asValArray(from).forEach(v =>\n    targetStore.getAdapter(this.adapterClass).addAction(v, meta.to)\n  );\n\n  return to\n    ? // TODO: on mixins we override, on \"extends\" class we don't...\n      // this overrides at all times (wrong behaviour for class extends)\n      MapExt.mergeInto(to, from)\n    : new Map<TdmPropertyKey, ActionMetadata>(from.entries());\n}\n\nsetMetaHelper('register', 'actionMetadata', register);\nsetMetaHelper('extend', 'actionMetadata', extend);\n\ndeclare module '@tdm/core/tdm/lib/fw/metadata-framework/types' {\n  interface MetaClassRegisterHelpers {\n    actionMetadata(\n      this: MetaClassMetadata<ActionMetadataArgs, ActionMetadata>,\n      meta: MetaClassInstanceDetails<ActionMetadataArgs<any>, ActionMetadata>\n    ): void;\n  }\n\n  interface MetaClassExtendHelpers {\n    actionMetadata(\n      from: Map<TdmPropertyKey, ActionMetadata>,\n      to: Map<TdmPropertyKey, ActionMetadata> | undefined,\n      meta\n    ): Map<TdmPropertyKey, ActionMetadata>;\n  }\n}\n","import {\n  targetStore,\n  TDMModel,\n  TransformDir,\n  Constructor,\n  SerializeMapper,\n  DeserializeMapper\n} from '@tdm/core/tdm';\nimport { AdapterStatic } from '../fw';\n\nexport class Store {\n  protected constructor() {\n    // support for post instantiation mixins on the prototype (plugins) - don't use new.\n    Store.create(this);\n  }\n\n  getIdentityKey(target, direction?: TransformDir): string | undefined {\n    return targetStore.getIdentityKey(target, direction);\n  }\n\n  hasTarget(target: any): boolean {\n    return targetStore.hasTarget(target);\n  }\n\n  serialize(target: Constructor<any>, mapper: SerializeMapper): any {\n    return targetStore.serialize(target, mapper);\n  }\n\n  /**\n   * Deserialize and instance of \"DeserializeMapper\" into an instance of tge target supplied\n   * @param target\n   * @param mapper\n   * @returns\n   */\n  deserialize(\n    mapper: DeserializeMapper\n  ): TDMModel<any> | TDMModel<any>[] | undefined {\n    return targetStore.deserialize(mapper);\n  }\n\n  /**\n   * Deserialize and instance of \"DeserializeMapper\" into a plain object (object literal)\n   * @param mapper\n   */\n  deserializePlain(mapper: DeserializeMapper): any {\n    return targetStore.deserializePlain(mapper);\n  }\n\n  /**\n   * Search for a target registered in the repository by it's name.\n   * @see ModelMetadataArgs#resName\n   * @param name\n   */\n  findModel(name: string): any | undefined {\n    return targetStore.findTarget(name);\n  }\n\n  getModelName(target: any): string | undefined {\n    return targetStore.getTargetName(target);\n  }\n\n  /**\n   * Marks mixins as part of the functionality of a target, in a specific adapter.\n   * This will not apply the mixin, it's just metadata about he relation.\n   * @param target\n   * @param adapterClass\n   * @param mixins\n   */\n  markMixins(\n    target: any,\n    adapterClass: AdapterStatic<any, any>,\n    ...mixins: any[]\n  ): void {\n    targetStore.registerMixins(target, adapterClass, ...mixins);\n  }\n\n  /**\n   * Creates a new Store instance.\n   * @param instance optional, used internally\n   * @returns\n   */\n  static create(instance?: Store): Store {\n    const store: Store = instance || Object.create(Store.prototype);\n    return store;\n  }\n}\n\nexport const store = Store.create();\n","import { TDMModel, TDMModelBase, TDMCollection, errors } from '@tdm/core';\n\nimport {\n  events$,\n  ResourceEventDispatcher,\n  ResourceEventEmitter,\n  CancellationTokenResourceEvent,\n  ExecuteInitResourceEvent,\n  ExecuteInitResourceEventArgs,\n  StateChangeResourceEvent,\n  SimpleEvents,\n  ResourceEvent,\n  isResourceEvent,\n  isInternalError\n} from './events';\n\n// Weak map for private emitter\n// TODO: check perf, maybe symbols are \"less\" private but more performant\nconst privateDict = new WeakMap<any, ResourceControl<any>>();\n\nexport interface RecordControlState<T = any> {\n  busy: boolean;\n}\n\nexport type ResourceControlToken<T = any> = Promise<T> | T;\nexport type ResourceEventListener = (\n  this: ResourceControl<any>,\n  event: ResourceEvent\n) => void;\n\nconst handlers: ResourceEventListener[] = [];\n\n/**\n * An controller, state and notification interface for instances of TDM models.\n * Each model instance has a corresponding ResourceControl instance.\n *\n * To get the ResourceControl instance for a specific model instance call ResourceControl#get(modelInstance)\n *\n * > If you are using the `ActiveRecord` plugin you can also opt in to have a property on each model instance\n * that reference the ResourceControl instance.\n *\n * Notifications are stream of resource related events, derived from {@link ResourceEvent}.\n * Each event is bound to a resource instance, hence every event fired in a ResourceControl instance\n * is an event bound to the resource.\n *\n * The notification are passive lifecycle event, intended to be used by the consumer of a resource.\n * Passive hooks does not effect actions, they are used for state (UI) representation.\n *\n * For active lifecycle hooks, being able to effect an action, use metadata life cycle hooks (`ActiveRecordHooks`)\n *\n */\nexport class ResourceControl<T> implements RecordControlState<T> {\n  /**\n   * A stream of `ResourceEvent` see `ResourceEventType` for possible events.\n   */\n  events$: ResourceEventEmitter;\n\n  /**\n   * Indicates if the active record is busy performing an action.\n   */\n  get busy(): boolean {\n    return this.state.busy;\n  }\n\n  protected dispatcher: ResourceEventDispatcher;\n  protected actionCancel: () => void;\n  protected lastExecute: ExecuteInitResourceEventArgs;\n  protected state: RecordControlState<T> = { busy: false };\n  protected _next: Promise<TDMModel<T> & T>;\n  protected _mode: 'promise' | 'instance';\n\n  protected constructor(public parent: TDMModel<T> & T) {\n    const eventSys = this.initEventSys();\n    this.dispatcher = eventSys.dispatcher;\n    this.events$ = eventSys.emitter;\n  }\n\n  /**\n   * Set a new state value\n   * @param key\n   * @param value\n   */\n  set<P extends keyof RecordControlState<T>>(\n    key: P,\n    value: RecordControlState<T>[P]\n  ): void {\n    if (this.state[key] !== value) {\n      const event = new StateChangeResourceEvent(\n        this.parent,\n        key,\n        this.state[key],\n        (this.state[key] = value)\n      );\n      ResourceControl.emitEvent(event);\n    }\n  }\n\n  /**\n   * Returns a promise, resolving on the next response from the current resource.\n   * Will throw is there is no active action for this resource (i.e. not busy)\n   * @returns\n   */\n  next(silent?: boolean): Promise<TDMModel<T> & T> {\n    if (this._mode === 'promise' && this._next) {\n      return this._next;\n    }\n    return Promise.resolve().then(() => {\n      if (!this.busy) {\n        return Promise.reject(\n          errors.model(\n            this.parent,\n            'Call to next() while not in an active action.'\n          )\n        );\n      } else {\n        return new Promise<TDMModel<T> & T>((resolve, reject) => {\n          const subs = this.events$.subscribe(event => {\n            if (isResourceEvent('ActionError', event)) {\n              reject(event.error);\n              subs.unsubscribe();\n            } else if (isResourceEvent('ActionEnd', event)) {\n              // TODO: ActionEnd is fired for both ActionSuccess and ActionCancel\n              // since promises does not cancel this is a design hole...\n              resolve(this._next || this.parent);\n              subs.unsubscribe();\n            }\n          });\n        });\n      }\n    });\n  }\n\n  /**\n   * Cancel the current action.\n   * Does not throw if no action is running.\n   */\n  cancel(): void {\n    if (this.busy && this.actionCancel) {\n      this.actionCancel();\n      this.actionCancel = undefined;\n    }\n  }\n\n  /**\n   * Initialize the event system, return the dispatcher and emitter\n   *\n   * Derived implementations can implement different mechanisms\n   */\n  protected initEventSys(): {\n    dispatcher: ResourceEventDispatcher;\n    emitter: ResourceEventEmitter;\n  } {\n    const simpleEvents = new SimpleEvents();\n    return { dispatcher: simpleEvents, emitter: simpleEvents };\n  }\n\n  static addEventListener(handler: ResourceEventListener): void {\n    handlers.push(handler);\n  }\n\n  static removeEventListener(handler: ResourceEventListener): boolean {\n    const idx = handlers.indexOf(handler);\n    if (idx > -1) {\n      handlers.splice(idx, 1);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Returns a resource control for an instance of a resource.\n   * If it's an instance and a resource control does not exist it will create it.\n   * If it's a promise for a resource, will return it only if a resource was already created.\n   */\n  static get<T>(\n    instance: ResourceControlToken<T>\n  ): ResourceControl<T> | undefined {\n    let rc = privateDict.get(instance);\n    if (\n      !rc &&\n      (TDMModelBase.instanceOf(instance) || TDMCollection.instanceOf(instance))\n    ) {\n      privateDict.set(\n        instance,\n        (rc = new ResourceControl<any>(instance as any))\n      );\n    }\n    return rc;\n  }\n\n  /**\n   * Emits an `ResourceEvent` in the `ActiveRecordState#.$events` of a `BaseResource`\n   * @internal\n   * @param event\n   */\n  protected static emitEvent(event: ResourceEvent): void {\n    const rc = ResourceControl.get(event.resource);\n\n    for (let i = 0, len = handlers.length; i < len; i++) {\n      handlers[i].call(rc, event);\n    }\n\n    if (!isInternalError(event)) {\n      rc.dispatcher.next(event);\n    }\n  }\n\n  /* An IFFE that returns undefined. Workaround for https://github.com/Microsoft/TypeScript/issues/15892\n  It acts as a type initializer (not instance initializer), running after the type is created.\n  We run it inside the class because we need access to private/protected member.\n  it has a slight runtime impact as it set's a property on the class, a function invocation.\n  Although forcing runtime changes due to design time type restrictions is a bad practice it was still preferred because\n  the impact is minimal and type safety is extremely important in such low level constructs, I like to think of this as\n  a virtual runtime assertion.\n  */\n  private static _ = (() => {\n    events$.subscribe(ResourceControl.emitEvent);\n    ResourceControl.addEventListener(function rootHandler(\n      this: ResourceControl<any>,\n      event: ResourceEvent\n    ): void {\n      if (event instanceof CancellationTokenResourceEvent) {\n        this.actionCancel = event.cancel;\n      } else if (event instanceof ExecuteInitResourceEvent) {\n        mapPromiseAndKeepAlive(this, event);\n        this.lastExecute = event.data;\n        this._next = event.promise;\n        this._mode = event.mode;\n      } else {\n        switch (event.type) { // tslint:disable-line\n          case 'ActionError':\n          case 'ActionEnd':\n            this.actionCancel = undefined;\n            this._next = undefined;\n            break;\n        }\n      }\n    });\n  })();\n}\n\nfunction mapPromiseAndKeepAlive(\n  resourceControl: ResourceControl<any>,\n  event: ExecuteInitResourceEvent\n): void {\n  privateDict.set(event.promise, resourceControl);\n  const doFinally = function x(this: ExecuteInitResourceEvent) {\n    privateDict.delete(event.promise);\n    if (!event.keepAlive) {\n      privateDict.delete(event.resource);\n    }\n  }.bind(event);\n  event.promise.then(doFinally, doFinally);\n}\n","import { Identity } from '@tdm/core';\nimport {\n  targetStore,\n  ModelMetadataArgs,\n  RelationMetadataArgs, // RelationMetadataArgs - leave to satisfy angular compiler\n  ModelMetadata,\n  MetaClass\n} from '@tdm/core/tdm';\n\nimport { ExecuteResponse, ARHookableMethods } from '../fw';\nimport {\n  HookMetadata,\n  ExtendActionMetadata,\n  BelongsToMetadata,\n  OwnsMetadata,\n  ActionMetadataArgs, // ActionMetadataArgs - leave to satisfy angular compiler\n  OwnsMetadataArgs, // OwnsMetadataArgs - leave to satisfy angular compiler\n  HookMetadataArgs // HookMetadataArgs - leave to satisfy angular compiler\n} from '../metadata';\n\nimport { Adapter } from '../fw';\n\n/* Workaround, see index.ts in this directory */\nimport './meta-class';\nimport './target-store';\nimport './target-metadata';\nimport './prop';\nimport './relations';\nimport './mixins';\n\n// TODO: this is a workaround to allow registering Models with no adapter so `onProcessType` event\n// fires, need to fire the build event even if no adapter is set, this requires refactoring.\nexport class NoopAdapter implements Adapter<any, any> {\n  supports = { cancel: false };\n  execute(ctx: any, options: any): any {\n    return { id: 1, response: Promise.resolve(undefined) };\n  }\n  cancel(id: number): void {}\n}\n\ntargetStore.registerAdapter(NoopAdapter, {\n  actionMetaClass: <any>class {},\n  DAOClass: class {},\n  resourceMetaClass: ModelMetadata\n});\n\ndeclare module '@tdm/core/tdm/lib/add/model/model' {\n  interface ModelMetadata {\n    autoGenIdentity?: boolean;\n  }\n}\n\nexport function AutoIdentity(): Function {\n  return (target: Object, key: TdmPropertyKey) => {\n    Identity()(target, key);\n    const model = (targetStore\n      .getTargetMeta(<any>target.constructor)\n      .model().autoGenIdentity = true);\n  };\n}\n\nconst _Resource = MetaClass.get(ModelMetadata).createResourceDecorator(\n  NoopAdapter\n); // FOR AOT\n/**\n * A Resource with a NOOP adapter.\n * @classDecorator\n * @param metaArgs\n */\nexport function Resource(metaArgs: ModelMetadataArgs) {\n  return _Resource(metaArgs) as any;\n}\n\n/**\n * @propertyDecorator instance\n * @param metaArgs\n */\nexport const ExtendAction = MetaClass.decorator(ExtendActionMetadata);\n\n/**\n * @propertyDecorator instance\n * @param def\n */\nexport const BelongsTo = MetaClass.decorator(BelongsToMetadata, true);\n\n/**\n * @propertyDecorator instance\n * @param def\n */\nexport const Owns = MetaClass.decorator(OwnsMetadata, true);\n\nexport const Hook = MetaClass.decorator(HookMetadata);\n\nexport function BeforeHook(action: ARHookableMethods) {\n  return Hook({ event: 'before', action });\n}\n\nexport function AfterHook(action: ARHookableMethods) {\n  return Hook({ event: 'after', action });\n}\n\nexport type BeforeHook<K extends string, Z> = {\n  [P in K]: (options: Z) => void | Promise<void>\n};\nexport type AfterHook<K extends string, Z> = {\n  [P in K]: (options: Z, rawResponse: ExecuteResponse) => void | Promise<void>\n};\n","/* For some reason, in test (jest) these will execute after the export statement, causing an error */\n/* to workaround that the imports are now in the decorators.ts file. */\n\n// import './target-store'\n// import './target-metadata';\n// import './prop';\n// import './relations';\n// import './resource';\n// import './mixins';\n\nexport * from './decorators';\n","import {\n  targetStore,\n  stringify,\n  isFunction,\n  PropMetadata,\n  MetaClassMetadata,\n  ModelMetadataArgs,\n  ModelMetadata,\n  TDMModelBase\n} from '@tdm/core/tdm';\nimport { AdapterStatic } from '../fw';\n\ndeclare module '@tdm/core/tdm/lib/fw/metadata-framework/meta-class' {\n  interface MetaClassMetadata<TMetaArgs = any, TMetaClass = any, Z = any> {\n    createResourceDecorator(\n      adapterClass: AdapterStatic<any, any>\n    ): (def: TMetaArgs) => (target: Function) => any;\n  }\n}\n\nconst ADAPTER_REF = Symbol('Adapter Ref');\n\n/**\n * A Factory for Resource class decorators, the returned decorator will automatically register the\n * target & adapterType with the resource.\n * @param adapterClass\n */\nexport function resource<TMetaArgs extends ModelMetadataArgs>(\n  this: MetaClassMetadata<ModelMetadataArgs, ModelMetadata>,\n  adapterClass: AdapterStatic<any, any>\n): (metaArgs: TMetaArgs) => ClassDecorator {\n  const metaClass = this;\n\n  return function ResourceDecorator(metaArgs: TMetaArgs) {\n    return (target: any) => {\n      if (\n        targetStore.getAdapter(adapterClass).resourceMetaClass !==\n        metaClass.target\n      ) {\n        throw new Error(\n          `Adapter ${stringify(adapterClass)} resource metadata mismatch`\n        );\n      }\n\n      if (metaArgs.factory) {\n        console.warn('Model#factory can not be set in @tdm/data');\n        delete metaArgs.factory;\n      }\n\n      const TDMModel = TDMModelBase.factory(target);\n      TDMModel[ADAPTER_REF] = adapterClass;\n\n      // Creating ModelMetadata instance (or a derived class of ModelMetadata)\n      const modelMeta = metaClass.create(metaArgs || {}, target);\n      // targetStore.registerTarget(target);\n      const meta = targetStore.getTargetMeta(target);\n\n      // check for properties that set the type to self (same class)\n      // the class will point to the base class (target) that TDModel extends.\n      // this is fine if the user didn't set `typeGetter`, if he did we get TDModel\n      meta.getValues(PropMetadata).forEach(p => {\n        const desc = Object.getOwnPropertyDescriptor(p, 'type');\n\n        if (\n          desc &&\n          desc.configurable &&\n          isFunction(desc.get) &&\n          desc.get() === target\n        ) {\n          Object.defineProperty(p, 'type', {\n            configurable: true,\n            value: TDMModel\n          });\n        }\n      });\n\n      targetStore.registerTarget(TDMModel);\n      const tdmModelMeta = metaClass.extendSingle(modelMeta, undefined, {\n        from: target,\n        to: TDMModel\n      });\n\n      if (modelMeta.skip !== true) {\n        tdmModelMeta.build();\n      }\n\n      return TDMModel;\n    };\n  };\n}\n\nMetaClassMetadata.prototype.createResourceDecorator = resource;\n\ntargetStore.on.beforeProcessType(target => {\n  const tMeta = targetStore.getTargetMeta(target);\n  // default behaviour, register the first adapter, if multiple...\n  if (target[ADAPTER_REF]) {\n    if (!tMeta.activeAdapter) {\n      tMeta.setActiveAdapter(target[ADAPTER_REF]);\n    }\n  }\n});\n","import { ModelMetadata, TargetStore, SetExt, KeySet } from '@tdm/core/tdm';\nimport { AdapterStatic } from '../fw';\n\ndeclare module '@tdm/core/tdm/lib/add/model/model' {\n  interface ModelMetadata {\n    mixins: KeySet<AdapterStatic<any, any>, any>;\n  }\n}\n\ndeclare module '@tdm/core/tdm/lib/metadata/target-store' {\n  interface TargetStore {\n    /**\n     * Registers mixins to a target, under a specific adapter type.\n     * @param target\n     * @param adapterClass\n     * @param mixins\n     */\n    registerMixins(\n      target: any,\n      adapterClass: AdapterStatic<any, any>,\n      ...mixins: any[]\n    ): void;\n    getMixins(target: any, adapterClass: AdapterStatic<any, any>): Set<any>;\n    hasMixins(target: any, adapterClass: AdapterStatic<any, any>): boolean;\n  }\n}\n\n// const mixinCache = new Set<any>();\n//\n//\n// /**\n//  * For every mixins, go down the proto chain and extend the metadata.\n//  * @param mixin\n//  */\n// function extendMixin(mixin: any): void {\n//   if (!mixinCache.has(mixin)) {\n//     const chain = getProtoChain(mixin);\n//     if (chain[0] === mixin) chain.shift();\n//\n//     if (chain.length > 0) {\n//       for (let i=chain.length-1; i>0; i--) {\n//         if (!mixinCache.has(chain[i+1]) && targetStore.hasTarget(chain[i])) {\n//           targetStore.registerTarget(chain[i+1]);\n//           targetStore.extend(chain[i], chain[i+1]);\n//         }\n//       }\n//       targetStore.registerTarget(chain[0]);\n//       targetStore.registerTarget(mixin);\n//       targetStore.extend(chain[0], mixin);\n//     }\n//   }\n// }\n\nTargetStore.prototype.registerMixins = function registerMixins(\n  target: any,\n  adapterClass: AdapterStatic<any, any>,\n  ...mixins: any[]\n): void {\n  if (mixins.length > 0) {\n    const model = this.getTargetMeta(target).model();\n\n    let registered: KeySet<AdapterStatic<any, any>, any> = model.mixins;\n    if (!registered) {\n      model.mixins = registered = new KeySet<AdapterStatic<any, any>, any>();\n    }\n\n    const set = registered.has(adapterClass)\n      ? registered.get(adapterClass)\n      : registered.set(adapterClass);\n    SetExt.combine(set, mixins);\n\n    // seems to much, maybe a decorator will be better...\n    // mixins.forEach( m => extendMixin(m) );\n  }\n};\n\nTargetStore.prototype.getMixins = function getMixins(\n  target: any,\n  adapterClass: AdapterStatic<any, any>\n): Set<any> {\n  const model = this.getTargetMeta(target).model();\n  return (model.mixins && model.mixins.get(adapterClass)) || new Set<any>();\n};\n\nTargetStore.prototype.hasMixins = function hasMixins(\n  target: any,\n  adapterClass: AdapterStatic<any, any>\n): boolean {\n  const mixins = this.getTargetMeta(target).model().mixins;\n  const registered = mixins && mixins.get(adapterClass);\n  return registered && registered.size > 0;\n};\n","import {\n  isFunction,\n  PropMetadataArgs,\n  Constructor,\n  PropMetadata,\n  RelationMetadata,\n  targetStore\n} from '@tdm/core/tdm';\n\nimport { BelongsToMetadata, OwnsMetadata, RelationshipType } from '../metadata';\nimport { Validator } from '../fw';\n\ndeclare module '@tdm/core/tdm/lib/metadata/prop' {\n  interface PropMetadataArgs {\n    validation?: Validator | Validator[];\n  }\n\n  interface PropMetadata {\n    rel: RelationshipType;\n    validation: Validator[];\n    setCoreRelationship(rel: BelongsToMetadata | OwnsMetadata): void;\n  }\n}\n\nPropMetadata.prototype.setCoreRelationship = function(\n  rel: BelongsToMetadata | OwnsMetadata\n): void {\n  this.setRelationship(\n    new RelationMetadata({ foreignKey: rel.foreignKey }, rel.decoratorInfo)\n  );\n\n  if (rel instanceof BelongsToMetadata) {\n    this.rel = 'belongsTo';\n  } else {\n    this.rel = this.type.isArray ? 'hasMany' : 'hasOne';\n  }\n};\n\ntargetStore.on\n  .metaInit(PropMetadata)\n  .run(\n    (\n      target: Constructor<any>,\n      prop: PropMetadata,\n      metaArgs?: PropMetadataArgs\n    ) => {\n      if (!metaArgs) {\n        metaArgs = {};\n      }\n\n      prop.validation = Array.isArray(metaArgs.validation)\n        ? metaArgs.validation.slice()\n        : metaArgs.validation && isFunction(metaArgs.validation.validate)\n          ? [metaArgs.validation]\n          : [];\n    }\n  );\n","import { Constructor, targetStore } from '@tdm/core/tdm';\n\nimport { BelongsToMetadata, OwnsMetadata } from '../metadata';\n\ntargetStore.on.processType((target: Constructor<any>) => {\n  const meta = targetStore.getTargetMeta(target);\n\n  const identity = meta.getIdentityKey();\n  if (identity) {\n    meta.getCreateProp(identity);\n  }\n\n  [BelongsToMetadata, OwnsMetadata].forEach(relClass => {\n    meta.getValues(relClass).forEach(relation => {\n      // Its possible to set @Relation() without @Prop(), so make sure to create one if not set by the user.\n      const prop = meta.getCreateProp(relation.decoratorInfo);\n      prop.setCoreRelationship(relation);\n\n      // if the fk is a different key, attach a reference to the foreign key PropMetadata (and create one if not there)\n      if (relation.name !== relation.foreignKey) {\n        meta.getCreateProp(relation.foreignKey).foreignKeyOf = prop;\n      }\n    });\n  });\n});\n","import { Tixin } from '@tdm/tixin';\nimport {\n  errors,\n  getProtoChain,\n  LazyInit,\n  SetExt,\n  targetStore,\n  DecoratorInfo,\n  TargetMetadata,\n  TDMCollection,\n  Constructor\n} from '@tdm/core/tdm';\n\nimport { AdapterStatic, ARHookableMethods } from '../fw';\nimport {\n  ExtendActionMetadata,\n  HookMetadata,\n  ValidationError\n} from '../metadata';\nimport { ActionController } from '../core/action-controller';\nimport { TargetValidator } from '../core/target-validator';\n\nclass CoreTargetMetadata<T = any, Z = any> extends TargetMetadata<T, Z> {\n  collectionClass: typeof TDMCollection & Constructor<TDMCollection<T>>;\n\n  get activeAdapter(): AdapterStatic<any, any> | undefined {\n    return this._activeAdapter;\n  }\n\n  @LazyInit(function(this: CoreTargetMetadata): TargetValidator {\n    return new TargetValidator(this.target);\n  })\n  protected validator: TargetValidator;\n\n  @LazyInit(function(\n    this: CoreTargetMetadata\n  ): Map<AdapterStatic<any, any>, ActionController> {\n    return new Map<AdapterStatic<any, any>, ActionController>();\n  })\n  protected adapters: Map<AdapterStatic<any, any>, ActionController>;\n\n  private _activeAdapter: AdapterStatic<any, any>;\n\n  validate(instance: any): Promise<ValidationError[]> {\n    return this.validator.validate(instance);\n  }\n\n  findHook(\n    action: ARHookableMethods\n  ): { before: HookMetadata; after: HookMetadata } | undefined {\n    return this.config.get(HookMetadata, action);\n  }\n\n  findHookEvent(\n    action: ARHookableMethods,\n    event: 'before' | 'after'\n  ): HookMetadata | undefined {\n    const hook = this.getMetaFor(HookMetadata, action);\n    if (hook) {\n      return hook[event];\n    }\n  }\n\n  hasAdapter(adapterClass: AdapterStatic<any, any>): boolean {\n    return this.adapters.has(adapterClass);\n  }\n\n  isActive(adapterClass: AdapterStatic<any, any>): boolean {\n    return this._activeAdapter === adapterClass;\n  }\n\n  getAC(): ActionController | undefined;\n  getAC(\n    adapterClass: AdapterStatic<any, any>,\n    create?: boolean\n  ): ActionController | undefined;\n  getAC(\n    adapterClass?: AdapterStatic<any, any>,\n    create: boolean = true\n  ): ActionController | undefined {\n    if (!adapterClass) {\n      adapterClass = this.activeAdapter;\n    }\n    return (\n      this.adapters.get(adapterClass) ||\n      (create ? this.registerAdapter(adapterClass) : undefined)\n    );\n  }\n\n  getExtendingAction(info: DecoratorInfo): ExtendActionMetadata | undefined {\n    const arr = this.config.get(ExtendActionMetadata, info.name);\n    if (arr) {\n      return arr.find(\n        a => a.name === info.name && a.decoratorInfo.isStatic === info.isStatic\n      );\n    }\n  }\n\n  setActiveAdapter(adapter: AdapterStatic<any, any>): void {\n    this._activeAdapter = adapter;\n\n    this.getProtoChainWithMixins(this.target, adapter).forEach(proto => {\n      if (this.target !== proto && targetStore.hasTarget(proto)) {\n        targetStore.extend(proto, this.target);\n      }\n    });\n  }\n\n  private getProtoChainWithMixins(\n    target: Constructor<any>,\n    adapterClass: AdapterStatic<any, any>\n  ): Set<Constructor<any>> {\n    return getProtoChain(target).reduce((protoSet, proto) => {\n      protoSet.add(proto);\n      SetExt.combine(protoSet, targetStore.getMixins(proto, adapterClass));\n      return protoSet;\n    }, new Set<Constructor<any>>());\n  }\n\n  private registerAdapter(\n    adapterClass: AdapterStatic<any, any>\n  ): ActionController {\n    if (!targetStore.hasAdapter(adapterClass)) {\n      errors.throw.adapterNotRegistered(adapterClass, this.target);\n    } else if (this.adapters.has(adapterClass)) {\n      errors.throw.adapterRegistered(adapterClass, this.target);\n    } else {\n      return this.adapters\n        .set(adapterClass, new ActionController(this, adapterClass))\n        .get(adapterClass);\n    }\n  }\n}\n\ndeclare module '@tdm/core/tdm/lib/metadata/target-metadata' {\n  interface TargetMetadata {\n    collectionClass: typeof TDMCollection & Constructor<TDMCollection<any>>;\n\n    validate(instance: any): Promise<ValidationError[]>;\n\n    findHook(\n      action: ARHookableMethods\n    ): { before: HookMetadata; after: HookMetadata } | undefined;\n    findHookEvent(\n      action: ARHookableMethods,\n      event: 'before' | 'after'\n    ): HookMetadata | undefined;\n\n    hasAdapter(adapterClass: AdapterStatic<any, any>): boolean;\n\n    /**\n     * Checks if the adapter is the current adapter for this target\n     * @param adapterClass\n     */\n    isActive(adapterClass: AdapterStatic<any, any>): boolean;\n\n    /**\n     * Returns the action controller of the current (active) adapter on this target.\n     */\n    getAC(): ActionController | undefined;\n    /**\n     * Returns the  action controller of an adapter on this target.\n     */\n    getAC(\n      adapterClass: AdapterStatic<any, any>,\n      create?: boolean\n    ): ActionController | undefined;\n\n    getExtendingAction(info: DecoratorInfo): ExtendActionMetadata | undefined;\n\n    readonly activeAdapter: AdapterStatic<any, any>;\n    setActiveAdapter(adapter: AdapterStatic<any, any>): void;\n\n    extendFrom(store: this): void;\n  }\n}\n\nTixin(TargetMetadata, CoreTargetMetadata);\n\n// override core implementation to support type specific collection class\nTargetMetadata.prototype.createCollection = function(): TDMCollection<any> {\n  return this.collectionClass\n    ? new this.collectionClass()\n    : new TDMCollection();\n};\n","import { Tixin } from '@tdm/tixin';\nimport { Constructor, MetaClass, TargetStore } from '@tdm/core/tdm';\n\nimport { AdapterStatic } from '../fw';\nimport { ActionController } from '../core/action-controller';\nimport { AdapterMetadata, AdapterMetadataArgs } from '../metadata';\n\nclass CoreTargetStore extends TargetStore {\n  getAdapter(adapterClass: AdapterStatic<any, any>): AdapterMetadata {\n    return (\n      this.local<AdapterMetadata>(adapterClass) ||\n      (this.locals.add(adapterClass, new AdapterMetadata()),\n      this.getAdapter(adapterClass))\n    );\n  }\n\n  hasAdapter(adapterClass: AdapterStatic<any, any>): boolean {\n    return this.locals.has(adapterClass);\n  }\n\n  registerAdapter(\n    adapterClass: AdapterStatic<any, any>,\n    metaArgs: AdapterMetadataArgs\n  ): void {\n    MetaClass.get(AdapterMetadata).create(metaArgs, adapterClass);\n  }\n\n  getAC(target: Constructor<any>): ActionController | undefined;\n  getAC<T extends AdapterStatic<any, any>>(\n    target: Constructor<any>,\n    adapterClass: T\n  ): ActionController | undefined;\n  getAC<T extends AdapterStatic<any, any>>(\n    target: Constructor<any>,\n    adapterClass?: T\n  ): ActionController | undefined {\n    if (this.hasTarget(target)) {\n      return adapterClass\n        ? this.getTargetMeta(target).getAC(adapterClass)\n        : this.getTargetMeta(target).getAC();\n    }\n  }\n}\n\ndeclare module '@tdm/core/tdm/lib/metadata/target-store' {\n  interface TargetStore {\n    getAdapter(\n      adapterClass: AdapterStatic<any, any>\n    ): AdapterMetadata | undefined;\n    hasAdapter(adapterClass: AdapterStatic<any, any>): boolean;\n    registerAdapter(\n      adapterClass: AdapterStatic<any, any>,\n      metaArgs: AdapterMetadataArgs\n    ): void;\n\n    /**\n     * Returns the action controller of the current (active) adapter on this target.\n     */\n    getAC(target: Constructor<any>): ActionController | undefined;\n\n    /**\n     * Returns the  action controller of an adapter on this target.\n     */\n    getAC(\n      target: Constructor<any>,\n      adapterClass: AdapterStatic<any, any>\n    ): ActionController | undefined;\n  }\n}\nTixin(TargetStore as any, CoreTargetStore as any);\n","import { isString, isNumber } from '@tdm/core/tdm';\nexport * from './type-utils';\n\n/**\n * Search search each object in \"objects\", right to left, for a key and returns the value.\n * Fallback object must have the key.\n * @param key\n * @param fallback\n * @param objects\n * @returns\n */\nexport function findProp<T, P extends keyof T>(\n  key: P,\n  fallback: T,\n  ...objects: any[]\n): T[P] {\n  for (let i = objects.length - 1; i >= 0; i--) {\n    if (objects[i] && objects[i].hasOwnProperty(key)) {\n      return objects[i][key];\n    }\n  }\n  return fallback[key];\n}\n\nexport function isSymbol(obj: any): obj is symbol {\n  return typeof obj === 'symbol';\n}\n\nexport function isTdmPropertyKey(obj: any): obj is TdmPropertyKey {\n  return isString(obj) || isSymbol(obj) || isNumber(obj);\n}\n\nexport function noop(...args: any[]): void {}\n\n/**\n * returns an object with a promise, resolver and rejector.\n * @returns\n */\nexport function promiser<T>(): {\n  resolve: (result?: T) => void;\n  reject: (error: any) => void;\n  promise: Promise<T>;\n} {\n  let resolve: (result?: T) => void;\n  let reject: (error: any) => void;\n  let promise: Promise<T> = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return { resolve, reject, promise };\n}\n\nexport const array = (function() {\n  const scalar = v => !Array.isArray(v);\n\n  const flatten = (deep: any[][], flat: any[] = []) => {\n    if (deep.length === 0) return flat;\n    let [head, ...tail] = deep;\n    if (scalar(head)) {\n      return flatten(tail, flat.concat(head));\n    } else {\n      return flatten(tail, flat.concat(flatten(head)));\n    }\n  };\n\n  const findRemove = <T>(\n    arr: Array<T>,\n    predicate: (value: T) => boolean,\n    thisArg?: any\n  ): T | undefined => {\n    const idx = arr.findIndex(predicate, thisArg);\n    if (idx > -1) {\n      return arr.splice(idx, 1)[0];\n    }\n  };\n\n  return {\n    findRemove,\n    flatten<T>(array: Array<Array<T>>): Array<T> {\n      return flatten(array);\n    }\n  };\n})();\n","/*\n       * Public API Surface of mylib\n       */\nexport * from './lib/localForage';\n","export { LocalForageAdapter } from './local-forage-adapter'\nexport { BaseLocalForageConfig, LocalForageActionOptions } from './interfaces';\n","import * as localForage from 'localforage';\nimport * as uuid_ from 'uuid/v4';\nimport { ModelMetadata, SetExt } from '@tdm/core/tdm';\n\nconst uuid = uuid_;\n\nimport {\n  Adapter,\n  DAOMethodType,\n  ExecuteContext,\n  ExecuteParams,\n  AdapterResponse,\n  ExecuteResponse, ActionMethodType\n} from '@tdm/data';\n\nimport { LocalForageResourceMetadata, LocalForageActionMetadata } from '../metadata';\nimport { LocalForageActionOptions } from './interfaces';\n\nconst KEY_PREFIX = 'tdm';\nconst METADATA_TABLE = '__METADATA_TABLE__';\n\nfunction isValidString (value: string): boolean {\n  return (value != null && value !== '');\n}\nfunction makePath (...args: string[]): string {\n  return args.filter(isValidString).join('/').replace(/([^:\\/]|^)\\/{2,}/g, '$1/');\n}\n\nconst promiseQueue = {\n  queue: [] as Array<{ task: () => Promise<any>, resolve: (value?: any) => void, reject: (err: Error) => void}>,\n  running: null as Promise<any[]>,\n  runPending: false as boolean,\n  get length(): number {\n    return this.queue.length + (this.running ? 1 : 0);\n  },\n  enqueue<T = any>(task: () => Promise<T>, run?: boolean): Promise<T> {\n    if (run === true && !this.running) {\n      this.runAsMacroTask();\n    }\n    return new Promise<T>( (resolve, reject) => this.queue.push({ resolve, reject, task }) );\n  },\n  dequeue(): Promise<any> {\n    if (this.queue.length > 0) {\n      const t = this.queue.shift();\n      return t.task()\n        .then((value) => {\n          t.resolve(value);\n          return value;\n        })\n        .catch( err => {\n          t.reject(err);\n          return err;\n        });\n    } else {\n      return Promise.reject(new Error('Queue is empty'));\n    }\n  },\n  runAsMacroTask(): void {\n    if (!this.runPending && !this.running) {\n      this.runPending = true;\n      setTimeout(() => this.run(), 0);\n    }\n  },\n  run(): typeof promiseQueue {\n    if (!this.running && this.queue.length > 0) {\n      let resolve: (value: any) => void;\n      const result: any = [];\n      const drain = value => {\n        result.push(value);\n        if (this.queue.length === 0) {\n          this.running = null;\n          this.runPending = false;\n          resolve(result);\n        } else {\n          this.dequeue().then(drain);\n        }\n      };\n      this.running = new Promise<any[]>( r => resolve = r);\n      this.dequeue().then(drain);\n    }\n    return this;\n  }\n};\n\nexport class LocalForageAdapter implements Adapter<LocalForageActionMetadata, LocalForageActionOptions> {\n  readonly supports = { cancel: false };\n\n  private idCount = 1;\n\n  execute(ctx: ExecuteContext<LocalForageActionMetadata>,\n          options: LocalForageActionOptions,\n          params: ExecuteParams): AdapterResponse {\n    const id = this.idCount++;\n    return {\n      id,\n      response: promiseQueue.enqueue(() => this._execute(ctx, options, params), true)\n    };\n  }\n\n  cancel(id: number): void { } // tslint:disable-line:no-empty\n\n  protected _execute(ctx: ExecuteContext<LocalForageActionMetadata>,\n                     options: LocalForageActionOptions,\n                     params: ExecuteParams): Promise<ExecuteResponse> {\n    try {\n      options = options || <any> {};\n      const {action} = ctx;\n      const resource = ctx.targetMeta.model<LocalForageResourceMetadata>();\n\n      if (!resource) {\n        return Promise.reject(new Error('LocalForage resource not set.'));\n      }\n\n      const resourceKey = this.getResourceKey(resource);\n      const executeResponse: ExecuteResponse = { data: undefined };\n      let response: Promise<any>;\n      switch (action.method) {\n        case ActionMethodType.READ:\n          response = action.isCollection\n            ? this.getAll(resource)\n            : this.getById(resource, ctx.instance || ctx.data)\n          ;\n          break;\n        case ActionMethodType.DELETE:\n          const actionName: keyof DAOMethodType = <any> action.name;\n          executeResponse.skipDeserialize = true;\n          if (actionName === 'remove') {\n            const idToRemove = ctx.data[resource.identity];\n            response = this.removeId(resourceKey, idToRemove)\n              .then( () => localForage.removeItem(this.appendKey(resourceKey, idToRemove)) );\n          } else if (actionName === 'clear') {\n            response = this.removeTable(resourceKey);\n          } else {\n            response = Promise.reject(`Unknown DELETE command \"${actionName}\"`);\n          }\n          break;\n        case ActionMethodType.CREATE:\n          if (action.name === 'create') {\n            response = this.getById(resource, ctx.data)\n              .then( item => {\n                if ( item ) {\n                  return Promise\n                    .reject(new Error(`${resource.resName} with identity ${item[resource.identity]} exists`));\n                } else {\n                  if (resource.autoGenIdentity === true) {\n                    ctx.data[resource.identity] = uuid();\n                  }\n                  const idToCreate = ctx.data[resource.identity];\n                  ctx.deserialize(ctx.data);\n                  return this.ensureId(resourceKey, idToCreate)\n                    .then( () => localForage.setItem(this.appendKey(resourceKey, idToCreate), ctx.serialize()));\n                }\n              });\n          } else if (action.name === 'createBulk') {\n            response = this.getKeys(this.getResourceKey(resource))\n              .then( keys => {\n                  const promises: Array<Promise<any>> = [];\n                  const ids: any[] = [];\n                  const singleCtx = new ExecuteContext(\n                    ctx.targetMeta,\n                    Object.create(ctx.action, {isCollection: { value: false } })\n                  );\n                  for (let d of ctx.data) {\n                    if (resource.autoGenIdentity === true) {\n                      d[resource.identity] = uuid();\n                    }\n                    let currId = d[resource.identity];\n\n                    if (keys.has(currId)) {\n                      promises.push(Promise.reject(new Error(`${resource.resName} with identity ${currId} exists`)));\n                    } else {\n                      ids.push(currId);\n                      let c = singleCtx.clone();\n                      c.deserialize(d);\n                      promises.push(\n                        localForage.setItem(this.appendKey(resourceKey, currId), c.serialize())\n                      );\n                    }\n                  }\n                  return this.ensureId(resourceKey, ...ids).then( () => Promise.all(promises) );\n              });\n          }\n          break;\n        case ActionMethodType.REPLACE:\n        case ActionMethodType.UPDATE:\n          response = this.getById(resource, ctx.data)\n            .then( item => {\n              if (!item) {\n                return Promise.reject(new Error('Not Found'));\n              } else {\n                const idToUpdate = ctx.data[resource.identity];\n                let newCtx: ExecuteContext<any>;\n\n                if (action.method === ActionMethodType.UPDATE) {\n                  newCtx = ctx.clone();\n                  newCtx.deserialize(item);\n                } else {\n                  newCtx = ctx;\n                }\n                newCtx.deserialize(ctx.data);\n                return localForage.setItem(this.appendKey(resourceKey, idToUpdate), newCtx.serialize());\n              }\n            });\n          break;\n        default:\n          response = Promise.resolve();\n          break;\n      }\n      return response.then( value => {\n        executeResponse.data = value;\n        return executeResponse;\n      });\n\n    } catch (err) {\n      return Promise.reject(err);\n    }\n  }\n\n  private getAll(resource: ModelMetadata): Promise<any[]> {\n    const resourceKey = this.getResourceKey(resource);\n    return this.getKeys(resourceKey, true)\n      .then( keys => {\n        return Promise.all(\n          keys.map( k => localForage.getItem(this.appendKey(resourceKey, k)) )\n        );\n      });\n  }\n\n  private getById(resource: ModelMetadata, instance: any): Promise<any> {\n    return localForage.getItem(this.getInstanceKey(resource, instance));\n  }\n\n  private appendKey(resourceKey: string, instanceKey: string): string {\n    return `${resourceKey}.${instanceKey}`;\n  }\n\n  private getResourceKey(resource: ModelMetadata): string {\n    return `${KEY_PREFIX}.${resource.resName}`;\n  }\n\n  private getInstanceKey(resource: ModelMetadata, instance: any): string {\n    const identValue = instance[resource.identity];\n    return `${this.getResourceKey(resource)}.${identValue}`;\n  }\n\n  private getKeys(resourceKey: string, asArray: true): Promise<string[]>;\n  private getKeys(resourceKey: string): Promise<Set<string>>;\n  private getKeys(resourceKey: string, asArray?: true): Promise<Set<string> | string[]> {\n    return localForage.getItem(resourceKey)\n      .then( (ids: string[]) => {\n        if (asArray === true) {\n          return ids || [];\n        } else {\n          return new Set<string>(ids || []);\n        }\n      });\n  }\n\n  private saveKeys (resourceKey: string, keys?: Set<string>): Promise<Set<string> | undefined> {\n    return localForage.getItem(resourceKey)\n      .then( resourceTable => {\n        const isRemove = !(keys && keys.size);\n        if (isRemove) {\n          if (resourceTable) {\n            return this.removeTable(resourceKey);\n          }\n        } else {\n          if (!resourceTable) {\n            return this.addTable(resourceKey,  SetExt.asArray(keys));\n          } else {\n            return <any> localForage.setItem(resourceKey, SetExt.asArray(keys));\n          }\n        }\n      })\n      .then(() => keys);\n  }\n\n  private ensureId (resourceKey: string, ...ids: string[]): Promise<Set<string>> {\n    return this.getKeys(resourceKey)\n      .then(foundIds => {\n        for (let id of ids) {\n          foundIds.add(id);\n        }\n        return this.saveKeys(resourceKey, foundIds);\n      });\n  }\n\n  private removeId (resourceKey: string, ...ids: string[]): Promise<Set<string>> {\n    return this.getKeys(resourceKey)\n      .then(foundIds => {\n        for (let id of ids) {\n          foundIds.delete(id);\n        }\n        return this.saveKeys(resourceKey, foundIds);\n      });\n  }\n\n  private removeTable(key: string): Promise<void> {\n    const metaKey = `${KEY_PREFIX}.${METADATA_TABLE}`;\n    return localForage.getItem(metaKey)\n      .then( (metaTableArray: string[]) => {\n        const metaTable = new Set<string>(metaTableArray || []);\n        metaTable.delete(key);\n        return <any> localForage.setItem(metaKey, SetExt.asArray(metaTable)) // update tables map\n          .then( () => this.getKeys(key, true) ) // get all rows\n          .then( keys => Promise.all( // remove each row\n            keys.map( k => localForage.removeItem(this.appendKey(key, k)) )\n          ))\n          .then(() => localForage.removeItem(key) ); // remove table\n      });\n  }\n\n  private addTable(key: string, content: any): Promise<void> {\n    const metaKey = `${KEY_PREFIX}.${METADATA_TABLE}`;\n    return localForage.getItem(metaKey)\n      .then( (metaTableArray: string[]) => {\n        const metaTable = new Set<string>(metaTableArray || []);\n        metaTable.add(key);\n        return <any> localForage.setItem(metaKey, SetExt.asArray(metaTable))\n          .then( () => {\n            if (content) {\n              return localForage.setItem(key, content);\n            }\n          });\n      });\n  }\n}\n\nLocalForageActionMetadata.adapterClass = LocalForageAdapter;\n","import { stringify, MetaClass, targetStore, Constructor } from '@tdm/core/tdm';\n\nimport { LocalForageAdapter } from './core';\nimport {\n  LocalForageResourceMetadata,\n  LocalForageResourceMetadataArgs,\n  LocalForageActionMetadata,\n  LocalForageActionMetadataArgs // for AOT\n} from './metadata';\n\nexport const LocalForageAction = MetaClass.decorator(LocalForageActionMetadata);\n\n// FOR AOT\nconst localForageResource = MetaClass.get(LocalForageResourceMetadata).createResourceDecorator(LocalForageAdapter);\n\nexport function LocalForageResource(def?: LocalForageResourceMetadataArgs): (target) => any {\n  const t: any = localForageResource(def) as any;\n  return t;\n}\n\ntargetStore.on\n  .processType((target: Constructor<any>) => {\n    const resource = targetStore.getMetaFor(target, LocalForageResourceMetadata, true);\n    if (resource && !resource.identity ) {\n      throw new Error(\n        `Invalid LocalForageResource \"${stringify(target)}\" local forage resources must have an identity declared.`\n      );\n    }\n  });\n","import { isPrimitive } from '@tdm/core/tdm';\nimport {\n  TDMCollection as ARecordColl,\n  ActionMethodType,\n  TargetDAO,\n  IdentityValueType,\n  ExecuteContext\n} from '@tdm/data';\n\nimport { LocalForageActionOptions } from './core';\nimport { LocalForageActionMetadata } from './metadata';\nimport { LocalForageAction } from './decorators';\n\nexport const LocalForageDaoActions = {\n  query: LocalForageAction({\n    method: ActionMethodType.READ,\n    isCollection: true,\n    collInstance: true,\n    validation: 'incoming' as 'incoming',\n    alias: 'findAll'\n  }),\n\n  findById: LocalForageAction({\n    method: ActionMethodType.READ,\n    validation: 'incoming' as 'incoming',\n    pre: (ctx: ExecuteContext<LocalForageActionMetadata>,\n          id: IdentityValueType,\n          options?: LocalForageActionOptions) => {\n      ctx.setIdentity(id);\n      return options;\n    }\n  }),\n\n  find: LocalForageAction({\n    method: ActionMethodType.READ,\n    validation: 'incoming' as 'incoming',\n    alias: 'findOne'\n  }),\n\n  create: LocalForageAction({\n    method: ActionMethodType.CREATE,\n    validation: 'both' as 'both',\n    pre: (ctx: ExecuteContext<LocalForageActionMetadata>, data: any, options?: LocalForageActionOptions) => {\n      ctx.data = data;\n      return options;\n    }\n  }),\n\n  createBulk: LocalForageAction({\n    method: ActionMethodType.CREATE,\n    isCollection: true,\n    validation: 'both' as 'both',\n    pre: (ctx: ExecuteContext<LocalForageActionMetadata>, data: any, options?: LocalForageActionOptions) => {\n      ctx.data = data;\n      return options;\n    }\n  }),\n\n  update: LocalForageAction({\n    method: ActionMethodType.UPDATE,\n    validation: 'both' as 'both',\n    pre: (ctx: ExecuteContext<LocalForageActionMetadata>, data: any, options?: LocalForageActionOptions) => {\n      ctx.data = data;\n      return options;\n    }\n  }),\n\n  replace: LocalForageAction({\n    method: ActionMethodType.REPLACE,\n    validation: 'both' as 'both',\n    pre: (ctx: ExecuteContext<LocalForageActionMetadata>, data: any, options?: LocalForageActionOptions) => {\n      ctx.data = data;\n      return options;\n    }\n  }),\n\n  remove: LocalForageAction({\n    method: ActionMethodType.DELETE,\n    validation: 'skip' as 'skip',\n    pre: (ctx: ExecuteContext<LocalForageActionMetadata>,\n          id: IdentityValueType | any,\n          options?: LocalForageActionOptions) => {\n\n      if ( isPrimitive(id) ) {\n        ctx.setIdentity(id);\n      } else if ( ctx.instanceOf(id) ) {\n        ctx.setInstance(id);\n      } else {\n        ctx.deserialize(id);\n      }\n\n      return options;\n    }\n  }),\n\n  clear: LocalForageAction({\n    method: ActionMethodType.DELETE,\n    validation: 'skip' as 'skip'\n  })\n};\n\nexport class LocalForageDao<T> implements TargetDAO<T, LocalForageActionOptions> {\n  @LocalForageDaoActions.query\n  query: (options?: LocalForageActionOptions) => Promise<ARecordColl<T>>;\n  findAll: (options?: LocalForageActionOptions) => Promise<ARecordColl<T>>;\n\n  @LocalForageDaoActions.findById\n  findById: (id: IdentityValueType, options?: LocalForageActionOptions) => Promise<T>;\n\n  @LocalForageDaoActions.find\n  find: (options: LocalForageActionOptions) => Promise<T>;\n  findOne: (options: LocalForageActionOptions) => Promise<T>;\n\n  @LocalForageDaoActions.create\n  create: (data: T | Partial<T>, options?: LocalForageActionOptions) => Promise<T | void>;\n\n  @LocalForageDaoActions.createBulk\n  createBulk: (data: T[] | Partial<T[]>, options?: LocalForageActionOptions) => Promise<T[] | void>;\n\n  @LocalForageDaoActions.update\n  update: (data: T | Partial<T>, options?: LocalForageActionOptions) => Promise<T | void>;\n\n  @LocalForageDaoActions.replace\n  replace: (data: T | Partial<T>, options?: LocalForageActionOptions) => Promise<T | void>;\n\n  @LocalForageDaoActions.remove\n  remove: ( (id: IdentityValueType | T, options?: LocalForageActionOptions) => Promise<void> );\n\n  @LocalForageDaoActions.clear\n  clear: ( () => Promise<void> );\n}\n","export {\n  LocalForageResourceMetadataArgs,\n  LocalForageActionMetadataArgs\n} from './metadata';\n\nexport {\n  BaseLocalForageConfig,\n  LocalForageActionOptions\n} from './core';\n\nexport * from './decorators';\n\nexport { LocalForageDaoFactory } from './register';\n","import { DecoratorInfo, MetaClass } from '@tdm/core/tdm';\n\nimport { ActionMetadata, ActionMetadataArgs } from '@tdm/data';\nimport { BaseLocalForageConfig } from '../core/interfaces';\n\nexport interface LocalForageActionMetadataArgs extends ActionMetadataArgs, BaseLocalForageConfig {\n\n}\n\n@MetaClass<LocalForageActionMetadataArgs, LocalForageActionMetadata>({\n  allowOn: ['staticMember', 'member'],\n  extend: 'actionMetadata',\n  register: 'actionMetadata'\n})\nexport class LocalForageActionMetadata extends ActionMetadata {\n  constructor(obj: LocalForageActionMetadataArgs, info: DecoratorInfo) {\n    super(obj, info);\n\n  }\n\n  static adapterClass: any;\n}\n","export { LocalForageResourceMetadata, LocalForageResourceMetadataArgs } from './resource';\nexport { LocalForageActionMetadata, LocalForageActionMetadataArgs } from './action';\n","import {\n  ModelMetadataArgs,\n  ModelMetadata,\n  MetaClass\n} from '@tdm/core/tdm';\nimport { BaseLocalForageConfig } from '../core/interfaces';\n\nexport interface LocalForageResourceMetadataArgs extends ModelMetadataArgs, BaseLocalForageConfig {\n\n}\n\n@MetaClass<LocalForageResourceMetadataArgs, LocalForageResourceMetadata>({\n  inherit: ModelMetadata\n})\nexport class LocalForageResourceMetadata extends ModelMetadata implements LocalForageResourceMetadataArgs {\n\n}\n","import { targetStore, Constructor } from '@tdm/core/tdm';\nimport { DAO } from '@tdm/data';\nimport { LocalForageActionMetadata, LocalForageResourceMetadata } from './metadata';\nimport { LocalForageAdapter } from './core';\nimport { LocalForageDao } from './local-forage-dao';\n\ntargetStore.registerAdapter(LocalForageAdapter, {\n  actionMetaClass: LocalForageActionMetadata,\n  DAOClass: LocalForageDao,\n  resourceMetaClass: LocalForageResourceMetadata\n});\n\n/**\n * An HttpDAO factory based for a target.\n */\nexport class LocalForageDaoFactory {\n  get<T, Z>(target: Z & Constructor<T>): LocalForageDao<T> {\n    return <any> DAO.of(LocalForageAdapter, target);\n  }\n}\n\nDAO.localForage = LocalForageDaoFactory.prototype.get;\n\ndeclare module '@tdm/data/lib/dao/dao' {\n  module DAO { // tslint:disable-line:no-internal-module\n    /**\n     * Data Access Object for the localForage adapter.\n     */\n    function localForage<T>(target: Constructor<T>): LocalForageDao<T>;\n  }\n}\n","/*\n       * Public API Surface of mylib\n       */\nexport * from './lib/index';\n","/// <reference path=\"./service-worker\" />\nexport * from './messaging';\n","\nexport interface ClientProtocol { }\n\nexport interface ServerProtocol { }\n\nexport interface MessageResponse<Req = any, Res = any> {\n  request: Req;\n  data: Res;\n}\n\nexport type ClientRequest<T extends keyof ClientProtocol = keyof ClientProtocol> = ClientProtocol[T]['request'];\nexport type ServerResponse<T extends keyof ClientProtocol = keyof ClientProtocol> = ClientProtocol[T]['response']; // tslint:disable-line\n\nexport type ServerRequest<T extends keyof ServerProtocol = keyof ServerProtocol> = ServerProtocol[T]['request'];\nexport type ClientResponse<T extends keyof ServerProtocol = keyof ServerProtocol> = ServerProtocol[T]['response']; // tslint:disable-line\n\nexport type ClientPostMessageEvent<T extends keyof ClientProtocol = keyof ClientProtocol>\n  = MessageResponse<ClientProtocol[T]['request'], ClientProtocol[T]['response']>;\n\nexport type ServerPostMessageEvent<T extends keyof ServerProtocol = keyof ServerProtocol>\n  = MessageResponse<ServerProtocol[T]['request'], ServerProtocol[T]['response']>;\n\nexport class ServiceWorkerMessageError<T> extends Error {\n  name = 'ServiceWorkerMessageError';\n  remoteError?: ServiceWorkerRemoteError;\n  request: T;\n\n  private constructor() {\n    super();\n  }\n\n  static create<T>(request: T, message: string, remoteError?: any): ServiceWorkerMessageError<T> {\n    // tslint:disable-next-line:no-use-before-declare\n    const err = new ServiceWorkerMessageError<T>();\n    Object.setPrototypeOf(err, ServiceWorkerMessageError.prototype);\n    err.request = request;\n    if (remoteError) {\n      err.remoteError = remoteError;\n      err.message = `${err.name}: ${message}\\n${remoteError.name}: ${remoteError.message}`;\n      if (remoteError.stack) {\n        err.stack = remoteError.stack;\n      }\n    } else {\n      err.message = message;\n    }\n    return err;\n  }\n}\n\nexport interface ServiceWorkerRemoteError {\n  name: string;\n  message: string;\n  stack?: any;\n}\n\nexport function postError(error: Error, withStack: boolean = true): { error: ServiceWorkerRemoteError } {\n  const e = {\n    error: {\n      name: error.name,\n      message: error.message\n    } as ServiceWorkerRemoteError\n  };\n  if (withStack) {\n    e.error.stack = error.stack;\n  }\n  return e;\n}\n\nexport function sendMessageRequest<T extends keyof ServerProtocol>(\n  target: Window | ServiceWorker | Client,\n  message: { action: T, data: ServerRequest<T> },\n  timeout?: number\n): Promise<ServerPostMessageEvent<T>>;\nexport function sendMessageRequest<T extends keyof ClientProtocol>(\n  target: Window | ServiceWorker | Client,\n  message: { action: T, data: ClientRequest<T> },\n  timeout?: number\n): Promise<ClientPostMessageEvent<T>>;\nexport function sendMessageRequest<T extends keyof (ServerProtocol | ClientProtocol)>(\n  target: Window | ServiceWorker | Client,\n  message: { action: T, data: ClientRequest<T> | ServerRequest<T> },\n  timeout = 3 * 1e3\n): Promise<ClientPostMessageEvent<T> | ServerPostMessageEvent<T>> {\n\n  const { port1, port2 } = new MessageChannel();\n\n  return new Promise((resolve, reject) => {\n    const timer = isFinite(timeout) && setTimeout(() => {\n      reject(ServiceWorkerMessageError.create(message.data, `Service worker message timeout.`));\n    }, timeout);\n\n    port1.onmessage = ({ data }) => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n\n      // avoid high transient memory usage, see\n      // https://html.spec.whatwg.org/multipage/comms.html#ports-and-garbage-collection\n      port1.close();\n      port2.close();\n\n      if (data && data.error) {\n        reject(ServiceWorkerMessageError.create(message, `Service worker remote error.`, data.error));\n      } else {\n        resolve({ data, request: <any> message.data });\n      }\n    };\n\n    if (target === self.window) {\n      // posting message to self => legacy mode\n      // add `origin` param to `window.postMessage(message, targetOrigin, [transfer])`\n      target.postMessage(message, '*', [ port2 ]);\n    } else {\n      (target as ServiceWorker).postMessage(message, [ port2 ]);\n    }\n  });\n}\n","/*\n       * Public API Surface of mylib\n       */\nexport * from './lib/service-mocker';\n","import { MockerRequest, MockerResponse } from 'service-mocker';\nimport { createRouteHandlerParamDecorator, ParameterMetadataInfo } from './decorators';\n\ndeclare module './metadata/method-extensions/route-handler-param' {\n  interface RouteHandleParamType {\n    request: undefined;\n    response: undefined;\n    header: string;\n    param: string;\n    query: string;\n    body: BodyParamInjectType;\n  }\n}\nexport type BodyParamInjectType = 'text' | 'blob' | 'json' | 'arrayBuffer' | 'formData';\n\nexport const Request = createRouteHandlerParamDecorator(\n  'request',\n  (param: ParameterMetadataInfo, req: MockerRequest, res: MockerResponse) => req\n);\n\nexport const Response = createRouteHandlerParamDecorator(\n  'response',\n  (param: ParameterMetadataInfo, req: MockerRequest, res: MockerResponse) => res\n);\n\nexport const Header = createRouteHandlerParamDecorator(\n  'header',\n  (param: ParameterMetadataInfo, req: MockerRequest, res: MockerResponse, metaArgs?: string) => {\n    if (req.headers) {\n      return metaArgs ? req.headers.get(metaArgs) : req.headers;\n    }\n  }\n);\n\nexport const Param = createRouteHandlerParamDecorator(\n  'param',\n  (param: ParameterMetadataInfo, req: MockerRequest, res: MockerResponse, metaArgs?: string) => {\n    if (req.params) {\n      return metaArgs ? req.params[metaArgs] : req.params;\n    }\n  }\n);\n\nexport const Query = createRouteHandlerParamDecorator(\n  'query',\n  (param: ParameterMetadataInfo, req: MockerRequest, res: MockerResponse, metaArgs?: string) => {\n    if (req.query) {\n      return metaArgs ? req.query[metaArgs] : req.query;\n    }\n  }\n);\n\nexport const Body = createRouteHandlerParamDecorator(\n  'body',\n  (param: ParameterMetadataInfo, req: MockerRequest, res: MockerResponse, metaArgs?: BodyParamInjectType) => {\n    switch (metaArgs) {\n      case 'json':\n        return req.json();\n      case 'text':\n        return req.text();\n      case 'blob':\n        return req.blob();\n      case 'arrayBuffer':\n        return req.arrayBuffer();\n      case 'formData':\n        return req.formData();\n      default:\n        return req.json();\n    }\n  }\n);\n","import { MetaClass } from '@tdm/core/tdm';\n\nimport { FallbackRouteMetadata } from '../metadata';\n\nexport const FallbackRoute = MetaClass.decorator(FallbackRouteMetadata, true);\n","import { Constructor, targetStore } from '@tdm/core/tdm';\n\nimport { ServiceMockControllerMetadata } from '../metadata';\nimport { initExtensions } from '../metadata/method-extensions';\n\nexport { Server } from './server';\nexport { OnMessage, OnMessageHandler, OnMessageHandlerDecorator } from './on-message';\nexport * from './service-mock-method';\nexport * from './fallback-route';\nexport * from './method-extensions';\nexport {\n  createRouteHandlerParamDecorator,\n  MethodParamInjections,\n  ParameterMetadataInfo,\n  ParamInjectionHandler\n} from './route-handler-param';\nexport { ServiceMockController } from './service-mock-controller';\n\ntargetStore.on\n  .processType((target: Constructor<any>) => {\n    const controllerMeta = targetStore.getMetaFor(target, ServiceMockControllerMetadata, true);\n    if (controllerMeta) {\n      initExtensions(target);\n    }\n  });\n","import { MetaClass } from '@tdm/core/tdm';\n\nimport {\n  HttpCodeMetadata,\n  ForwardMetadata,\n  DelayMetadata\n} from '../metadata';\n\nexport const HttpCode = MetaClass.decorator(HttpCodeMetadata);\nexport const Forward = MetaClass.decorator(ForwardMetadata);\nexport const Delay = MetaClass.decorator(DelayMetadata);\n","import { MetaClass } from '@tdm/core/tdm';\n\nimport { ClientProtocol, ClientRequest, ServerResponse } from '@tdm/service-mocker/shared';\nimport { OnMessageMetadata } from '../metadata';\n\nconst onMessage = MetaClass.decorator(OnMessageMetadata, 'method');\n\nexport type OnMessageHandler<T extends keyof ClientProtocol>\n  = (data: ClientRequest<T>) => Promise<ServerResponse<T>>;\n\nexport type OnMessageHandlerDecorator = <T extends keyof ClientProtocol>(\n  target: Object,\n  propertyKey: T,\n  descriptor: TypedPropertyDescriptor<OnMessageHandler<T>>\n) => any;\n\nexport type OnMessageHandlerDecoratorLoose = <T extends keyof ClientProtocol>(\n  target: Object,\n  propertyKey: any,\n  descriptor: TypedPropertyDescriptor<OnMessageHandler<T>>\n) => any;\n\n/**\n * Declares a handler for an incoming message from the client.\n */\nexport function OnMessage(): OnMessageHandlerDecorator;\nexport function OnMessage<T extends keyof ClientProtocol>(metaArgs: T): OnMessageHandlerDecoratorLoose;\nexport function OnMessage<T extends keyof ClientProtocol>(metaArgs?: T): OnMessageHandlerDecorator {\n  if (!metaArgs) {\n    return (...args: any[]) => (<any> onMessage)(args[1])(args[0], args[1], args[2]);\n  } else {\n    return onMessage(metaArgs);\n  }\n}\n","import { MockerRequest, MockerResponse } from 'service-mocker';\nimport { BaseParamMetadata, Overwrite, MetaClass, isFunction } from '@tdm/core/tdm';\n\nimport { RequestContext } from '../request-context';\nimport { RouteHandleParamType, RouteHandlerParamMetadata } from '../metadata';\n\nexport type ParameterMetadataInfo\n  = Overwrite<Pick<BaseParamMetadata, 'name' | 'paramIndex' | 'paramType'>, { name: string }>;\n\nexport type ParamInjectionHandler<T extends keyof RouteHandleParamType> = (param: ParameterMetadataInfo,\n                                                                           req: MockerRequest,\n                                                                           res: MockerResponse,\n                                                                           metaArgs?: RouteHandleParamType[T]) => any;\n\nexport type MethodParamInjections = { [P in keyof RouteHandleParamType]: ParamInjectionHandler<P> };\n\nconst methodParamInject = MetaClass.decorator(RouteHandlerParamMetadata, 'param');\nconst methodParamInjections: MethodParamInjections = <any> {};\n\n// tslint:disable:max-line-length\nexport function resolveRouteHandlerParam<T extends keyof RouteHandleParamType>(ctx: RequestContext,\n                                                                               p: BaseParamMetadata,\n                                                                               metaType: T,\n                                                                               metaArgs?: RouteHandleParamType[T]) {\n  if (isFunction( methodParamInjections[metaType])) {\n    return methodParamInjections[metaType].apply(null, [p, ctx.req, ctx.res, metaArgs]);\n  }\n}\n\nexport function createRouteHandlerParamDecorator<T extends keyof RouteHandleParamType>(metaType: T,\n                                                                                       handler: ParamInjectionHandler<T>): (metaArgs?: RouteHandleParamType[T]) => ParameterDecorator;\nexport function createRouteHandlerParamDecorator<T extends keyof RouteHandleParamType>(metaType: T,\n                                                                                       handler: ParamInjectionHandler<T>,\n                                                                                       metaArgsMandatory: true): (metaArgs: RouteHandleParamType[T]) => ParameterDecorator;\nexport function createRouteHandlerParamDecorator<T extends keyof RouteHandleParamType>(metaType: T,\n                                                                                       handler: ParamInjectionHandler<T>,\n                                                                                       metaArgsMandatory?: boolean): ( (metaArgs: RouteHandleParamType[T]) => ParameterDecorator ) | ( (metaArgs?: RouteHandleParamType[T]) => ParameterDecorator ) {\n  methodParamInjections[metaType] = handler;\n  return (metaArgs?: RouteHandleParamType[T]) => {\n    if (metaArgsMandatory === true && !metaArgs) {\n      throw new Error('');\n    }\n    return methodParamInject({ metaType, metaArgs });\n  };\n}\n","import {\n  isFunction,\n  stringify,\n  getBaseClass,\n  MapExt,\n  MetaClass,\n  Constructor,\n  targetStore\n} from '@tdm/core/tdm';\nimport { MockerRequest, MockerResponse } from 'service-mocker/server';\n\nimport { ServerResponse, ClientProtocol, ClientRequest } from '@tdm/service-mocker/shared';\nimport { ServiceMockerServer, MessageHandler, ServerBase } from '../../service-mocker-server/index';\nimport { ServerMetadata, ServerMetadataArgs, FallbackRouteMetadata } from '../metadata';\nimport { initExtensions } from '../metadata/method-extensions';\nimport { createHandler, createGlobalMiddlewareHandler } from '../request-handler';\nimport { registerControllers } from '../register';\n\nconst server = MetaClass.decorator(ServerMetadata, true, 'class');\n\nclass ContextMessageHandler implements MessageHandler {\n\n  constructor(private instance: any, private handlersMap: Map<string, string>) {\n  }\n\n  canHandle(name: keyof ClientProtocol): boolean {\n    return this.handlersMap.has(name);\n  }\n\n  handle<T extends keyof ClientProtocol>(action: T, data: ClientRequest<T>): Promise<ServerResponse<T>> {\n    const methodName = this.handlersMap.get(action);\n    return this.instance[ methodName ](data);\n  }\n}\n\nfunction isExtendingServerBase(target: Constructor<any>): boolean {\n  while ( target ) {\n    if ( target === ServerBase ) {\n      return true;\n    }\n    target = <any> getBaseClass(target);\n  }\n  return false;\n}\n\nexport function Server(metaArgs: ServerMetadataArgs): <T extends Constructor<ServerBase>>(target: T) => T | void {\n  return <T extends Constructor<ServerBase>>(target: T) => {\n\n    if ( !isExtendingServerBase(target) ) {\n      throw new Error(`Class ${stringify(target)} decorated with \"@Server()\" must extend \"ServerBase\"`);\n    }\n\n    class WrappedServiceMockerServer extends (target as T) { // tslint:disable-line:max-classes-per-file\n      constructor(...args: any[]) {\n        super(...args);\n        const serverMeta = targetStore.getMetaFor(target, ServerMetadata, true);\n        const serviceMockerServer = ServiceMockerServer\n          .create(new ContextMessageHandler(this, serverMeta.messageHandlers), serverMeta.baseUrl);\n\n        registerControllers(serverMeta, serviceMockerServer);\n\n        if (isFunction(this.init)) {\n          this.init();\n        }\n\n        const fallback = targetStore.getMetaFor(target, FallbackRouteMetadata);\n        if (fallback) {\n          const fallbackMeta = MapExt.asValArray(fallback)[0];\n          if (fallbackMeta) {\n            serviceMockerServer.router.scope()\n              .all('/*', createGlobalMiddlewareHandler(\n                serverMeta.baseUrl,\n                createHandler(() => this, fallbackMeta),\n                (req: MockerRequest, res: MockerResponse) => res.forward(req.url)\n              ));\n          }\n        }\n      }\n    }\n\n    targetStore.registerTarget(WrappedServiceMockerServer);\n    targetStore.extend(target, WrappedServiceMockerServer);\n    target = <any> server(metaArgs)(WrappedServiceMockerServer) || WrappedServiceMockerServer;\n\n    initExtensions(target);\n\n    return target;\n  };\n}\n","import { MetaClass, targetStore, processModel } from '@tdm/core/tdm';\n\nimport { ServiceMockControllerMetadata, ServiceMockControllerMetadataArgs } from '../metadata';\n\nconst serviceMockController = MetaClass.decorator(ServiceMockControllerMetadata, 'class');\nexport function ServiceMockController(metaArgs?: ServiceMockControllerMetadataArgs): ClassDecorator {\n  return (target: any) => {\n    target = serviceMockController(metaArgs)(target) || target;\n    const metaClass = targetStore.getMetaFor(target, ServiceMockControllerMetadata, true);\n    processModel(target, metaClass, metaClass.skip !== true);\n  };\n}\n","import { MetaClass, Omit } from '@tdm/core/tdm';\n\nimport {\n  ServiceMockMethodMetadata,\n  ServiceMockMethodMetadataArgs,\n  ServiceMockMethodType\n} from '../metadata';\n\nexport const ServiceMockMethod = MetaClass.decorator(ServiceMockMethodMetadata);\n\nfunction createMethodDecorator(method: keyof ServiceMockMethodType) {\n  return (metaArgs?: Omit<ServiceMockMethodMetadataArgs, 'method'>) => {\n    return ServiceMockMethod(<any> Object.assign({}, metaArgs || {}, { method }));\n  };\n}\n\nexport const ServiceMockGet = createMethodDecorator('get');\nexport const ServiceMockPost = createMethodDecorator('post');\nexport const ServiceMockPut = createMethodDecorator('put');\nexport const ServiceMockPatch = createMethodDecorator('patch');\nexport const ServiceMockDelete = createMethodDecorator('delete');\nexport const ServiceMockHead = createMethodDecorator('head');\n","export {\n  ServiceMockControllerMetadataArgs,\n  ServiceMockMethodMetadataArgs,\n  ServiceMockMethodType,\n  RouteHandleParamType\n} from './metadata';\n\nexport * from './decorators';\nexport * from './builtin-route-handler-params';\n","import { BaseMetadata, MetaClass, TargetMetadata, PropMetadata, DecoratorInfo } from '@tdm/core/tdm';\nimport { getExtensions, MethodExtensionsHost } from './method-extensions/method-extensions';\n\n@MetaClass<never, FallbackRouteMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap'\n})\n@MethodExtensionsHost()\nexport class FallbackRouteMetadata extends BaseMetadata {\n  constructor(metaArgs: undefined, info: DecoratorInfo) {\n    super(info);\n  }\n\n  initExtensions(tMeta: TargetMetadata, prop: PropMetadata): void {\n    for (let [key, metaClass] of getExtensions()) {\n      if (!this[key]) {\n        const metaClassInstance: any = tMeta.getMetaFor(metaClass, prop.name as any);\n        // we set 'any' because `getMetaFor returns a type which is the instance of the metaClass however,\n        // this is not a rule, the type can be for example and array of the metaClass (we use getValues) for that\n        if (metaClassInstance) {\n          this[key] = metaClassInstance;\n        }\n      }\n    }\n  }\n}\n","export { ServerMetadata, ServerMetadataArgs } from './server';\n\nexport {\n  ServiceMockMethodMetadata,\n  ServiceMockMethodMetadataArgs,\n  ServiceMockMethodType\n} from './service-mock-method';\n\nexport { FallbackRouteMetadata } from './fallback-route';\n\nexport {\n  HttpCodeMetadata,\n  ForwardMetadata,\n  DelayMetadata,\n  RouteHandlerParamMetadata,\n  RouteHandleParamType\n} from './method-extensions';\n\nexport { ServiceMockControllerMetadata, ServiceMockControllerMetadataArgs } from './service-mock-controller';\n\nexport { OnMessageMetadata } from './on-message';\n","import { BaseMetadata, DecoratorInfo, MetaClass } from '@tdm/core/tdm';\n\nimport { ServiceMockMethodMetadata } from '../service-mock-method';\n\n@MetaClass<number, DelayMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap',\n  proxy: {\n    host: ServiceMockMethodMetadata,\n    containerKey: 'httpCode'\n  }\n})\nexport class DelayMetadata extends BaseMetadata {\n  public delay: number;\n\n  constructor(delay: number, info: DecoratorInfo) {\n    super(info);\n    this.delay = delay;\n  }\n}\n\ndeclare module '../service-mock-method' {\n  interface ServiceMockMethodMetadataArgs {\n    delay?: number;\n  }\n}\n\ndeclare module './method-extensions' {\n  interface ServiceMockMethodExtensionsHost {\n    delayMeta?: DelayMetadata;\n  }\n  interface ServiceMockMethodExtensions {\n    delayMeta: DelayMetadata;\n  }\n}\n","import { BaseMetadata, DecoratorInfo, MetaClass } from '@tdm/core/tdm';\n\nimport { ServiceMockMethodMetadata } from '../service-mock-method';\n\n@MetaClass<number, ForwardMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap',\n  proxy: {\n    host: ServiceMockMethodMetadata,\n    containerKey: 'forward'\n  }\n})\nexport class ForwardMetadata extends BaseMetadata {\n  public forward: string | true;\n\n  constructor(forward: string | true, info: DecoratorInfo) {\n    super(info);\n    this.forward = forward;\n  }\n}\n\ndeclare module '../service-mock-method' {\n  interface ServiceMockMethodMetadataArgs {\n    /**\n     * A string value that will be used to forward the request\n     */\n    forward?: string | true;\n  }\n}\n\ndeclare module './method-extensions' {\n  interface ServiceMockMethodExtensionsHost {\n    forwardMeta?: ForwardMetadata;\n  }\n  interface ServiceMockMethodExtensions {\n    forwardMeta: ForwardMetadata;\n  }\n}\n","import { BaseMetadata, DecoratorInfo, MetaClass } from '@tdm/core/tdm';\n\nimport { ServiceMockMethodMetadata } from '../service-mock-method';\n\n@MetaClass<number, HttpCodeMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap',\n  proxy: {\n    host: ServiceMockMethodMetadata,\n    containerKey: 'httpCode'\n  }\n})\nexport class HttpCodeMetadata extends BaseMetadata {\n  public code: number;\n\n  constructor(code: number, info: DecoratorInfo) {\n    super(info);\n    this.code = code;\n  }\n}\n\ndeclare module '../service-mock-method' {\n  interface ServiceMockMethodMetadataArgs {\n    httpCode?: number;\n  }\n}\n\ndeclare module './method-extensions' {\n  interface ServiceMockMethodExtensionsHost {\n    httpCodeMeta?: HttpCodeMetadata;\n  }\n  interface ServiceMockMethodExtensions {\n    httpCodeMeta: HttpCodeMetadata;\n  }\n}\n","export * from './method-extensions';\nexport { HttpCodeMetadata } from './http-code';\nexport { ForwardMetadata } from './forward';\nexport { DelayMetadata } from './delay';\nexport {  RouteHandleParamType, RouteHandlerParamMetadata } from './route-handler-param';\n","import { targetStore, MapExt, BaseMetadata, Constructor, PropMetadata, TargetMetadata } from '@tdm/core/tdm';\n\nexport interface ServiceMockMethodExtensions { }\nexport interface ServiceMockMethodExtensionsHost extends BaseMetadata {\n  initExtensions(tMeta: TargetMetadata, prop: PropMetadata): void;\n}\n\nexport type ServiceMockMethodExtensionsStore<T extends keyof ServiceMockMethodExtensions = keyof ServiceMockMethodExtensions>\n  = Array<[T, Constructor<ServiceMockMethodExtensions[T]>]>;\n\nconst methodExtensionStore: ServiceMockMethodExtensionsStore = [ ];\nconst methodExtensionHostStore: Array<Constructor<ServiceMockMethodExtensionsHost>> = [ ];\n\nexport function getExtensions(): ServiceMockMethodExtensionsStore {\n  return methodExtensionStore;\n}\n\n// tslint:disable-next-line:max-line-length\nexport function registerMethodExtensions<T extends keyof ServiceMockMethodExtensions = keyof ServiceMockMethodExtensions>(key: T, metaClass: Constructor<ServiceMockMethodExtensions[T]>): void {\n  methodExtensionStore.push([key, metaClass]);\n}\n\nexport function MethodExtensionsHost(): <T extends ServiceMockMethodExtensionsHost>(target: Constructor<T>) => any {\n  return (t: any) => {\n    methodExtensionHostStore.push(t);\n  };\n}\n\nexport function initExtensions(target: Constructor<any>): void {\n  const tMeta = targetStore.getTargetMeta(target);\n  for (let ext of methodExtensionHostStore) {\n    const extMap = tMeta.getMetaFor(ext);\n    if (extMap) {\n      MapExt.asKeyValArray(extMap).forEach(([ k, v ]) => {\n        const prop = tMeta.getCreateProp(k as any);\n        v.initExtensions(tMeta, prop);\n      });\n    }\n  }\n}\n","import { BaseParamMetadata, DecoratorInfo, MetaClass, Constructor } from '@tdm/core/tdm';\n\nexport interface RouteHandleParamType { }\n\nexport interface RouteHandlerParamMetadataArgs<T extends keyof RouteHandleParamType = keyof RouteHandleParamType> {\n  metaType: T;\n  metaArgs: RouteHandleParamType[T];\n}\n\n@MetaClass<any, RouteHandlerParamMetadata>({\n  allowOn: ['param'],\n  register: 'array',\n  extend: 'mergeMapArray'\n})\nexport class RouteHandlerParamMetadata extends BaseParamMetadata {\n  constructor(public metaArgs: RouteHandlerParamMetadataArgs, info: DecoratorInfo, target: Constructor<any>) {\n    super(info, target);\n  }\n}\n\ndeclare module './method-extensions' {\n  interface ServiceMockMethodExtensionsHost {\n    routeHandlerParams?: RouteHandlerParamMetadata[];\n  }\n  interface ServiceMockMethodExtensions {\n    routeHandlerParams: RouteHandlerParamMetadata;\n  }\n}\n","import { BaseMetadata, MetaClass, DecoratorInfo } from '@tdm/core/tdm';\nimport { ClientProtocol } from '@tdm/service-mocker/shared';\n\n@MetaClass<string, OnMessageMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap'\n})\nexport class OnMessageMetadata extends BaseMetadata {\n  constructor(public eventName: keyof ClientProtocol, info: DecoratorInfo) {\n    super(info);\n  }\n}\n","import {\n  stringify,\n  isFunction,\n  targetStore,\n  DecoratorInfo,\n  MapExt,\n  ModelMetadata,\n  MetaClass,\n  BaseMetadata,\n  Constructor,\n  TargetMetadata\n} from '@tdm/core/tdm';\n\nimport { ServiceMockerServer } from '../../service-mocker-server';\nimport { ServiceMockControllerMetadata } from '../metadata';\nimport { OnMessageMetadata } from './on-message';\n\nexport interface ServerMetadataArgs {\n  /**\n   * The controllers to register.\n   * Valid values:\n   *  - An array of all the classes (controllers).\n   *  - A function returning an array of all the classes (controllers).\n   *    The context (this) the function is invoked with is the instance of the server.\n   *  - Literal string 'all' which means all controllers found will register.\n   */\n  controllers: ( Array<Constructor<any>> ) | ( () => Array<Constructor<any>> ) | ( 'all' );\n\n  baseUrl?: string;\n}\n\n@MetaClass<ServerMetadataArgs, ServerMetadata>({\n  single: true,\n  inherit: ModelMetadata,\n  allowOn: [ 'class' ]\n})\nexport class ServerMetadata extends BaseMetadata {\n  baseUrl: string;\n  messageHandlers = new Map<string, string>();\n\n  controllers: Array<Constructor<any>> | ( () => Array<Constructor<any>> ) | 'all';\n\n  constructor(metaArgs: ServerMetadataArgs, info: DecoratorInfo, public target: Constructor<any>) {\n    super(info);\n    this.baseUrl = metaArgs.baseUrl || '/';\n    this.controllers = metaArgs.controllers;\n    const clientMessage = targetStore.getMetaFor(target, OnMessageMetadata);\n    if ( clientMessage ) {\n      for ( let [ k, v ] of MapExt.asKeyValArray(clientMessage) ) {\n        this.messageHandlers.set(v.eventName, <any> k);\n      }\n    }\n  }\n}\n","import {\n  LazyInit,\n  Constructor,\n  DecoratorInfo,\n  ModelMetadataArgs,\n  ModelMetadata,\n  MetaClass\n} from '@tdm/core/tdm';\n\nimport { ServiceMockMethodMetadata } from './service-mock-method';\n\nexport interface ServiceMockControllerMetadataArgs extends ModelMetadataArgs {\n  /**\n   * A parameterized URL template with parameters prefixed by : as in /user/:username.\n   */\n  path: string;\n}\n\n@MetaClass<ServiceMockControllerMetadataArgs, ServiceMockControllerMetadata>({\n  inherit: ModelMetadata\n})\nexport class ServiceMockControllerMetadata extends ModelMetadata implements ServiceMockControllerMetadataArgs {\n  /**\n   * The url for this resource.\n   * This property does not extend from a base type.\n   */\n  path: string;\n\n  @LazyInit(function(this: ServiceMockControllerMetadata) {\n    return this.tMeta.getMetaFor(ServiceMockMethodMetadata);\n  })\n  methods: Map<TdmPropertyKey, ServiceMockMethodMetadata>;\n\n  constructor(obj: ServiceMockControllerMetadataArgs | undefined, info: DecoratorInfo, t: Constructor<any>) {\n    super(obj, info, t);\n    if (obj) {\n      this.path = obj.path || '/';\n    }\n  }\n\n  setMethod(metaArgs: ServiceMockMethodMetadata): void {\n    this.methods.set(metaArgs.name, metaArgs);\n  }\n\n  getMethod(propertyKey: TdmPropertyKey): ServiceMockMethodMetadata | undefined {\n    return this.methods.get(propertyKey);\n  }\n}\n","import { BaseMetadata, MetaClass, DecoratorInfo, TargetMetadata, PropMetadata, targetStore } from '@tdm/core/tdm';\nimport { getExtensions, MethodExtensionsHost } from './method-extensions/method-extensions';\n\nexport interface ServiceMockMethodType {\n  get: any;\n  post: any;\n  put: any;\n  patch: any;\n  delete: any;\n  head: any;\n  options: any;\n}\n\nexport interface ServiceMockMethodMetadataArgs {\n  method: keyof ServiceMockMethodType;\n\n  /**\n   * Additional path (to the controller path) for this endpoint.\n   */\n  path?: string;\n}\n\n@MetaClass<ServiceMockMethodMetadataArgs, ServiceMockMethodMetadata>({\n  allowOn: ['member'],\n  extend: 'mergeMap'\n})\n@MethodExtensionsHost()\nexport class ServiceMockMethodMetadata extends BaseMetadata\n                                       implements ServiceMockMethodMetadataArgs {\n  method: keyof ServiceMockMethodType;\n\n  /**\n   * Additional path (to the controller path) for this endpoint.\n   */\n  path?: string;\n\n  constructor(obj: ServiceMockMethodMetadataArgs | undefined, info: DecoratorInfo, t: any) {\n    super(info);\n    this.path = obj.path || '/';\n    this.method = obj.method;\n  }\n\n  initExtensions(tMeta: TargetMetadata, prop: PropMetadata): void {\n    for (let [key, metaClass] of getExtensions()) {\n      if (!this[key]) {\n        const metaClassInstance: any = tMeta.getMetaFor(metaClass, prop.name as any);\n        // we set 'any' because `getMetaFor returns a type which is the instance of the metaClass however,\n        // this is not a rule, the type can be for example and array of the metaClass (we use getValues) for that\n        if (metaClassInstance) {\n          this[key] = metaClassInstance;\n        }\n      }\n    }\n  }\n}\n","import { MockerRequest, MockerResponse } from 'service-mocker/server';\nimport {\n  stringify,\n  isFunction,\n  targetStore,\n  TargetMetadata,\n  MapExt\n} from '@tdm/core/tdm';\n\nimport { HttpError } from '../http-error';\nimport { createHandlerFromController } from './request-handler';\nimport { ServerMetadata, ServiceMockControllerMetadata } from './metadata';\nimport { ServiceMockerServer } from '../service-mocker-server';\n\nexport function registerControllers(serverMeta: ServerMetadata, serviceMockerServer: ServiceMockerServer): void {\n  const allMode = serverMeta.controllers === 'all';\n\n  const reg = (t: TargetMetadata) => {\n    const m: any = t.model();\n    if ( m instanceof ServiceMockControllerMetadata ) {\n      registerMethods(m, serviceMockerServer);\n    } else if (!allMode) {\n      throw new Error(`\"${stringify(t.target)}\" is not a controller in \"${stringify(serverMeta.target)}\"`);\n    }\n  };\n\n  if ( allMode ) {\n    targetStore.getAllModels().forEach(reg);\n  } else {\n    const controllers = Array.isArray(serverMeta.controllers)\n      ? serverMeta.controllers\n      : isFunction(serverMeta.controllers) ? serverMeta.controllers() : null\n    ;\n    if ( !controllers ) {\n      throw new Error(`@Server() class \"${stringify(serverMeta.target)}\" has no controllers not set.`);\n    }\n    for ( let c of controllers ) {\n      const t = targetStore.getTargetMeta(c);\n      if ( t ) {\n        reg(t);\n      }\n    }\n  }\n}\n\nexport function registerMethods(ctrl: ServiceMockControllerMetadata , server: ServiceMockerServer): void {\n  const subRouter = server.router.scope(ctrl.path);\n  const methods = MapExt.asValArray(ctrl.methods);\n  for (let m of methods) {\n    switch (m.method) {\n      case 'get':\n      case 'post':\n      case 'put':\n      case 'patch':\n      case 'delete':\n      case 'options':\n      case 'head':\n        subRouter[m.method](m.path, createHandlerFromController(ctrl, m));\n        break;\n      default:\n        break;\n    }\n  }\n  subRouter.all('/*', methodNotAllowed);\n}\n\nfunction methodNotAllowed(req: MockerRequest, res: MockerResponse) {\n  return res.status(405).json(HttpError.createKnown('405'));\n}\n","import { isFunction } from '@tdm/core/tdm';\nimport { MockerRequest, MockerResponse, RouteCallback } from 'service-mocker/server';\n\nimport { HttpError } from '../http-error';\nimport { resolveRouteHandlerParam } from './decorators/route-handler-param';\nimport { ServiceMockControllerMetadata } from './metadata';\nimport { RequestContext } from './request-context';\nimport { ServiceMockMethodExtensionsHost } from './metadata/method-extensions';\n\nfunction getForwardLink(ctx: RequestContext): Promise<string> {\n  const forwardValue = ctx.method.forwardMeta.forward === true\n    ? resolveMethodValue(ctx)\n    : ctx.method.forwardMeta.forward\n  ;\n  return Promise.resolve(forwardValue);\n}\n\nfunction delay(method: ServiceMockMethodExtensionsHost): Promise<void> {\n  return method.delayMeta\n    ? new Promise( resolve => setTimeout(resolve, method.delayMeta.delay || 0) )\n    : Promise.resolve()\n  ;\n}\n\nfunction getHttpCode(method: ServiceMockMethodExtensionsHost): number {\n  return method.httpCodeMeta ? method.httpCodeMeta.code : 200;\n}\n\nfunction resolveMethodValue(ctx: RequestContext): Promise<any> | any {\n  const instance = ctx.instance();\n  const name = ctx.method.decoratorInfo.name;\n  if (instance && name in instance) {\n    return isFunction(instance[name]) ? emitInstanceMethod(ctx, instance, name as string) : instance[name];\n  } else {\n    return null;\n  }\n}\n\nfunction emitInstanceMethod(ctx: RequestContext, instance: any, name: string): any {\n  const injection: any[] = [];\n  const { routeHandlerParams } = ctx.method;\n  if (Array.isArray(routeHandlerParams)) {\n    for (let p of routeHandlerParams) {\n      const { metaType, metaArgs } = p.metaArgs;\n      injection[p.paramIndex] = resolveRouteHandlerParam(ctx, p, metaType, metaArgs);\n    }\n  }\n  return Promise.all(injection)\n    .then( args => instance[name](...args));\n}\n\nfunction emitError(res: MockerResponse, error: Error, extendError?: any): void {\n  const httpError: HttpError = error instanceof HttpError\n    ? error\n    : HttpError.createKnown('500', error.message || 'Unknown Error')\n  ;\n\n  const sendData: any = {\n    message: httpError.message\n  };\n\n  if (httpError.description) {\n    sendData.description = httpError.description;\n  }\n\n  if (extendError) {\n    Object.assign(sendData, extendError);\n  }\n\n  res.status(httpError.httpCode).json(sendData);\n}\n\nexport function createHandlerFromController(ctrl: ServiceMockControllerMetadata,\n                                            method: ServiceMockMethodExtensionsHost): RouteCallback {\n  return createHandler(() => ctrl.factory(false), method);\n}\n\nexport function createHandler(instance: () => any,\n                              method: ServiceMockMethodExtensionsHost): RouteCallback {\n  return (req: MockerRequest, res: MockerResponse) => {\n    return delay(method)\n      .then( () => {\n        const ctx: RequestContext = { instance, method, req, res };\n        if (method.forwardMeta) {\n          return getForwardLink(ctx).then( value => res.forward(value) );\n        } else {\n          res.type('json');\n          return Promise.resolve(resolveMethodValue(ctx))\n            .then( value => res.status(getHttpCode(method)).json(value) );\n        }\n      })\n      .catch( err => emitError(res, err) );\n  };\n}\n\n/**\n * Returns a handler that checks if the current request pathname starts with the given path, if so will\n * invoke `matchHandler` otherwise will invoke noMatchHandler if provided.\n */\nexport function createGlobalMiddlewareHandler(path: string,\n                                              matchHandler: RouteCallback,\n                                              noMatchHandler?: RouteCallback): RouteCallback {\n  const regExp = new RegExp(`^${path}(?:$|\\/)`);\n  return (req: MockerRequest, res: MockerResponse) => {\n    const url = new URL(req.url);\n    if ( regExp.test(url.pathname) ) {\n      return matchHandler(req, res);\n    } else if (noMatchHandler) {\n      return noMatchHandler(req, res);\n    }\n  };\n}\n","export interface HttpErrorConfig<T extends typeof HttpError = typeof HttpError> {\n  message?: string;\n  description?: string;\n  base?: T;\n}\n\nexport const KNOWN_HTTP_ERRORS = {\n  400: {\n    name: 'BadRequest',\n    message: 'Bad Request'\n  },\n  401: {\n    name: 'Unauthorized',\n    message: 'Unauthorized'\n  },\n  402: {\n    name: 'PaymentRequired',\n    message: 'Payment Required'\n  },\n  403: {\n    name: 'Forbidden',\n    message: 'Forbidden'\n  },\n  404: {\n    name: 'NotFound',\n    message: 'Not Found'\n  },\n  405: {\n    name: 'MethodNotAllowed',\n    message: 'Method Not Allowed'\n  },\n  406: {\n    name: 'NotAcceptable',\n    message: 'Not Acceptable'\n  },\n  /* ... */\n  500: {\n    name: 'InternalServerError',\n    message: 'Internal Server Error'\n  },\n  501: {\n    name: 'NotImplemented',\n    message: 'Not Implemented'\n  },\n  502: {\n    name: 'BadGateway',\n    message: 'Bad Gateway'\n  },\n  503: {\n    name: 'ServiceUnavailable',\n    message: 'Service Unavailable'\n  },\n  504: {\n    name: 'Gateway Timeout',\n    message: 'Gateway Timeout'\n  },\n  505: {\n    name: 'HTTP Version Not Supported',\n    message: 'HTTP Version Not Supported'\n  }\n};\n\nconst UNKNOWN_HTTP_ERROR = {\n  name: 'UnknownError',\n  message: 'Unknown Error'\n};\n\nexport class HttpError extends Error {\n\n  httpCode: number;\n  description?: string;\n\n  private constructor() {\n    super();\n  }\n\n  static create(httpCode: number, config: HttpErrorConfig = <any> {}): HttpError {\n    // tslint:disable-next-line:no-use-before-declare\n    const { message, description } = config;\n    const base = config.base || HttpError;\n\n    const httpError = new base();\n    Object.setPrototypeOf(httpError, base.prototype);\n\n    httpError.httpCode = httpCode || 500;\n    if ( message ) {\n      httpError.message = message;\n    }\n    if ( description ) {\n      httpError.description = description;\n    }\n\n    httpError.stack = new Error().stack;\n\n    return httpError;\n  }\n\n  static createKnown(httpCode: keyof typeof KNOWN_HTTP_ERRORS, description?: string): HttpError {\n    let knownError = KNOWN_HTTP_ERRORS[httpCode];\n    if (!knownError) {\n      knownError = UNKNOWN_HTTP_ERROR;\n    }\n\n    const httpError = HttpError.create(Number(httpCode), { message: knownError.message, description });\n    httpError.name = knownError.name;\n    return httpError;\n  }\n}\n","import * as extensions from './core/metadata/method-extensions';\n\nexport function initMetadata(): void {\n  extensions.registerMethodExtensions('httpCodeMeta', extensions.HttpCodeMetadata);\n  extensions.registerMethodExtensions('forwardMeta', extensions.ForwardMetadata);\n  extensions.registerMethodExtensions('delayMeta', extensions.DelayMetadata);\n  extensions.registerMethodExtensions('routeHandlerParams', extensions.RouteHandlerParamMetadata);\n}\n","export { ServiceMockerServer, MessageHandler } from './service-mocker-server';\nexport { ServerBase } from './server-base';\n","import { isNumber } from '@tdm/core/tdm';\nimport { ServerProtocol, ServerRequest, ServerPostMessageEvent } from '@tdm/service-mocker/shared';\nimport { ServiceMockerServer } from './service-mocker-server';\n\nexport abstract class ServerBase {\n  private _smServer: ServiceMockerServer;\n\n  init?(): void;\n\n  dispose(): void {\n    this._smServer.dispose();\n  }\n\n  /**\n   * Send an action to a specific client.\n   */\n  send<T extends keyof ServerProtocol>(action: T,\n                                       data: ServerRequest<T>,\n                                       client: Client,\n                                       timeout?: number): Promise<ServerPostMessageEvent<T>>;\n  /**\n   * Send an action to all connected clients.\n   */\n  send<T extends keyof ServerProtocol>(action: T,\n                                       data: ServerRequest<T>,\n                                       timeout?: number): Promise<ServerPostMessageEvent<T>>;\n  send<T extends keyof ServerProtocol>(action: T,\n                                       data: ServerRequest<T>,\n                                       client?: Client | number,\n                                       timeout?: number): Promise<Array<ServerPostMessageEvent<T>> | ServerPostMessageEvent<T>> { // tslint:disable:max-line-length\n    if (isNumber(client)) {\n      timeout = client;\n      client = undefined;\n    }\n\n    if (!client) {\n      return this._smServer.sendActionAll(action, data, timeout);\n    } else {\n      return this._smServer.sendAction(client as Client, action, data, timeout);\n    }\n  }\n}\n","import { createServer, MockerServer, MockerRouter } from 'service-mocker/server';\nimport {\n  postError,\n  sendMessageRequest,\n  ServerProtocol,\n  ServerRequest,\n  ServerResponse,\n  ClientProtocol,\n  ClientRequest,\n  ServerPostMessageEvent\n} from '@tdm/service-mocker/shared';\n\nexport interface IncomingClientMessageEvent<T extends keyof ClientProtocol = keyof ClientProtocol> extends MessageEvent {\n  data: {\n    action: T;\n    data: ClientRequest<T>\n  };\n}\n\n/**\n * Patch the service-mocker MockerRouter to fix the bug with deep nested routes not working properly.\n * SEE https://github.com/service-mocker/service-mocker/issues/48\n */\nfunction pathServiceMockerBug48(router: MockerRouter) {\n  if (router.constructor['TDM_PATCHED'] !== pathServiceMockerBug48) {\n    router.constructor['TDM_PATCHED'] = pathServiceMockerBug48;\n    const oldMatch = router.constructor.prototype._match;\n    router.constructor.prototype._match = function(event: FetchEvent) {\n      const { request } = event;\n      const url = new URL(request.url, location.href);\n\n      const re = new RegExp(`^${this._basePath}(.*)`);\n      const match = re.exec(url.pathname);\n      return match ? oldMatch.call(this, event) : false;\n    };\n  }\n}\n\nconst servers: ServiceMockerServer[] = [];\n\nexport interface MessageHandler {\n  canHandle(name: keyof ClientProtocol): boolean;\n  handle<T extends keyof ClientProtocol>(action: T, data: ClientRequest<T>): Promise<ServerResponse<T>>;\n}\n\nexport class ServiceMockerServer {\n  public router: MockerRouter;\n  private constructor(public mockServer: MockerServer, private messageHandler: MessageHandler) {\n    this.router = mockServer.router;\n    pathServiceMockerBug48(this.router);\n  }\n\n  onMessage(event: IncomingClientMessageEvent): void {\n    const {\n      data,\n      ports,\n    } = event;\n\n    if ( !data || !ports || !ports.length ) {\n      return;\n    }\n\n    const port = ports[ 0 ];\n\n    if (this.messageHandler.canHandle(data.action)) {\n      this.messageHandler.handle(data.action, data.data)\n        .then(response => port.postMessage(response))\n        .catch(err => port.postMessage(postError(err)));\n    }\n  }\n\n  dispose(): void {\n    const idx = servers.indexOf(this);\n    servers.splice(idx, 1);\n  }\n\n  sendAction<T extends keyof ServerProtocol = keyof ServerProtocol>(\n    client: Client,\n    action: T,\n    data: ServerRequest<T>,\n    timeout?: number\n  ): Promise<ServerPostMessageEvent<T>> {\n    const message = { action, data };\n    return sendMessageRequest<T>(client, message, timeout);\n  }\n\n  sendActionAll<T extends keyof ServerProtocol = keyof ServerProtocol>(\n    action: T,\n    data: ServerRequest<T>,\n    timeout?: number\n  ): Promise<Array<ServerPostMessageEvent<T>>> {\n    return (<ServiceWorkerGlobalScope> <any> self).clients.matchAll()\n      .then(clients => {\n        return Promise.all(clients.map(c => this.sendAction(c, action, data, timeout) ));\n      });\n  }\n\n  static create(messageHandler: MessageHandler, baseURL?: string): ServiceMockerServer {\n    const mockServer = createServer(baseURL);\n    const server = new ServiceMockerServer(mockServer, messageHandler);\n    servers.push(server);\n    return server;\n  }\n}\n\nself.addEventListener('message', event => {\n  for ( let server of servers ) {\n    server.onMessage(event);\n  }\n});\n","/// <reference path=\"../../shared/src/lib/service-worker\" />\nimport '@tdm/core';\nexport { ServiceMockerServer, ServerBase } from './service-mocker-server/index';\nexport * from './core';\nexport { HttpError, HttpErrorConfig } from './http-error';\n\nimport { initMetadata } from './init-metadata';\ninitMetadata();\n","/*\n       * Public API Surface of mylib\n       */\nexport * from './lib/tixin';\n","/* tslint:disable:max-line-length */\nexport interface Type<T> extends Function {\n  new (...args: any[]): T;\n}\n\nexport type Tixin<BASE, MIXIN> = BASE & MIXIN;\n\nfunction mixObjects(base: any, mixins: any[]): void {\n  mixins.forEach(mixin => {\n    Object.getOwnPropertyNames(mixin)\n      .concat(Object.getOwnPropertySymbols(mixin) as any)\n      .forEach(name => {\n        // mixin can't override base behaviour, only add\n        if (!base.hasOwnProperty(name)) {\n          // if its a property descriptor we need to rewire the context\n          const propDesc = Object.getOwnPropertyDescriptor(mixin, name);\n          if (propDesc) {\n            Object.defineProperty(base, name, propDesc);\n          } else {\n            base[name] = mixin[name];\n          }\n        }\n      });\n  });\n}\n\n/**\n * Typeless mixin\n */\nexport function TixinFree(\n  base: any,\n  mixin: any,\n  extend: 'class' | 'proto' | 'both' = 'both'\n): any {\n  if (extend === 'proto' || extend === 'both') {\n    mixObjects(base.prototype, [mixin.prototype]);\n  }\n  if (extend === 'class' || extend === 'both') {\n    mixObjects(base, [mixin]);\n  }\n  return base as any;\n}\n\n/* GENERATED BY scripts/generic_codegen.js */\nexport function Tixin<TBASE, CBASE, T1, C1>(\n  base: CBASE & Type<TBASE>,\n  m1: C1 & Type<T1>\n): Type<TBASE & T1> & CBASE & C1;\nexport function Tixin<TBASE, CBASE, T1, C1, T2, C2>(\n  base: CBASE & Type<TBASE>,\n  m1: C1 & Type<T1>,\n  m2: C2 & Type<T2>\n): Type<TBASE & T1 & T2> & CBASE & C1 & C2;\nexport function Tixin<TBASE, CBASE, T1, C1, T2, C2, T3, C3>(\n  base: CBASE & Type<TBASE>,\n  m1: C1 & Type<T1>,\n  m2: C2 & Type<T2>,\n  m3: C3 & Type<T3>\n): Type<TBASE & T1 & T2 & T3> & CBASE & C1 & C2 & C3;\nexport function Tixin<TBASE, CBASE, T1, C1, T2, C2, T3, C3, T4, C4>(\n  base: CBASE & Type<TBASE>,\n  m1: C1 & Type<T1>,\n  m2: C2 & Type<T2>,\n  m3: C3 & Type<T3>,\n  m4: C4 & Type<T4>\n): Type<TBASE & T1 & T2 & T3 & T4> & CBASE & C1 & C2 & C3 & C4;\nexport function Tixin<TBASE, CBASE, T1, C1, T2, C2, T3, C3, T4, C4, T5, C5>(\n  base: CBASE & Type<TBASE>,\n  m1: C1 & Type<T1>,\n  m2: C2 & Type<T2>,\n  m3: C3 & Type<T3>,\n  m4: C4 & Type<T4>,\n  m5: C5 & Type<T5>\n): Type<TBASE & T1 & T2 & T3 & T4 & T5> & CBASE & C1 & C2 & C3 & C4 & C5;\nexport function Tixin<\n  TBASE,\n  CBASE,\n  T1,\n  C1,\n  T2,\n  C2,\n  T3,\n  C3,\n  T4,\n  C4,\n  T5,\n  C5,\n  T6,\n  C6\n>(\n  base: CBASE & Type<TBASE>,\n  m1: C1 & Type<T1>,\n  m2: C2 & Type<T2>,\n  m3: C3 & Type<T3>,\n  m4: C4 & Type<T4>,\n  m5: C5 & Type<T5>,\n  m6: C6 & Type<T6>\n): Type<TBASE & T1 & T2 & T3 & T4 & T5 & T6> &\n  CBASE &\n  C1 &\n  C2 &\n  C3 &\n  C4 &\n  C5 &\n  C6;\nexport function Tixin<\n  TBASE,\n  CBASE,\n  T1,\n  C1,\n  T2,\n  C2,\n  T3,\n  C3,\n  T4,\n  C4,\n  T5,\n  C5,\n  T6,\n  C6,\n  T7,\n  C7\n>(\n  base: CBASE & Type<TBASE>,\n  m1: C1 & Type<T1>,\n  m2: C2 & Type<T2>,\n  m3: C3 & Type<T3>,\n  m4: C4 & Type<T4>,\n  m5: C5 & Type<T5>,\n  m6: C6 & Type<T6>,\n  m7: C7 & Type<T7>\n): Type<TBASE & T1 & T2 & T3 & T4 & T5 & T6 & T7> &\n  CBASE &\n  C1 &\n  C2 &\n  C3 &\n  C4 &\n  C5 &\n  C6 &\n  C7;\n\n/**\n * A type friendly, class based, mixin functions that mix in instance and static members.\n *\n * EXAMPLE:\n * ```ts\n * class User_ {\n *   id: number;\n *   firstName: string;\n *   lastName: string;\n * }\n *\n * class FullName {\n *   get fullName(): string {\n *     return `${this['firstName']} ${this['lastName']}`;\n *   }\n *\n *   static createId(): number {\n *     // a shady id generator.\n *     return Date.now();\n *   }\n * }\n *\n * export const User = Tixin(User_, FullName);\n * export type User = Tixin<User_, FullName>;\n *\n * // not using it:\n * const user = new User();\n * user.id = User.createId();\n * user.firstName = 'John';\n * user.lastName = 'Doe';\n * console.log(user.fullName); // John Doe\n * ```\n *\n * > To allow Generics in static members (e.g. static createUser(): T) see TixinExt\n *\n * ## Limitations:\n * From a type perspective this utility has limitations.\n *\n * #### You can't (currently) extend a mixed in type.\n *```ts\n *  export const User = Tixin(User_, FullName);\n *\n *  export class MyExtendedUser extends User { // <- Type Error\n *  }\n *```\n *\n * ```\n * Type 'Type<User_ & FullName> & typeof FullName & typeof User_' is not a constructor function type.\n * ```\n *\n * The error is misleading, this is a current known TS limitation (see [Github Issue](https://github.com/Microsoft/TypeScript/issues/4890))\n *\n * #### You can use generic inference once, from that point the generic param types for mixin have to be explicitly set:\n * ```ts\n *   export const User = Tixin(User_, FullName); // fine\n *\n *   export const UserNumber2 = Tixin(User, OtherMixin); // Error\n * ```\n *\n * ```\n * The type argument for type parameter 'TBASE' cannot be inferred from the usage.\n * Consider specifying the type arguments explicitly.\n * Type argument candidate 'FullName' is not a valid type argument because it is not a supertype of candidate 'User_'.\n * Property 'fullName' is missing in type 'User_'.\n * ```\n * This might be related to the previous limitation, or not...\n *\n *\n * There are 2 solution:\n *\n * 1) Using the built in interface that supports up to 6 mixins at once. (base + 6)\n * ```ts\n * export const User = Tixin(User_, FullName, OtherMixin); //  FullName, OtherMixin are 2, you can rest param your way for 5 more...\n * export type User = User_ & FullName & OtherMixin\n * ```\n * > This time we cant use `Tixin` to apply the User **type** so we just do it manually...\n *\n * 2) going the long way:\n * ```ts\n *   export const User = Tixin(User_, FullName); // fine\n *\n *   export const UserNumber2 = Tixin<User, typeof User, OtherMixin, typeof OtherMixin>(User, OtherMixin);\n * ```\n *\n *\n * @param base\n * @param mixin\n */\nexport function Tixin<TBASE, CBASE, TMIXIN, CMIXIN>(\n  base: CBASE & Type<TBASE>,\n  ...mixins: Array<CMIXIN & Type<TMIXIN>>\n): Type<TBASE & TMIXIN> & CMIXIN & CBASE {\n  mixObjects(base.prototype, mixins.map(m => m.prototype));\n  mixObjects(base, mixins);\n  return base as any;\n}\n\n/* GENERATED BY scripts/generic_codegen.js */\nexport function TixinExt<TBASE, CBASE, SMIXIN, T1, C1>(\n  base: CBASE & Type<TBASE>,\n  extraStatic: SMIXIN,\n  m1: C1 & Type<T1>\n): Type<TBASE & T1> & SMIXIN & CBASE & C1;\nexport function TixinExt<TBASE, CBASE, SMIXIN, T1, C1, T2, C2>(\n  base: CBASE & Type<TBASE>,\n  extraStatic: SMIXIN,\n  m1: C1 & Type<T1>,\n  m2: C2 & Type<T2>\n): Type<TBASE & T1 & T2> & SMIXIN & CBASE & C1 & C2;\nexport function TixinExt<TBASE, CBASE, SMIXIN, T1, C1, T2, C2, T3, C3>(\n  base: CBASE & Type<TBASE>,\n  extraStatic: SMIXIN,\n  m1: C1 & Type<T1>,\n  m2: C2 & Type<T2>,\n  m3: C3 & Type<T3>\n): Type<TBASE & T1 & T2 & T3> & SMIXIN & CBASE & C1 & C2 & C3;\nexport function TixinExt<TBASE, CBASE, SMIXIN, T1, C1, T2, C2, T3, C3, T4, C4>(\n  base: CBASE & Type<TBASE>,\n  extraStatic: SMIXIN,\n  m1: C1 & Type<T1>,\n  m2: C2 & Type<T2>,\n  m3: C3 & Type<T3>,\n  m4: C4 & Type<T4>\n): Type<TBASE & T1 & T2 & T3 & T4> & SMIXIN & CBASE & C1 & C2 & C3 & C4;\nexport function TixinExt<\n  TBASE,\n  CBASE,\n  SMIXIN,\n  T1,\n  C1,\n  T2,\n  C2,\n  T3,\n  C3,\n  T4,\n  C4,\n  T5,\n  C5\n>(\n  base: CBASE & Type<TBASE>,\n  extraStatic: SMIXIN,\n  m1: C1 & Type<T1>,\n  m2: C2 & Type<T2>,\n  m3: C3 & Type<T3>,\n  m4: C4 & Type<T4>,\n  m5: C5 & Type<T5>\n): Type<TBASE & T1 & T2 & T3 & T4 & T5> &\n  SMIXIN &\n  CBASE &\n  C1 &\n  C2 &\n  C3 &\n  C4 &\n  C5;\nexport function TixinExt<\n  TBASE,\n  CBASE,\n  SMIXIN,\n  T1,\n  C1,\n  T2,\n  C2,\n  T3,\n  C3,\n  T4,\n  C4,\n  T5,\n  C5,\n  T6,\n  C6\n>(\n  base: CBASE & Type<TBASE>,\n  extraStatic: SMIXIN,\n  m1: C1 & Type<T1>,\n  m2: C2 & Type<T2>,\n  m3: C3 & Type<T3>,\n  m4: C4 & Type<T4>,\n  m5: C5 & Type<T5>,\n  m6: C6 & Type<T6>\n): Type<TBASE & T1 & T2 & T3 & T4 & T5 & T6> &\n  SMIXIN &\n  CBASE &\n  C1 &\n  C2 &\n  C3 &\n  C4 &\n  C5 &\n  C6;\nexport function TixinExt<\n  TBASE,\n  CBASE,\n  SMIXIN,\n  T1,\n  C1,\n  T2,\n  C2,\n  T3,\n  C3,\n  T4,\n  C4,\n  T5,\n  C5,\n  T6,\n  C6,\n  T7,\n  C7\n>(\n  base: CBASE & Type<TBASE>,\n  extraStatic: SMIXIN,\n  m1: C1 & Type<T1>,\n  m2: C2 & Type<T2>,\n  m3: C3 & Type<T3>,\n  m4: C4 & Type<T4>,\n  m5: C5 & Type<T5>,\n  m6: C6 & Type<T6>,\n  m7: C7 & Type<T7>\n): Type<TBASE & T1 & T2 & T3 & T4 & T5 & T6 & T7> &\n  SMIXIN &\n  CBASE &\n  C1 &\n  C2 &\n  C3 &\n  C4 &\n  C5 &\n  C6 &\n  C7;\n\n/**\n * For full description see Tixin function.\n *\n * The TixinExt utility does the same as Tixin but also allows adding an extra static type to the intersection.\n *\n * Although static members are mixed in there is a situation that requires an additional static mixin.\n * In a TypeScript class we can not apply generics on static members in the class level, only in a member based level.\n * If we want to return our final mixin type from a static member (e.g: factory) we need a different type.\n *\n * Example:\n * ```ts\n * class User_ {\n *   id: number;\n *   firstName: string;\n *   lastName: string;\n * }\n *\n * class FullName {\n *   get fullName(): string {\n *     return `${this['firstName']} ${this['lastName']}`;\n *   }\n * }\n *\n * const createNew = {\n *   create(): any {\n *     return new User_(); // at this point User_ is fully mixed in.\n *   }\n * }\n *\n * interface CreateStatic<T> {\n *   create(): Tixin<T, FullName>;\n * }\n *\n * export const User = TixinExt(User_, createNew as CreateStatic<User_>, FullName );\n * export type User = Tixin<User_, FullName>;\n * ```\n *\n * > Same as Tixin, TixinExt supports up to 6 mixins but only 1 extra static member.\n * If you need more then 1 just intersect all of your extera static interfaces to 1.\n * @param base\n * @param extraStatic Optional object for extra static member, use for static functions that require generics with Generics.\n * @param mixins\n */\nexport function TixinExt<TBASE, CBASE, SMIXIN, TMIXIN, CMIXIN>(\n  base: CBASE & Type<TBASE>,\n  extraStatic: SMIXIN,\n  ...mixins: Array<CMIXIN & Type<TMIXIN>>\n): Type<TBASE & TMIXIN> & CBASE & SMIXIN & CMIXIN {\n  (Tixin as any)(base, ...mixins);\n  mixObjects(base, Array.of(extraStatic));\n  return base as any;\n}\n/* tslint:disable:max-line-length */\n","module.exports = require(\"regenerator-runtime\");\n","/*!\n    localForage -- Offline Storage, Improved\n    Version 1.7.1\n    https://localforage.github.io/localForage\n    (c) 2013-2017 Mozilla, Apache License 2.0\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw (f.code=\"MODULE_NOT_FOUND\", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\nvar immediate = _dereq_(1);\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nif (typeof global.Promise !== 'function') {\n  global.Promise = _dereq_(2);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"2\":2}],4:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getIDB() {\n    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */\n    try {\n        if (typeof indexedDB !== 'undefined') {\n            return indexedDB;\n        }\n        if (typeof webkitIndexedDB !== 'undefined') {\n            return webkitIndexedDB;\n        }\n        if (typeof mozIndexedDB !== 'undefined') {\n            return mozIndexedDB;\n        }\n        if (typeof OIndexedDB !== 'undefined') {\n            return OIndexedDB;\n        }\n        if (typeof msIndexedDB !== 'undefined') {\n            return msIndexedDB;\n        }\n    } catch (e) {\n        return;\n    }\n}\n\nvar idb = getIDB();\n\nfunction isIndexedDBValid() {\n    try {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        if (!idb) {\n            return false;\n        }\n        // We mimic PouchDB here;\n        //\n        // We test for openDatabase because IE Mobile identifies itself\n        // as Safari. Oh the lulz...\n        var isSafari = typeof openDatabase !== 'undefined' && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n\n        var hasFetch = typeof fetch === 'function' && fetch.toString().indexOf('[native code') !== -1;\n\n        // Safari <10.1 does not meet our requirements for IDB support (#5572)\n        // since Safari 10.1 shipped with fetch, we can use that to detect it\n        return (!isSafari || hasFetch) && typeof indexedDB !== 'undefined' &&\n        // some outdated implementations of IDB that appear on Samsung\n        // and HTC Android devices <4.4 are missing IDBKeyRange\n        // See: https://github.com/mozilla/localForage/issues/128\n        // See: https://github.com/mozilla/localForage/issues/272\n        typeof IDBKeyRange !== 'undefined';\n    } catch (e) {\n        return false;\n    }\n}\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\nfunction createBlob(parts, properties) {\n    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n    parts = parts || [];\n    properties = properties || {};\n    try {\n        return new Blob(parts, properties);\n    } catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n\n// This is CommonJS because lie is an external dependency, so Rollup\n// can just ignore it.\nif (typeof Promise === 'undefined') {\n    // In the \"nopromises\" build this will just throw if you don't have\n    // a global promise object, but it would throw anyway later.\n    _dereq_(3);\n}\nvar Promise$1 = Promise;\n\nfunction executeCallback(promise, callback) {\n    if (callback) {\n        promise.then(function (result) {\n            callback(null, result);\n        }, function (error) {\n            callback(error);\n        });\n    }\n}\n\nfunction executeTwoCallbacks(promise, callback, errorCallback) {\n    if (typeof callback === 'function') {\n        promise.then(callback);\n    }\n\n    if (typeof errorCallback === 'function') {\n        promise[\"catch\"](errorCallback);\n    }\n}\n\nfunction normalizeKey(key) {\n    // Cast the key to a string, as that's all we can set as a key.\n    if (typeof key !== 'string') {\n        console.warn(key + ' used as a key, but it is not a string.');\n        key = String(key);\n    }\n\n    return key;\n}\n\nfunction getCallback() {\n    if (arguments.length && typeof arguments[arguments.length - 1] === 'function') {\n        return arguments[arguments.length - 1];\n    }\n}\n\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n\nvar DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\nvar supportsBlobs = void 0;\nvar dbContexts = {};\nvar toString = Object.prototype.toString;\n\n// Transaction Modes\nvar READ_ONLY = 'readonly';\nvar READ_WRITE = 'readwrite';\n\n// Transform a binary string to an array buffer, because otherwise\n// weird stuff happens when you try to work with the binary string directly.\n// It is known.\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction _binStringToArrayBuffer(bin) {\n    var length = bin.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    for (var i = 0; i < length; i++) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return buf;\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\n// Code borrowed from PouchDB. See:\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js\n//\nfunction _checkBlobSupportWithoutCaching(idb) {\n    return new Promise$1(function (resolve) {\n        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, READ_WRITE);\n        var blob = createBlob(['']);\n        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n        txn.onabort = function (e) {\n            // If the transaction aborts now its due to not being able to\n            // write to the database, likely due to the disk being full\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n        };\n\n        txn.oncomplete = function () {\n            var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            var matchedEdge = navigator.userAgent.match(/Edge\\//);\n            // MS Edge pretends to be Chrome 42:\n            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n            resolve(matchedEdge || !matchedChrome || parseInt(matchedChrome[1], 10) >= 43);\n        };\n    })[\"catch\"](function () {\n        return false; // error, so assume unsupported\n    });\n}\n\nfunction _checkBlobSupport(idb) {\n    if (typeof supportsBlobs === 'boolean') {\n        return Promise$1.resolve(supportsBlobs);\n    }\n    return _checkBlobSupportWithoutCaching(idb).then(function (value) {\n        supportsBlobs = value;\n        return supportsBlobs;\n    });\n}\n\nfunction _deferReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Create a deferred object representing the current database operation.\n    var deferredOperation = {};\n\n    deferredOperation.promise = new Promise$1(function (resolve, reject) {\n        deferredOperation.resolve = resolve;\n        deferredOperation.reject = reject;\n    });\n\n    // Enqueue the deferred operation.\n    dbContext.deferredOperations.push(deferredOperation);\n\n    // Chain its promise to the database readiness.\n    if (!dbContext.dbReady) {\n        dbContext.dbReady = deferredOperation.promise;\n    } else {\n        dbContext.dbReady = dbContext.dbReady.then(function () {\n            return deferredOperation.promise;\n        });\n    }\n}\n\nfunction _advanceReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Resolve its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.resolve();\n        return deferredOperation.promise;\n    }\n}\n\nfunction _rejectReadiness(dbInfo, err) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Reject its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.reject(err);\n        return deferredOperation.promise;\n    }\n}\n\nfunction _getConnection(dbInfo, upgradeNeeded) {\n    return new Promise$1(function (resolve, reject) {\n        dbContexts[dbInfo.name] = dbContexts[dbInfo.name] || createDbContext();\n\n        if (dbInfo.db) {\n            if (upgradeNeeded) {\n                _deferReadiness(dbInfo);\n                dbInfo.db.close();\n            } else {\n                return resolve(dbInfo.db);\n            }\n        }\n\n        var dbArgs = [dbInfo.name];\n\n        if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n        }\n\n        var openreq = idb.open.apply(idb, dbArgs);\n\n        if (upgradeNeeded) {\n            openreq.onupgradeneeded = function (e) {\n                var db = openreq.result;\n                try {\n                    db.createObjectStore(dbInfo.storeName);\n                    if (e.oldVersion <= 1) {\n                        // Added when support for blob shims was added\n                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                    }\n                } catch (ex) {\n                    if (ex.name === 'ConstraintError') {\n                        console.warn('The database \"' + dbInfo.name + '\"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage \"' + dbInfo.storeName + '\" already exists.');\n                    } else {\n                        throw ex;\n                    }\n                }\n            };\n        }\n\n        openreq.onerror = function (e) {\n            e.preventDefault();\n            reject(openreq.error);\n        };\n\n        openreq.onsuccess = function () {\n            resolve(openreq.result);\n            _advanceReadiness(dbInfo);\n        };\n    });\n}\n\nfunction _getOriginalConnection(dbInfo) {\n    return _getConnection(dbInfo, false);\n}\n\nfunction _getUpgradedConnection(dbInfo) {\n    return _getConnection(dbInfo, true);\n}\n\nfunction _isUpgradeNeeded(dbInfo, defaultVersion) {\n    if (!dbInfo.db) {\n        return true;\n    }\n\n    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n    var isDowngrade = dbInfo.version < dbInfo.db.version;\n    var isUpgrade = dbInfo.version > dbInfo.db.version;\n\n    if (isDowngrade) {\n        // If the version is not the default one\n        // then warn for impossible downgrade.\n        if (dbInfo.version !== defaultVersion) {\n            console.warn('The database \"' + dbInfo.name + '\"' + \" can't be downgraded from version \" + dbInfo.db.version + ' to version ' + dbInfo.version + '.');\n        }\n        // Align the versions to prevent errors.\n        dbInfo.version = dbInfo.db.version;\n    }\n\n    if (isUpgrade || isNewStore) {\n        // If the store is new then increment the version (if needed).\n        // This will trigger an \"upgradeneeded\" event which is required\n        // for creating a store.\n        if (isNewStore) {\n            var incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n                dbInfo.version = incVersion;\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n// encode a blob for indexeddb engines that don't support blobs\nfunction _encodeBlob(blob) {\n    return new Promise$1(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = function (e) {\n            var base64 = btoa(e.target.result || '');\n            resolve({\n                __local_forage_encoded_blob: true,\n                data: base64,\n                type: blob.type\n            });\n        };\n        reader.readAsBinaryString(blob);\n    });\n}\n\n// decode an encoded blob\nfunction _decodeBlob(encodedBlob) {\n    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n    return createBlob([arrayBuff], { type: encodedBlob.type });\n}\n\n// is this one of our fancy encoded blobs?\nfunction _isEncodedBlob(value) {\n    return value && value.__local_forage_encoded_blob;\n}\n\n// Specialize the default `ready()` function by making it dependent\n// on the current database operations. Thus, the driver will be actually\n// ready when it's been initialized (default) *and* there are no pending\n// operations on the database (initiated by some other instances).\nfunction _fullyReady(callback) {\n    var self = this;\n\n    var promise = self._initReady().then(function () {\n        var dbContext = dbContexts[self._dbInfo.name];\n\n        if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n        }\n    });\n\n    executeTwoCallbacks(promise, callback, callback);\n    return promise;\n}\n\n// Try to establish a new db connection to replace the\n// current one which is broken (i.e. experiencing\n// InvalidStateError while creating a transaction).\nfunction _tryReconnect(dbInfo) {\n    _deferReadiness(dbInfo);\n\n    var dbContext = dbContexts[dbInfo.name];\n    var forages = dbContext.forages;\n\n    for (var i = 0; i < forages.length; i++) {\n        var forage = forages[i];\n        if (forage._dbInfo.db) {\n            forage._dbInfo.db.close();\n            forage._dbInfo.db = null;\n        }\n    }\n    dbInfo.db = null;\n\n    return _getOriginalConnection(dbInfo).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        // store the latest db reference\n        // in case the db was upgraded\n        dbInfo.db = dbContext.db = db;\n        for (var i = 0; i < forages.length; i++) {\n            forages[i]._dbInfo.db = db;\n        }\n    })[\"catch\"](function (err) {\n        _rejectReadiness(dbInfo, err);\n        throw err;\n    });\n}\n\n// FF doesn't like Promises (micro-tasks) and IDDB store operations,\n// so we have to do it with callbacks\nfunction createTransaction(dbInfo, mode, callback, retries) {\n    if (retries === undefined) {\n        retries = 1;\n    }\n\n    try {\n        var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n        callback(null, tx);\n    } catch (err) {\n        if (retries > 0 && (!dbInfo.db || err.name === 'InvalidStateError' || err.name === 'NotFoundError')) {\n            return Promise$1.resolve().then(function () {\n                if (!dbInfo.db || err.name === 'NotFoundError' && !dbInfo.db.objectStoreNames.contains(dbInfo.storeName) && dbInfo.version <= dbInfo.db.version) {\n                    // increase the db version, to create the new ObjectStore\n                    if (dbInfo.db) {\n                        dbInfo.version = dbInfo.db.version + 1;\n                    }\n                    // Reopen the database for upgrading.\n                    return _getUpgradedConnection(dbInfo);\n                }\n            }).then(function () {\n                return _tryReconnect(dbInfo).then(function () {\n                    createTransaction(dbInfo, mode, callback, retries - 1);\n                });\n            })[\"catch\"](callback);\n        }\n\n        callback(err);\n    }\n}\n\nfunction createDbContext() {\n    return {\n        // Running localForages sharing a database.\n        forages: [],\n        // Shared database.\n        db: null,\n        // Database readiness (promise).\n        dbReady: null,\n        // Deferred operations on the database.\n        deferredOperations: []\n    };\n}\n\n// Open the IndexedDB database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    // Get the current context of the database;\n    var dbContext = dbContexts[dbInfo.name];\n\n    // ...or create a new context.\n    if (!dbContext) {\n        dbContext = createDbContext();\n        // Register the new context in the global container.\n        dbContexts[dbInfo.name] = dbContext;\n    }\n\n    // Register itself as a running localForage in the current context.\n    dbContext.forages.push(self);\n\n    // Replace the default `ready()` function with the specialized one.\n    if (!self._initReady) {\n        self._initReady = self.ready;\n        self.ready = _fullyReady;\n    }\n\n    // Create an array of initialization states of the related localForages.\n    var initPromises = [];\n\n    function ignoreErrors() {\n        // Don't handle errors here,\n        // just makes sure related localForages aren't pending.\n        return Promise$1.resolve();\n    }\n\n    for (var j = 0; j < dbContext.forages.length; j++) {\n        var forage = dbContext.forages[j];\n        if (forage !== self) {\n            // Don't wait for itself...\n            initPromises.push(forage._initReady()[\"catch\"](ignoreErrors));\n        }\n    }\n\n    // Take a snapshot of the related localForages.\n    var forages = dbContext.forages.slice(0);\n\n    // Initialize the connection process only when\n    // all the related localForages aren't pending.\n    return Promise$1.all(initPromises).then(function () {\n        dbInfo.db = dbContext.db;\n        // Get the connection or open a new one without upgrade.\n        return _getOriginalConnection(dbInfo);\n    }).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        dbInfo.db = dbContext.db = db;\n        self._dbInfo = dbInfo;\n        // Share the final connection amongst related localForages.\n        for (var k = 0; k < forages.length; k++) {\n            var forage = forages[k];\n            if (forage !== self) {\n                // Self is already up-to-date.\n                forage._dbInfo.db = dbInfo.db;\n                forage._dbInfo.version = dbInfo.version;\n            }\n        }\n    });\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.get(key);\n\n                    req.onsuccess = function () {\n                        var value = req.result;\n                        if (value === undefined) {\n                            value = null;\n                        }\n                        if (_isEncodedBlob(value)) {\n                            value = _decodeBlob(value);\n                        }\n                        resolve(value);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items stored in database.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var iterationNumber = 1;\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (cursor) {\n                            var value = cursor.value;\n                            if (_isEncodedBlob(value)) {\n                                value = _decodeBlob(value);\n                            }\n                            var result = iterator(value, cursor.key, iterationNumber++);\n\n                            // when the iterator callback retuns any\n                            // (non-`undefined`) value, then we stop\n                            // the iteration immediately\n                            if (result !== void 0) {\n                                resolve(result);\n                            } else {\n                                cursor[\"continue\"]();\n                            }\n                        } else {\n                            resolve();\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        var dbInfo;\n        self.ready().then(function () {\n            dbInfo = self._dbInfo;\n            if (toString.call(value) === '[object Blob]') {\n                return _checkBlobSupport(dbInfo.db).then(function (blobSupport) {\n                    if (blobSupport) {\n                        return value;\n                    }\n                    return _encodeBlob(value);\n                });\n            }\n            return value;\n        }).then(function (value) {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n\n                    // The reason we don't _save_ null is because IE 10 does\n                    // not support saving the `null` type in IndexedDB. How\n                    // ironic, given the bug below!\n                    // See: https://github.com/mozilla/localForage/issues/161\n                    if (value === null) {\n                        value = undefined;\n                    }\n\n                    var req = store.put(value, key);\n\n                    transaction.oncomplete = function () {\n                        // Cast to undefined so the value passed to\n                        // callback/promise is the same as what one would get out\n                        // of `getItem()` later. This leads to some weirdness\n                        // (setItem('foo', undefined) will return `null`), but\n                        // it's not my fault localStorage is our baseline and that\n                        // it's weird.\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        resolve(value);\n                    };\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    // We use a Grunt task to make this safe for IE and some\n                    // versions of Android (including those used by Cordova).\n                    // Normally IE won't like `.delete()` and will insist on\n                    // using `['delete']()`, but we have a build step that\n                    // fixes this for us now.\n                    var req = store[\"delete\"](key);\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onerror = function () {\n                        reject(req.error);\n                    };\n\n                    // The request will be also be aborted if we've exceeded our storage\n                    // space.\n                    transaction.onabort = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.clear();\n\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.count();\n\n                    req.onsuccess = function () {\n                        resolve(req.result);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        if (n < 0) {\n            resolve(null);\n\n            return;\n        }\n\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var advanced = false;\n                    var req = store.openCursor();\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            // this means there weren't enough keys\n                            resolve(null);\n\n                            return;\n                        }\n\n                        if (n === 0) {\n                            // We have the first key, return it if that's what they\n                            // wanted.\n                            resolve(cursor.key);\n                        } else {\n                            if (!advanced) {\n                                // Otherwise, ask the cursor to skip ahead n\n                                // records.\n                                advanced = true;\n                                cursor.advance(n);\n                            } else {\n                                // When we get here, we've got the nth key.\n                                resolve(cursor.key);\n                            }\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var keys = [];\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (!cursor) {\n                            resolve(keys);\n                            return;\n                        }\n\n                        keys.push(cursor.key);\n                        cursor[\"continue\"]();\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        var isCurrentDb = options.name === currentConfig.name && self._dbInfo.db;\n\n        var dbPromise = isCurrentDb ? Promise$1.resolve(self._dbInfo.db) : _getOriginalConnection(options).then(function (db) {\n            var dbContext = dbContexts[options.name];\n            var forages = dbContext.forages;\n            dbContext.db = db;\n            for (var i = 0; i < forages.length; i++) {\n                forages[i]._dbInfo.db = db;\n            }\n            return db;\n        });\n\n        if (!options.storeName) {\n            promise = dbPromise.then(function (db) {\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                }\n\n                var dropDBPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.deleteDatabase(options.name);\n\n                    req.onerror = req.onblocked = function (err) {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        reject(err);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        resolve(db);\n                    };\n                });\n\n                return dropDBPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var i = 0; i < forages.length; i++) {\n                        var _forage = forages[i];\n                        _advanceReadiness(_forage._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        } else {\n            promise = dbPromise.then(function (db) {\n                if (!db.objectStoreNames.contains(options.storeName)) {\n                    return;\n                }\n\n                var newVersion = db.version + 1;\n\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                    forage._dbInfo.version = newVersion;\n                }\n\n                var dropObjectPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.open(options.name, newVersion);\n\n                    req.onerror = function (err) {\n                        var db = req.result;\n                        db.close();\n                        reject(err);\n                    };\n\n                    req.onupgradeneeded = function () {\n                        var db = req.result;\n                        db.deleteObjectStore(options.storeName);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        db.close();\n                        resolve(db);\n                    };\n                });\n\n                return dropObjectPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var j = 0; j < forages.length; j++) {\n                        var _forage2 = forages[j];\n                        _forage2._dbInfo.db = db;\n                        _advanceReadiness(_forage2._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        }\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar asyncStorage = {\n    _driver: 'asyncStorage',\n    _initStorage: _initStorage,\n    _support: isIndexedDBValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\n\nfunction isWebSQLValid() {\n    return typeof openDatabase === 'function';\n}\n\n// Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n// it to Base64, so this is how we store it to prevent very strange errors with less\n// verbose ways of binary <-> string data storage.\nvar BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nvar BLOB_TYPE_PREFIX = '~~local_forage_type~';\nvar BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\nvar SERIALIZED_MARKER = '__lfsc__:';\nvar SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n// OMG the serializations!\nvar TYPE_ARRAYBUFFER = 'arbf';\nvar TYPE_BLOB = 'blob';\nvar TYPE_INT8ARRAY = 'si08';\nvar TYPE_UINT8ARRAY = 'ui08';\nvar TYPE_UINT8CLAMPEDARRAY = 'uic8';\nvar TYPE_INT16ARRAY = 'si16';\nvar TYPE_INT32ARRAY = 'si32';\nvar TYPE_UINT16ARRAY = 'ur16';\nvar TYPE_UINT32ARRAY = 'ui32';\nvar TYPE_FLOAT32ARRAY = 'fl32';\nvar TYPE_FLOAT64ARRAY = 'fl64';\nvar TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n\nvar toString$1 = Object.prototype.toString;\n\nfunction stringToBuffer(serializedString) {\n    // Fill the string into a ArrayBuffer.\n    var bufferLength = serializedString.length * 0.75;\n    var len = serializedString.length;\n    var i;\n    var p = 0;\n    var encoded1, encoded2, encoded3, encoded4;\n\n    if (serializedString[serializedString.length - 1] === '=') {\n        bufferLength--;\n        if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = new ArrayBuffer(bufferLength);\n    var bytes = new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n        /*jslint bitwise: true */\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return buffer;\n}\n\n// Converts a buffer to a string to store, serialized, in the backend\n// storage library.\nfunction bufferToString(buffer) {\n    // base64-arraybuffer\n    var bytes = new Uint8Array(buffer);\n    var base64String = '';\n    var i;\n\n    for (i = 0; i < bytes.length; i += 3) {\n        /*jslint bitwise: true */\n        base64String += BASE_CHARS[bytes[i] >> 2];\n        base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64String += BASE_CHARS[bytes[i + 2] & 63];\n    }\n\n    if (bytes.length % 3 === 2) {\n        base64String = base64String.substring(0, base64String.length - 1) + '=';\n    } else if (bytes.length % 3 === 1) {\n        base64String = base64String.substring(0, base64String.length - 2) + '==';\n    }\n\n    return base64String;\n}\n\n// Serialize a value, afterwards executing a callback (which usually\n// instructs the `setItem()` callback/promise to be executed). This is how\n// we store binary data with localStorage.\nfunction serialize(value, callback) {\n    var valueType = '';\n    if (value) {\n        valueType = toString$1.call(value);\n    }\n\n    // Cannot use `value instanceof ArrayBuffer` or such here, as these\n    // checks fail when running the tests using casper.js...\n    //\n    // TODO: See why those tests fail and use a better solution.\n    if (value && (valueType === '[object ArrayBuffer]' || value.buffer && toString$1.call(value.buffer) === '[object ArrayBuffer]')) {\n        // Convert binary arrays to a string and prefix the string with\n        // a special marker.\n        var buffer;\n        var marker = SERIALIZED_MARKER;\n\n        if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n        } else {\n            buffer = value.buffer;\n\n            if (valueType === '[object Int8Array]') {\n                marker += TYPE_INT8ARRAY;\n            } else if (valueType === '[object Uint8Array]') {\n                marker += TYPE_UINT8ARRAY;\n            } else if (valueType === '[object Uint8ClampedArray]') {\n                marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueType === '[object Int16Array]') {\n                marker += TYPE_INT16ARRAY;\n            } else if (valueType === '[object Uint16Array]') {\n                marker += TYPE_UINT16ARRAY;\n            } else if (valueType === '[object Int32Array]') {\n                marker += TYPE_INT32ARRAY;\n            } else if (valueType === '[object Uint32Array]') {\n                marker += TYPE_UINT32ARRAY;\n            } else if (valueType === '[object Float32Array]') {\n                marker += TYPE_FLOAT32ARRAY;\n            } else if (valueType === '[object Float64Array]') {\n                marker += TYPE_FLOAT64ARRAY;\n            } else {\n                callback(new Error('Failed to get type for BinaryArray'));\n            }\n        }\n\n        callback(marker + bufferToString(buffer));\n    } else if (valueType === '[object Blob]') {\n        // Conver the blob to a binaryArray and then to a string.\n        var fileReader = new FileReader();\n\n        fileReader.onload = function () {\n            // Backwards-compatible prefix for the blob type.\n            var str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n        };\n\n        fileReader.readAsArrayBuffer(value);\n    } else {\n        try {\n            callback(JSON.stringify(value));\n        } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n        }\n    }\n}\n\n// Deserialize data we've inserted into a value column/field. We place\n// special markers into our strings to mark them as encoded; this isn't\n// as nice as a meta field, but it's the only sane thing we can do whilst\n// keeping localStorage support intact.\n//\n// Oftentimes this will just deserialize JSON content, but if we have a\n// special marker (SERIALIZED_MARKER, defined above), we will extract\n// some kind of arraybuffer/binary data/typed array out of the string.\nfunction deserialize(value) {\n    // If we haven't marked this string as being specially serialized (i.e.\n    // something other than serialized JSON), we can just return it and be\n    // done with it.\n    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n        return JSON.parse(value);\n    }\n\n    // The following code deals with deserializing some kind of Blob or\n    // TypedArray. First we separate out the type of data we're dealing\n    // with from the data itself.\n    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n    var type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n\n    var blobType;\n    // Backwards-compatible blob type serialization strategy.\n    // DBs created with older versions of localForage will simply not have the blob type.\n    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n        blobType = matcher[1];\n        serializedString = serializedString.substring(matcher[0].length);\n    }\n    var buffer = stringToBuffer(serializedString);\n\n    // Return the right type based on the code/type set during\n    // serialization.\n    switch (type) {\n        case TYPE_ARRAYBUFFER:\n            return buffer;\n        case TYPE_BLOB:\n            return createBlob([buffer], { type: blobType });\n        case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n        case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n        case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n        case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n        case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n        case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n        case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n        case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n        case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n        default:\n            throw new Error('Unkown type: ' + type);\n    }\n}\n\nvar localforageSerializer = {\n    serialize: serialize,\n    deserialize: deserialize,\n    stringToBuffer: stringToBuffer,\n    bufferToString: bufferToString\n};\n\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nfunction createDbTable(t, dbInfo, callback, errorCallback) {\n    t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' ' + '(id INTEGER PRIMARY KEY, key unique, value)', [], callback, errorCallback);\n}\n\n// Open the WebSQL database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage$1(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n        }\n    }\n\n    var dbInfoPromise = new Promise$1(function (resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n        } catch (e) {\n            return reject(e);\n        }\n\n        // Create our key/value table if it doesn't exist.\n        dbInfo.db.transaction(function (t) {\n            createDbTable(t, dbInfo, function () {\n                self._dbInfo = dbInfo;\n                resolve();\n            }, function (t, error) {\n                reject(error);\n            });\n        }, reject);\n    });\n\n    dbInfo.serializer = localforageSerializer;\n    return dbInfoPromise;\n}\n\nfunction tryExecuteSql(t, dbInfo, sqlStatement, args, callback, errorCallback) {\n    t.executeSql(sqlStatement, args, callback, function (t, error) {\n        if (error.code === error.SYNTAX_ERR) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name = ?\", [name], function (t, results) {\n                if (!results.rows.length) {\n                    // if the table is missing (was deleted)\n                    // re-create it table and retry\n                    createDbTable(t, dbInfo, function () {\n                        t.executeSql(sqlStatement, args, callback, errorCallback);\n                    }, errorCallback);\n                } else {\n                    errorCallback(t, error);\n                }\n            }, errorCallback);\n        } else {\n            errorCallback(t, error);\n        }\n    }, errorCallback);\n}\n\nfunction getItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).value : null;\n\n                    // Check to see if this is serialized content we need to\n                    // unpack.\n                    if (result) {\n                        result = dbInfo.serializer.deserialize(result);\n                    }\n\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction iterate$1(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var rows = results.rows;\n                    var length = rows.length;\n\n                    for (var i = 0; i < length; i++) {\n                        var item = rows.item(i);\n                        var result = item.value;\n\n                        // Check to see if this is serialized content\n                        // we need to unpack.\n                        if (result) {\n                            result = dbInfo.serializer.deserialize(result);\n                        }\n\n                        result = iterator(result, item.key, i + 1);\n\n                        // void(0) prevents problems with redefinition\n                        // of `undefined`.\n                        if (result !== void 0) {\n                            resolve(result);\n                            return;\n                        }\n                    }\n\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction _setItem(key, value, callback, retriesLeft) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            // The localStorage API doesn't return undefined values in an\n            // \"expected\" way, so undefined is always cast to null in all\n            // drivers. See: https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    dbInfo.db.transaction(function (t) {\n                        tryExecuteSql(t, dbInfo, 'INSERT OR REPLACE INTO ' + dbInfo.storeName + ' ' + '(key, value) VALUES (?, ?)', [key, value], function () {\n                            resolve(originalValue);\n                        }, function (t, error) {\n                            reject(error);\n                        });\n                    }, function (sqlError) {\n                        // The transaction failed; check\n                        // to see if it's a quota error.\n                        if (sqlError.code === sqlError.QUOTA_ERR) {\n                            // We reject the callback outright for now, but\n                            // it's worth trying to re-run the transaction.\n                            // Even if the user accepts the prompt to use\n                            // more storage on Safari, this error will\n                            // be called.\n                            //\n                            // Try to re-run the transaction.\n                            if (retriesLeft > 0) {\n                                resolve(_setItem.apply(self, [key, originalValue, callback, retriesLeft - 1]));\n                                return;\n                            }\n                            reject(sqlError);\n                        }\n                    });\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction setItem$1(key, value, callback) {\n    return _setItem.apply(this, [key, value, callback, 1]);\n}\n\nfunction removeItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName + ' WHERE key = ?', [key], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Deletes every item in the table.\n// TODO: Find out if this resets the AUTO_INCREMENT number.\nfunction clear$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName, [], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Does a simple `COUNT(key)` to get the number of items stored in\n// localForage.\nfunction length$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                // Ahhh, SQL makes this one soooooo easy.\n                tryExecuteSql(t, dbInfo, 'SELECT COUNT(key) as c FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var result = results.rows.item(0).c;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Return the key located at key index X; essentially gets the key from a\n// `WHERE id = ?`. This is the most efficient way I can think to implement\n// this rarely-used (in my experience) part of the API, but it can seem\n// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n// the ID of each key will change every time it's updated. Perhaps a stored\n// procedure for the `setItem()` SQL would solve this problem?\n// TODO: Don't change ID on `setItem()`.\nfunction key$1(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).key : null;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var keys = [];\n\n                    for (var i = 0; i < results.rows.length; i++) {\n                        keys.push(results.rows.item(i).key);\n                    }\n\n                    resolve(keys);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// https://www.w3.org/TR/webdatabase/#databases\n// > There is no way to enumerate or delete the databases available for an origin from this API.\nfunction getAllStoreNames(db) {\n    return new Promise$1(function (resolve, reject) {\n        db.transaction(function (t) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\", [], function (t, results) {\n                var storeNames = [];\n\n                for (var i = 0; i < results.rows.length; i++) {\n                    storeNames.push(results.rows.item(i).name);\n                }\n\n                resolve({\n                    db: db,\n                    storeNames: storeNames\n                });\n            }, function (t, error) {\n                reject(error);\n            });\n        }, function (sqlError) {\n            reject(sqlError);\n        });\n    });\n}\n\nfunction dropInstance$1(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            var db;\n            if (options.name === currentConfig.name) {\n                // use the db reference of the current instance\n                db = self._dbInfo.db;\n            } else {\n                db = openDatabase(options.name, '', '', 0);\n            }\n\n            if (!options.storeName) {\n                // drop all database tables\n                resolve(getAllStoreNames(db));\n            } else {\n                resolve({\n                    db: db,\n                    storeNames: [options.storeName]\n                });\n            }\n        }).then(function (operationInfo) {\n            return new Promise$1(function (resolve, reject) {\n                operationInfo.db.transaction(function (t) {\n                    function dropTable(storeName) {\n                        return new Promise$1(function (resolve, reject) {\n                            t.executeSql('DROP TABLE IF EXISTS ' + storeName, [], function () {\n                                resolve();\n                            }, function (t, error) {\n                                reject(error);\n                            });\n                        });\n                    }\n\n                    var operations = [];\n                    for (var i = 0, len = operationInfo.storeNames.length; i < len; i++) {\n                        operations.push(dropTable(operationInfo.storeNames[i]));\n                    }\n\n                    Promise$1.all(operations).then(function () {\n                        resolve();\n                    })[\"catch\"](function (e) {\n                        reject(e);\n                    });\n                }, function (sqlError) {\n                    reject(sqlError);\n                });\n            });\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar webSQLStorage = {\n    _driver: 'webSQLStorage',\n    _initStorage: _initStorage$1,\n    _support: isWebSQLValid(),\n    iterate: iterate$1,\n    getItem: getItem$1,\n    setItem: setItem$1,\n    removeItem: removeItem$1,\n    clear: clear$1,\n    length: length$1,\n    key: key$1,\n    keys: keys$1,\n    dropInstance: dropInstance$1\n};\n\nfunction isLocalStorageValid() {\n    try {\n        return typeof localStorage !== 'undefined' && 'setItem' in localStorage &&\n        // in IE8 typeof localStorage.setItem === 'object'\n        !!localStorage.setItem;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction _getKeyPrefix(options, defaultConfig) {\n    var keyPrefix = options.name + '/';\n\n    if (options.storeName !== defaultConfig.storeName) {\n        keyPrefix += options.storeName + '/';\n    }\n    return keyPrefix;\n}\n\n// Check if localStorage throws when saving an item\nfunction checkIfLocalStorageThrows() {\n    var localStorageTestKey = '_localforage_support_test';\n\n    try {\n        localStorage.setItem(localStorageTestKey, true);\n        localStorage.removeItem(localStorageTestKey);\n\n        return false;\n    } catch (e) {\n        return true;\n    }\n}\n\n// Check if localStorage is usable and allows to save an item\n// This method checks if localStorage is usable in Safari Private Browsing\n// mode, or in any other case where the available quota for localStorage\n// is 0 and there wasn't any saved items yet.\nfunction _isLocalStorageUsable() {\n    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n}\n\n// Config the localStorage backend, using options set in the config.\nfunction _initStorage$2(options) {\n    var self = this;\n    var dbInfo = {};\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    dbInfo.keyPrefix = _getKeyPrefix(options, self._defaultConfig);\n\n    if (!_isLocalStorageUsable()) {\n        return Promise$1.reject();\n    }\n\n    self._dbInfo = dbInfo;\n    dbInfo.serializer = localforageSerializer;\n\n    return Promise$1.resolve();\n}\n\n// Remove all keys from the datastore, effectively destroying all data in\n// the app's key/value store!\nfunction clear$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var keyPrefix = self._dbInfo.keyPrefix;\n\n        for (var i = localStorage.length - 1; i >= 0; i--) {\n            var key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n                localStorage.removeItem(key);\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Retrieve an item from the store. Unlike the original async_storage\n// library in Gaia, we don't modify return values at all. If a key's value\n// is `undefined`, we pass that value to the callback function.\nfunction getItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n        // If a result was found, parse it from the serialized\n        // string into a JS object. If result isn't truthy, the key\n        // is likely undefined and we'll pass it straight to the\n        // callback.\n        if (result) {\n            result = dbInfo.serializer.deserialize(result);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items in the store.\nfunction iterate$2(iterator, callback) {\n    var self = this;\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var keyPrefix = dbInfo.keyPrefix;\n        var keyPrefixLength = keyPrefix.length;\n        var length = localStorage.length;\n\n        // We use a dedicated iterator instead of the `i` variable below\n        // so other keys we fetch in localStorage aren't counted in\n        // the `iterationNumber` argument passed to the `iterate()`\n        // callback.\n        //\n        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530\n        var iterationNumber = 1;\n\n        for (var i = 0; i < length; i++) {\n            var key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n                continue;\n            }\n            var value = localStorage.getItem(key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the\n            // key is likely undefined and we'll pass it straight\n            // to the iterator.\n            if (value) {\n                value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);\n\n            if (value !== void 0) {\n                return value;\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Same as localStorage's key() method, except takes a callback.\nfunction key$2(n, callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result;\n        try {\n            result = localStorage.key(n);\n        } catch (error) {\n            result = null;\n        }\n\n        // Remove the prefix from the key, if a key is found.\n        if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var length = localStorage.length;\n        var keys = [];\n\n        for (var i = 0; i < length; i++) {\n            var itemKey = localStorage.key(i);\n            if (itemKey.indexOf(dbInfo.keyPrefix) === 0) {\n                keys.push(itemKey.substring(dbInfo.keyPrefix.length));\n            }\n        }\n\n        return keys;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Supply the number of keys in the datastore to the callback function.\nfunction length$2(callback) {\n    var self = this;\n    var promise = self.keys().then(function (keys) {\n        return keys.length;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Remove an item from the store, nice and simple.\nfunction removeItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        localStorage.removeItem(dbInfo.keyPrefix + key);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Set a key's value and run an optional callback once the value is set.\n// Unlike Gaia's implementation, the callback function is passed the value,\n// in case you want to operate on that value only after you're sure it\n// saved, or something like that.\nfunction setItem$2(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        // Convert undefined values to null.\n        // https://github.com/mozilla/localForage/pull/42\n        if (value === undefined) {\n            value = null;\n        }\n\n        // Save the original value to pass to the callback.\n        var originalValue = value;\n\n        return new Promise$1(function (resolve, reject) {\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    try {\n                        localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        resolve(originalValue);\n                    } catch (e) {\n                        // localStorage capacity exceeded.\n                        // TODO: Make this a specific error/event.\n                        if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                            reject(e);\n                        }\n                        reject(e);\n                    }\n                }\n            });\n        });\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance$2(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        var currentConfig = this.config();\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            if (!options.storeName) {\n                resolve(options.name + '/');\n            } else {\n                resolve(_getKeyPrefix(options, self._defaultConfig));\n            }\n        }).then(function (keyPrefix) {\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar localStorageWrapper = {\n    _driver: 'localStorageWrapper',\n    _initStorage: _initStorage$2,\n    _support: isLocalStorageValid(),\n    iterate: iterate$2,\n    getItem: getItem$2,\n    setItem: setItem$2,\n    removeItem: removeItem$2,\n    clear: clear$2,\n    length: length$2,\n    key: key$2,\n    keys: keys$2,\n    dropInstance: dropInstance$2\n};\n\nvar sameValue = function sameValue(x, y) {\n    return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n};\n\nvar includes = function includes(array, searchElement) {\n    var len = array.length;\n    var i = 0;\n    while (i < len) {\n        if (sameValue(array[i], searchElement)) {\n            return true;\n        }\n        i++;\n    }\n\n    return false;\n};\n\nvar isArray = Array.isArray || function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\n// Drivers are stored here when `defineDriver()` is called.\n// They are shared across all instances of localForage.\nvar DefinedDrivers = {};\n\nvar DriverSupport = {};\n\nvar DefaultDrivers = {\n    INDEXEDDB: asyncStorage,\n    WEBSQL: webSQLStorage,\n    LOCALSTORAGE: localStorageWrapper\n};\n\nvar DefaultDriverOrder = [DefaultDrivers.INDEXEDDB._driver, DefaultDrivers.WEBSQL._driver, DefaultDrivers.LOCALSTORAGE._driver];\n\nvar OptionalDriverMethods = ['dropInstance'];\n\nvar LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'].concat(OptionalDriverMethods);\n\nvar DefaultConfig = {\n    description: '',\n    driver: DefaultDriverOrder.slice(),\n    name: 'localforage',\n    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n    // we can use without a prompt.\n    size: 4980736,\n    storeName: 'keyvaluepairs',\n    version: 1.0\n};\n\nfunction callWhenReady(localForageInstance, libraryMethod) {\n    localForageInstance[libraryMethod] = function () {\n        var _args = arguments;\n        return localForageInstance.ready().then(function () {\n            return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n        });\n    };\n}\n\nfunction extend() {\n    for (var i = 1; i < arguments.length; i++) {\n        var arg = arguments[i];\n\n        if (arg) {\n            for (var _key in arg) {\n                if (arg.hasOwnProperty(_key)) {\n                    if (isArray(arg[_key])) {\n                        arguments[0][_key] = arg[_key].slice();\n                    } else {\n                        arguments[0][_key] = arg[_key];\n                    }\n                }\n            }\n        }\n    }\n\n    return arguments[0];\n}\n\nvar LocalForage = function () {\n    function LocalForage(options) {\n        _classCallCheck(this, LocalForage);\n\n        for (var driverTypeKey in DefaultDrivers) {\n            if (DefaultDrivers.hasOwnProperty(driverTypeKey)) {\n                var driver = DefaultDrivers[driverTypeKey];\n                var driverName = driver._driver;\n                this[driverTypeKey] = driverName;\n\n                if (!DefinedDrivers[driverName]) {\n                    // we don't need to wait for the promise,\n                    // since the default drivers can be defined\n                    // in a blocking manner\n                    this.defineDriver(driver);\n                }\n            }\n        }\n\n        this._defaultConfig = extend({}, DefaultConfig);\n        this._config = extend({}, this._defaultConfig, options);\n        this._driverSet = null;\n        this._initDriver = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        this._wrapLibraryMethodsWithReady();\n        this.setDriver(this._config.driver)[\"catch\"](function () {});\n    }\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n\n\n    LocalForage.prototype.config = function config(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" + 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                if (i === 'version' && typeof options[i] !== 'number') {\n                    return new Error('Database version must be a number.');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                return this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof options === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n\n\n    LocalForage.prototype.defineDriver = function defineDriver(driverObject, callback, errorCallback) {\n        var promise = new Promise$1(function (resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error('Custom driver not compliant; see ' + 'https://mozilla.github.io/localForage/#definedriver');\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n\n                var driverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0, len = driverMethods.length; i < len; i++) {\n                    var driverMethodName = driverMethods[i];\n\n                    // when the property is there,\n                    // it should be a method even when optional\n                    var isRequired = !includes(OptionalDriverMethods, driverMethodName);\n                    if ((isRequired || driverObject[driverMethodName]) && typeof driverObject[driverMethodName] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var configureMissingMethods = function configureMissingMethods() {\n                    var methodNotImplementedFactory = function methodNotImplementedFactory(methodName) {\n                        return function () {\n                            var error = new Error('Method ' + methodName + ' is not implemented by the current driver');\n                            var promise = Promise$1.reject(error);\n                            executeCallback(promise, arguments[arguments.length - 1]);\n                            return promise;\n                        };\n                    };\n\n                    for (var _i = 0, _len = OptionalDriverMethods.length; _i < _len; _i++) {\n                        var optionalDriverMethod = OptionalDriverMethods[_i];\n                        if (!driverObject[optionalDriverMethod]) {\n                            driverObject[optionalDriverMethod] = methodNotImplementedFactory(optionalDriverMethod);\n                        }\n                    }\n                };\n\n                configureMissingMethods();\n\n                var setDriverSupport = function setDriverSupport(support) {\n                    if (DefinedDrivers[driverName]) {\n                        console.info('Redefining LocalForage driver: ' + driverName);\n                    }\n                    DefinedDrivers[driverName] = driverObject;\n                    DriverSupport[driverName] = support;\n                    // don't use a then, so that we can define\n                    // drivers that have simple _support methods\n                    // in a blocking manner\n                    resolve();\n                };\n\n                if ('_support' in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        driverObject._support().then(setDriverSupport, reject);\n                    } else {\n                        setDriverSupport(!!driverObject._support);\n                    }\n                } else {\n                    setDriverSupport(true);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        executeTwoCallbacks(promise, callback, errorCallback);\n        return promise;\n    };\n\n    LocalForage.prototype.driver = function driver() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.getDriver = function getDriver(driverName, callback, errorCallback) {\n        var getDriverPromise = DefinedDrivers[driverName] ? Promise$1.resolve(DefinedDrivers[driverName]) : Promise$1.reject(new Error('Driver not found.'));\n\n        executeTwoCallbacks(getDriverPromise, callback, errorCallback);\n        return getDriverPromise;\n    };\n\n    LocalForage.prototype.getSerializer = function getSerializer(callback) {\n        var serializerPromise = Promise$1.resolve(localforageSerializer);\n        executeTwoCallbacks(serializerPromise, callback);\n        return serializerPromise;\n    };\n\n    LocalForage.prototype.ready = function ready(callback) {\n        var self = this;\n\n        var promise = self._driverSet.then(function () {\n            if (self._ready === null) {\n                self._ready = self._initDriver();\n            }\n\n            return self._ready;\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n    };\n\n    LocalForage.prototype.setDriver = function setDriver(drivers, callback, errorCallback) {\n        var self = this;\n\n        if (!isArray(drivers)) {\n            drivers = [drivers];\n        }\n\n        var supportedDrivers = this._getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n\n        function extendSelfWithDriver(driver) {\n            self._extend(driver);\n            setDriverToConfig();\n\n            self._ready = self._initStorage(self._config);\n            return self._ready;\n        }\n\n        function initDriver(supportedDrivers) {\n            return function () {\n                var currentDriverIndex = 0;\n\n                function driverPromiseLoop() {\n                    while (currentDriverIndex < supportedDrivers.length) {\n                        var driverName = supportedDrivers[currentDriverIndex];\n                        currentDriverIndex++;\n\n                        self._dbInfo = null;\n                        self._ready = null;\n\n                        return self.getDriver(driverName).then(extendSelfWithDriver)[\"catch\"](driverPromiseLoop);\n                    }\n\n                    setDriverToConfig();\n                    var error = new Error('No available storage method found.');\n                    self._driverSet = Promise$1.reject(error);\n                    return self._driverSet;\n                }\n\n                return driverPromiseLoop();\n            };\n        }\n\n        // There might be a driver initialization in progress\n        // so wait for it to finish in order to avoid a possible\n        // race condition to set _dbInfo\n        var oldDriverSetDone = this._driverSet !== null ? this._driverSet[\"catch\"](function () {\n            return Promise$1.resolve();\n        }) : Promise$1.resolve();\n\n        this._driverSet = oldDriverSetDone.then(function () {\n            var driverName = supportedDrivers[0];\n            self._dbInfo = null;\n            self._ready = null;\n\n            return self.getDriver(driverName).then(function (driver) {\n                self._driver = driver._driver;\n                setDriverToConfig();\n                self._wrapLibraryMethodsWithReady();\n                self._initDriver = initDriver(supportedDrivers);\n            });\n        })[\"catch\"](function () {\n            setDriverToConfig();\n            var error = new Error('No available storage method found.');\n            self._driverSet = Promise$1.reject(error);\n            return self._driverSet;\n        });\n\n        executeTwoCallbacks(this._driverSet, callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function supports(driverName) {\n        return !!DriverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function _extend(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    LocalForage.prototype._getSupportedDrivers = function _getSupportedDrivers(drivers) {\n        var supportedDrivers = [];\n        for (var i = 0, len = drivers.length; i < len; i++) {\n            var driverName = drivers[i];\n            if (this.supports(driverName)) {\n                supportedDrivers.push(driverName);\n            }\n        }\n        return supportedDrivers;\n    };\n\n    LocalForage.prototype._wrapLibraryMethodsWithReady = function _wrapLibraryMethodsWithReady() {\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n    };\n\n    LocalForage.prototype.createInstance = function createInstance(options) {\n        return new LocalForage(options);\n    };\n\n    return LocalForage;\n}();\n\n// The actual localForage object that we expose as a module or via a\n// global. It's extended by pulling in one of our other libraries.\n\n\nvar localforage_js = new LocalForage();\n\nmodule.exports = localforage_js;\n\n},{\"3\":3}]},{},[4])(4)\n});\n","\n/**\n * Module dependencies.\n */\n\nvar types = require('./types');\n\n/**\n * Expose the types.\n */\n\nexports.types = types;\n\n/**\n * Lookup with `ext`.\n *\n * @param {String} ext\n * @return {String}\n * @api public\n */\n\nexports.lookup = function(ext){\n  if ('.' == ext[0]) ext = ext.slice(1);\n  return types[ext];\n};","module.exports = { '123': 'application/vnd.lotus-1-2-3',\n  ez: 'application/andrew-inset',\n  aw: 'application/applixware',\n  atom: 'application/atom+xml',\n  atomcat: 'application/atomcat+xml',\n  atomsvc: 'application/atomsvc+xml',\n  ccxml: 'application/ccxml+xml',\n  cdmia: 'application/cdmi-capability',\n  cdmic: 'application/cdmi-container',\n  cdmid: 'application/cdmi-domain',\n  cdmio: 'application/cdmi-object',\n  cdmiq: 'application/cdmi-queue',\n  cu: 'application/cu-seeme',\n  davmount: 'application/davmount+xml',\n  dbk: 'application/docbook+xml',\n  dssc: 'application/dssc+der',\n  xdssc: 'application/dssc+xml',\n  ecma: 'application/ecmascript',\n  emma: 'application/emma+xml',\n  epub: 'application/epub+zip',\n  exi: 'application/exi',\n  pfr: 'application/font-tdpfr',\n  gml: 'application/gml+xml',\n  gpx: 'application/gpx+xml',\n  gxf: 'application/gxf',\n  stk: 'application/hyperstudio',\n  ink: 'application/inkml+xml',\n  inkml: 'application/inkml+xml',\n  ipfix: 'application/ipfix',\n  jar: 'application/java-archive',\n  ser: 'application/java-serialized-object',\n  class: 'application/java-vm',\n  js: 'application/javascript',\n  json: 'application/json',\n  jsonml: 'application/jsonml+json',\n  lostxml: 'application/lost+xml',\n  hqx: 'application/mac-binhex40',\n  cpt: 'application/mac-compactpro',\n  mads: 'application/mads+xml',\n  mrc: 'application/marc',\n  mrcx: 'application/marcxml+xml',\n  ma: 'application/mathematica',\n  nb: 'application/mathematica',\n  mb: 'application/mathematica',\n  mathml: 'application/mathml+xml',\n  mbox: 'application/mbox',\n  mscml: 'application/mediaservercontrol+xml',\n  metalink: 'application/metalink+xml',\n  meta4: 'application/metalink4+xml',\n  mets: 'application/mets+xml',\n  mods: 'application/mods+xml',\n  m21: 'application/mp21',\n  mp21: 'application/mp21',\n  mp4s: 'application/mp4',\n  doc: 'application/msword',\n  dot: 'application/msword',\n  mxf: 'application/mxf',\n  bin: 'application/octet-stream',\n  dms: 'application/octet-stream',\n  lrf: 'application/octet-stream',\n  mar: 'application/octet-stream',\n  so: 'application/octet-stream',\n  dist: 'application/octet-stream',\n  distz: 'application/octet-stream',\n  pkg: 'application/octet-stream',\n  bpk: 'application/octet-stream',\n  dump: 'application/octet-stream',\n  elc: 'application/octet-stream',\n  deploy: 'application/octet-stream',\n  oda: 'application/oda',\n  opf: 'application/oebps-package+xml',\n  ogx: 'application/ogg',\n  omdoc: 'application/omdoc+xml',\n  onetoc: 'application/onenote',\n  onetoc2: 'application/onenote',\n  onetmp: 'application/onenote',\n  onepkg: 'application/onenote',\n  oxps: 'application/oxps',\n  xer: 'application/patch-ops-error+xml',\n  pdf: 'application/pdf',\n  pgp: 'application/pgp-encrypted',\n  asc: 'application/pgp-signature',\n  sig: 'application/pgp-signature',\n  prf: 'application/pics-rules',\n  p10: 'application/pkcs10',\n  p7m: 'application/pkcs7-mime',\n  p7c: 'application/pkcs7-mime',\n  p7s: 'application/pkcs7-signature',\n  p8: 'application/pkcs8',\n  ac: 'application/pkix-attr-cert',\n  cer: 'application/pkix-cert',\n  crl: 'application/pkix-crl',\n  pkipath: 'application/pkix-pkipath',\n  pki: 'application/pkixcmp',\n  pls: 'application/pls+xml',\n  ai: 'application/postscript',\n  eps: 'application/postscript',\n  ps: 'application/postscript',\n  cww: 'application/prs.cww',\n  pskcxml: 'application/pskc+xml',\n  rdf: 'application/rdf+xml',\n  rif: 'application/reginfo+xml',\n  rnc: 'application/relax-ng-compact-syntax',\n  rl: 'application/resource-lists+xml',\n  rld: 'application/resource-lists-diff+xml',\n  rs: 'application/rls-services+xml',\n  gbr: 'application/rpki-ghostbusters',\n  mft: 'application/rpki-manifest',\n  roa: 'application/rpki-roa',\n  rsd: 'application/rsd+xml',\n  rss: 'application/rss+xml',\n  rtf: 'application/rtf',\n  sbml: 'application/sbml+xml',\n  scq: 'application/scvp-cv-request',\n  scs: 'application/scvp-cv-response',\n  spq: 'application/scvp-vp-request',\n  spp: 'application/scvp-vp-response',\n  sdp: 'application/sdp',\n  setpay: 'application/set-payment-initiation',\n  setreg: 'application/set-registration-initiation',\n  shf: 'application/shf+xml',\n  smi: 'application/smil+xml',\n  smil: 'application/smil+xml',\n  rq: 'application/sparql-query',\n  srx: 'application/sparql-results+xml',\n  gram: 'application/srgs',\n  grxml: 'application/srgs+xml',\n  sru: 'application/sru+xml',\n  ssdl: 'application/ssdl+xml',\n  ssml: 'application/ssml+xml',\n  tei: 'application/tei+xml',\n  teicorpus: 'application/tei+xml',\n  tfi: 'application/thraud+xml',\n  tsd: 'application/timestamped-data',\n  plb: 'application/vnd.3gpp.pic-bw-large',\n  psb: 'application/vnd.3gpp.pic-bw-small',\n  pvb: 'application/vnd.3gpp.pic-bw-var',\n  tcap: 'application/vnd.3gpp2.tcap',\n  pwn: 'application/vnd.3m.post-it-notes',\n  aso: 'application/vnd.accpac.simply.aso',\n  imp: 'application/vnd.accpac.simply.imp',\n  acu: 'application/vnd.acucobol',\n  atc: 'application/vnd.acucorp',\n  acutc: 'application/vnd.acucorp',\n  air: 'application/vnd.adobe.air-application-installer-package+zip',\n  fcdt: 'application/vnd.adobe.formscentral.fcdt',\n  fxp: 'application/vnd.adobe.fxp',\n  fxpl: 'application/vnd.adobe.fxp',\n  xdp: 'application/vnd.adobe.xdp+xml',\n  xfdf: 'application/vnd.adobe.xfdf',\n  ahead: 'application/vnd.ahead.space',\n  azf: 'application/vnd.airzip.filesecure.azf',\n  azs: 'application/vnd.airzip.filesecure.azs',\n  azw: 'application/vnd.amazon.ebook',\n  acc: 'application/vnd.americandynamics.acc',\n  ami: 'application/vnd.amiga.ami',\n  apk: 'application/vnd.android.package-archive',\n  cii: 'application/vnd.anser-web-certificate-issue-initiation',\n  fti: 'application/vnd.anser-web-funds-transfer-initiation',\n  atx: 'application/vnd.antix.game-component',\n  mpkg: 'application/vnd.apple.installer+xml',\n  m3u8: 'application/vnd.apple.mpegurl',\n  swi: 'application/vnd.aristanetworks.swi',\n  iota: 'application/vnd.astraea-software.iota',\n  aep: 'application/vnd.audiograph',\n  mpm: 'application/vnd.blueice.multipass',\n  bmi: 'application/vnd.bmi',\n  rep: 'application/vnd.businessobjects',\n  cdxml: 'application/vnd.chemdraw+xml',\n  mmd: 'application/vnd.chipnuts.karaoke-mmd',\n  cdy: 'application/vnd.cinderella',\n  cla: 'application/vnd.claymore',\n  rp9: 'application/vnd.cloanto.rp9',\n  c4g: 'application/vnd.clonk.c4group',\n  c4d: 'application/vnd.clonk.c4group',\n  c4f: 'application/vnd.clonk.c4group',\n  c4p: 'application/vnd.clonk.c4group',\n  c4u: 'application/vnd.clonk.c4group',\n  c11amc: 'application/vnd.cluetrust.cartomobile-config',\n  c11amz: 'application/vnd.cluetrust.cartomobile-config-pkg',\n  csp: 'application/vnd.commonspace',\n  cdbcmsg: 'application/vnd.contact.cmsg',\n  cmc: 'application/vnd.cosmocaller',\n  clkx: 'application/vnd.crick.clicker',\n  clkk: 'application/vnd.crick.clicker.keyboard',\n  clkp: 'application/vnd.crick.clicker.palette',\n  clkt: 'application/vnd.crick.clicker.template',\n  clkw: 'application/vnd.crick.clicker.wordbank',\n  wbs: 'application/vnd.criticaltools.wbs+xml',\n  pml: 'application/vnd.ctc-posml',\n  ppd: 'application/vnd.cups-ppd',\n  car: 'application/vnd.curl.car',\n  pcurl: 'application/vnd.curl.pcurl',\n  dart: 'application/vnd.dart',\n  rdz: 'application/vnd.data-vision.rdz',\n  uvf: 'application/vnd.dece.data',\n  uvvf: 'application/vnd.dece.data',\n  uvd: 'application/vnd.dece.data',\n  uvvd: 'application/vnd.dece.data',\n  uvt: 'application/vnd.dece.ttml+xml',\n  uvvt: 'application/vnd.dece.ttml+xml',\n  uvx: 'application/vnd.dece.unspecified',\n  uvvx: 'application/vnd.dece.unspecified',\n  uvz: 'application/vnd.dece.zip',\n  uvvz: 'application/vnd.dece.zip',\n  fe_launch: 'application/vnd.denovo.fcselayout-link',\n  dna: 'application/vnd.dna',\n  mlp: 'application/vnd.dolby.mlp',\n  dpg: 'application/vnd.dpgraph',\n  dfac: 'application/vnd.dreamfactory',\n  kpxx: 'application/vnd.ds-keypoint',\n  ait: 'application/vnd.dvb.ait',\n  svc: 'application/vnd.dvb.service',\n  geo: 'application/vnd.dynageo',\n  mag: 'application/vnd.ecowin.chart',\n  nml: 'application/vnd.enliven',\n  esf: 'application/vnd.epson.esf',\n  msf: 'application/vnd.epson.msf',\n  qam: 'application/vnd.epson.quickanime',\n  slt: 'application/vnd.epson.salt',\n  ssf: 'application/vnd.epson.ssf',\n  es3: 'application/vnd.eszigno3+xml',\n  et3: 'application/vnd.eszigno3+xml',\n  ez2: 'application/vnd.ezpix-album',\n  ez3: 'application/vnd.ezpix-package',\n  fdf: 'application/vnd.fdf',\n  mseed: 'application/vnd.fdsn.mseed',\n  seed: 'application/vnd.fdsn.seed',\n  dataless: 'application/vnd.fdsn.seed',\n  gph: 'application/vnd.flographit',\n  ftc: 'application/vnd.fluxtime.clip',\n  fm: 'application/vnd.framemaker',\n  frame: 'application/vnd.framemaker',\n  maker: 'application/vnd.framemaker',\n  book: 'application/vnd.framemaker',\n  fnc: 'application/vnd.frogans.fnc',\n  ltf: 'application/vnd.frogans.ltf',\n  fsc: 'application/vnd.fsc.weblaunch',\n  oas: 'application/vnd.fujitsu.oasys',\n  oa2: 'application/vnd.fujitsu.oasys2',\n  oa3: 'application/vnd.fujitsu.oasys3',\n  fg5: 'application/vnd.fujitsu.oasysgp',\n  bh2: 'application/vnd.fujitsu.oasysprs',\n  ddd: 'application/vnd.fujixerox.ddd',\n  xdw: 'application/vnd.fujixerox.docuworks',\n  xbd: 'application/vnd.fujixerox.docuworks.binder',\n  fzs: 'application/vnd.fuzzysheet',\n  txd: 'application/vnd.genomatix.tuxedo',\n  ggb: 'application/vnd.geogebra.file',\n  ggt: 'application/vnd.geogebra.tool',\n  gex: 'application/vnd.geometry-explorer',\n  gre: 'application/vnd.geometry-explorer',\n  gxt: 'application/vnd.geonext',\n  g2w: 'application/vnd.geoplan',\n  g3w: 'application/vnd.geospace',\n  gmx: 'application/vnd.gmx',\n  kml: 'application/vnd.google-earth.kml+xml',\n  kmz: 'application/vnd.google-earth.kmz',\n  gqf: 'application/vnd.grafeq',\n  gqs: 'application/vnd.grafeq',\n  gac: 'application/vnd.groove-account',\n  ghf: 'application/vnd.groove-help',\n  gim: 'application/vnd.groove-identity-message',\n  grv: 'application/vnd.groove-injector',\n  gtm: 'application/vnd.groove-tool-message',\n  tpl: 'application/vnd.groove-tool-template',\n  vcg: 'application/vnd.groove-vcard',\n  hal: 'application/vnd.hal+xml',\n  zmm: 'application/vnd.handheld-entertainment+xml',\n  hbci: 'application/vnd.hbci',\n  les: 'application/vnd.hhe.lesson-player',\n  hpgl: 'application/vnd.hp-hpgl',\n  hpid: 'application/vnd.hp-hpid',\n  hps: 'application/vnd.hp-hps',\n  jlt: 'application/vnd.hp-jlyt',\n  pcl: 'application/vnd.hp-pcl',\n  pclxl: 'application/vnd.hp-pclxl',\n  'sfd-hdstx': 'application/vnd.hydrostatix.sof-data',\n  mpy: 'application/vnd.ibm.minipay',\n  afp: 'application/vnd.ibm.modcap',\n  listafp: 'application/vnd.ibm.modcap',\n  list3820: 'application/vnd.ibm.modcap',\n  irm: 'application/vnd.ibm.rights-management',\n  sc: 'application/vnd.ibm.secure-container',\n  icc: 'application/vnd.iccprofile',\n  icm: 'application/vnd.iccprofile',\n  igl: 'application/vnd.igloader',\n  ivp: 'application/vnd.immervision-ivp',\n  ivu: 'application/vnd.immervision-ivu',\n  igm: 'application/vnd.insors.igm',\n  xpw: 'application/vnd.intercon.formnet',\n  xpx: 'application/vnd.intercon.formnet',\n  i2g: 'application/vnd.intergeo',\n  qbo: 'application/vnd.intu.qbo',\n  qfx: 'application/vnd.intu.qfx',\n  rcprofile: 'application/vnd.ipunplugged.rcprofile',\n  irp: 'application/vnd.irepository.package+xml',\n  xpr: 'application/vnd.is-xpr',\n  fcs: 'application/vnd.isac.fcs',\n  jam: 'application/vnd.jam',\n  rms: 'application/vnd.jcp.javame.midlet-rms',\n  jisp: 'application/vnd.jisp',\n  joda: 'application/vnd.joost.joda-archive',\n  ktz: 'application/vnd.kahootz',\n  ktr: 'application/vnd.kahootz',\n  karbon: 'application/vnd.kde.karbon',\n  chrt: 'application/vnd.kde.kchart',\n  kfo: 'application/vnd.kde.kformula',\n  flw: 'application/vnd.kde.kivio',\n  kon: 'application/vnd.kde.kontour',\n  kpr: 'application/vnd.kde.kpresenter',\n  kpt: 'application/vnd.kde.kpresenter',\n  ksp: 'application/vnd.kde.kspread',\n  kwd: 'application/vnd.kde.kword',\n  kwt: 'application/vnd.kde.kword',\n  htke: 'application/vnd.kenameaapp',\n  kia: 'application/vnd.kidspiration',\n  kne: 'application/vnd.kinar',\n  knp: 'application/vnd.kinar',\n  skp: 'application/vnd.koan',\n  skd: 'application/vnd.koan',\n  skt: 'application/vnd.koan',\n  skm: 'application/vnd.koan',\n  sse: 'application/vnd.kodak-descriptor',\n  lasxml: 'application/vnd.las.las+xml',\n  lbd: 'application/vnd.llamagraphics.life-balance.desktop',\n  lbe: 'application/vnd.llamagraphics.life-balance.exchange+xml',\n  apr: 'application/vnd.lotus-approach',\n  pre: 'application/vnd.lotus-freelance',\n  nsf: 'application/vnd.lotus-notes',\n  org: 'application/vnd.lotus-organizer',\n  scm: 'application/vnd.lotus-screencam',\n  lwp: 'application/vnd.lotus-wordpro',\n  portpkg: 'application/vnd.macports.portpkg',\n  mcd: 'application/vnd.mcd',\n  mc1: 'application/vnd.medcalcdata',\n  cdkey: 'application/vnd.mediastation.cdkey',\n  mwf: 'application/vnd.mfer',\n  mfm: 'application/vnd.mfmp',\n  flo: 'application/vnd.micrografx.flo',\n  igx: 'application/vnd.micrografx.igx',\n  mif: 'application/vnd.mif',\n  daf: 'application/vnd.mobius.daf',\n  dis: 'application/vnd.mobius.dis',\n  mbk: 'application/vnd.mobius.mbk',\n  mqy: 'application/vnd.mobius.mqy',\n  msl: 'application/vnd.mobius.msl',\n  plc: 'application/vnd.mobius.plc',\n  txf: 'application/vnd.mobius.txf',\n  mpn: 'application/vnd.mophun.application',\n  mpc: 'application/vnd.mophun.certificate',\n  xul: 'application/vnd.mozilla.xul+xml',\n  cil: 'application/vnd.ms-artgalry',\n  cab: 'application/vnd.ms-cab-compressed',\n  xls: 'application/vnd.ms-excel',\n  xlm: 'application/vnd.ms-excel',\n  xla: 'application/vnd.ms-excel',\n  xlc: 'application/vnd.ms-excel',\n  xlt: 'application/vnd.ms-excel',\n  xlw: 'application/vnd.ms-excel',\n  xlam: 'application/vnd.ms-excel.addin.macroenabled.12',\n  xlsb: 'application/vnd.ms-excel.sheet.binary.macroenabled.12',\n  xlsm: 'application/vnd.ms-excel.sheet.macroenabled.12',\n  xltm: 'application/vnd.ms-excel.template.macroenabled.12',\n  eot: 'application/vnd.ms-fontobject',\n  chm: 'application/vnd.ms-htmlhelp',\n  ims: 'application/vnd.ms-ims',\n  lrm: 'application/vnd.ms-lrm',\n  thmx: 'application/vnd.ms-officetheme',\n  cat: 'application/vnd.ms-pki.seccat',\n  stl: 'application/vnd.ms-pki.stl',\n  ppt: 'application/vnd.ms-powerpoint',\n  pps: 'application/vnd.ms-powerpoint',\n  pot: 'application/vnd.ms-powerpoint',\n  ppam: 'application/vnd.ms-powerpoint.addin.macroenabled.12',\n  pptm: 'application/vnd.ms-powerpoint.presentation.macroenabled.12',\n  sldm: 'application/vnd.ms-powerpoint.slide.macroenabled.12',\n  ppsm: 'application/vnd.ms-powerpoint.slideshow.macroenabled.12',\n  potm: 'application/vnd.ms-powerpoint.template.macroenabled.12',\n  mpp: 'application/vnd.ms-project',\n  mpt: 'application/vnd.ms-project',\n  docm: 'application/vnd.ms-word.document.macroenabled.12',\n  dotm: 'application/vnd.ms-word.template.macroenabled.12',\n  wps: 'application/vnd.ms-works',\n  wks: 'application/vnd.ms-works',\n  wcm: 'application/vnd.ms-works',\n  wdb: 'application/vnd.ms-works',\n  wpl: 'application/vnd.ms-wpl',\n  xps: 'application/vnd.ms-xpsdocument',\n  mseq: 'application/vnd.mseq',\n  mus: 'application/vnd.musician',\n  msty: 'application/vnd.muvee.style',\n  taglet: 'application/vnd.mynfc',\n  nlu: 'application/vnd.neurolanguage.nlu',\n  ntf: 'application/vnd.nitf',\n  nitf: 'application/vnd.nitf',\n  nnd: 'application/vnd.noblenet-directory',\n  nns: 'application/vnd.noblenet-sealer',\n  nnw: 'application/vnd.noblenet-web',\n  ngdat: 'application/vnd.nokia.n-gage.data',\n  'n-gage': 'application/vnd.nokia.n-gage.symbian.install',\n  rpst: 'application/vnd.nokia.radio-preset',\n  rpss: 'application/vnd.nokia.radio-presets',\n  edm: 'application/vnd.novadigm.edm',\n  edx: 'application/vnd.novadigm.edx',\n  ext: 'application/vnd.novadigm.ext',\n  odc: 'application/vnd.oasis.opendocument.chart',\n  otc: 'application/vnd.oasis.opendocument.chart-template',\n  odb: 'application/vnd.oasis.opendocument.database',\n  odf: 'application/vnd.oasis.opendocument.formula',\n  odft: 'application/vnd.oasis.opendocument.formula-template',\n  odg: 'application/vnd.oasis.opendocument.graphics',\n  otg: 'application/vnd.oasis.opendocument.graphics-template',\n  odi: 'application/vnd.oasis.opendocument.image',\n  oti: 'application/vnd.oasis.opendocument.image-template',\n  odp: 'application/vnd.oasis.opendocument.presentation',\n  otp: 'application/vnd.oasis.opendocument.presentation-template',\n  ods: 'application/vnd.oasis.opendocument.spreadsheet',\n  ots: 'application/vnd.oasis.opendocument.spreadsheet-template',\n  odt: 'application/vnd.oasis.opendocument.text',\n  odm: 'application/vnd.oasis.opendocument.text-master',\n  ott: 'application/vnd.oasis.opendocument.text-template',\n  oth: 'application/vnd.oasis.opendocument.text-web',\n  xo: 'application/vnd.olpc-sugar',\n  dd2: 'application/vnd.oma.dd2+xml',\n  oxt: 'application/vnd.openofficeorg.extension',\n  pptx: 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  sldx: 'application/vnd.openxmlformats-officedocument.presentationml.slide',\n  ppsx: 'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n  potx: 'application/vnd.openxmlformats-officedocument.presentationml.template',\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  mgp: 'application/vnd.osgeo.mapguide.package',\n  dp: 'application/vnd.osgi.dp',\n  esa: 'application/vnd.osgi.subsystem',\n  pdb: 'application/vnd.palm',\n  pqa: 'application/vnd.palm',\n  oprc: 'application/vnd.palm',\n  paw: 'application/vnd.pawaafile',\n  str: 'application/vnd.pg.format',\n  ei6: 'application/vnd.pg.osasli',\n  efif: 'application/vnd.picsel',\n  wg: 'application/vnd.pmi.widget',\n  plf: 'application/vnd.pocketlearn',\n  pbd: 'application/vnd.powerbuilder6',\n  box: 'application/vnd.previewsystems.box',\n  mgz: 'application/vnd.proteus.magazine',\n  qps: 'application/vnd.publishare-delta-tree',\n  ptid: 'application/vnd.pvi.ptid1',\n  qxd: 'application/vnd.quark.quarkxpress',\n  qxt: 'application/vnd.quark.quarkxpress',\n  qwd: 'application/vnd.quark.quarkxpress',\n  qwt: 'application/vnd.quark.quarkxpress',\n  qxl: 'application/vnd.quark.quarkxpress',\n  qxb: 'application/vnd.quark.quarkxpress',\n  bed: 'application/vnd.realvnc.bed',\n  mxl: 'application/vnd.recordare.musicxml',\n  musicxml: 'application/vnd.recordare.musicxml+xml',\n  cryptonote: 'application/vnd.rig.cryptonote',\n  cod: 'application/vnd.rim.cod',\n  rm: 'application/vnd.rn-realmedia',\n  rmvb: 'application/vnd.rn-realmedia-vbr',\n  link66: 'application/vnd.route66.link66+xml',\n  st: 'application/vnd.sailingtracker.track',\n  see: 'application/vnd.seemail',\n  sema: 'application/vnd.sema',\n  semd: 'application/vnd.semd',\n  semf: 'application/vnd.semf',\n  ifm: 'application/vnd.shana.informed.formdata',\n  itp: 'application/vnd.shana.informed.formtemplate',\n  iif: 'application/vnd.shana.informed.interchange',\n  ipk: 'application/vnd.shana.informed.package',\n  twd: 'application/vnd.simtech-mindmapper',\n  twds: 'application/vnd.simtech-mindmapper',\n  mmf: 'application/vnd.smaf',\n  teacher: 'application/vnd.smart.teacher',\n  sdkm: 'application/vnd.solent.sdkm+xml',\n  sdkd: 'application/vnd.solent.sdkm+xml',\n  dxp: 'application/vnd.spotfire.dxp',\n  sfs: 'application/vnd.spotfire.sfs',\n  sdc: 'application/vnd.stardivision.calc',\n  sda: 'application/vnd.stardivision.draw',\n  sdd: 'application/vnd.stardivision.impress',\n  smf: 'application/vnd.stardivision.math',\n  sdw: 'application/vnd.stardivision.writer',\n  vor: 'application/vnd.stardivision.writer',\n  sgl: 'application/vnd.stardivision.writer-global',\n  smzip: 'application/vnd.stepmania.package',\n  sm: 'application/vnd.stepmania.stepchart',\n  sxc: 'application/vnd.sun.xml.calc',\n  stc: 'application/vnd.sun.xml.calc.template',\n  sxd: 'application/vnd.sun.xml.draw',\n  std: 'application/vnd.sun.xml.draw.template',\n  sxi: 'application/vnd.sun.xml.impress',\n  sti: 'application/vnd.sun.xml.impress.template',\n  sxm: 'application/vnd.sun.xml.math',\n  sxw: 'application/vnd.sun.xml.writer',\n  sxg: 'application/vnd.sun.xml.writer.global',\n  stw: 'application/vnd.sun.xml.writer.template',\n  sus: 'application/vnd.sus-calendar',\n  susp: 'application/vnd.sus-calendar',\n  svd: 'application/vnd.svd',\n  sis: 'application/vnd.symbian.install',\n  sisx: 'application/vnd.symbian.install',\n  xsm: 'application/vnd.syncml+xml',\n  bdm: 'application/vnd.syncml.dm+wbxml',\n  xdm: 'application/vnd.syncml.dm+xml',\n  tao: 'application/vnd.tao.intent-module-archive',\n  pcap: 'application/vnd.tcpdump.pcap',\n  cap: 'application/vnd.tcpdump.pcap',\n  dmp: 'application/vnd.tcpdump.pcap',\n  tmo: 'application/vnd.tmobile-livetv',\n  tpt: 'application/vnd.trid.tpt',\n  mxs: 'application/vnd.triscape.mxs',\n  tra: 'application/vnd.trueapp',\n  ufd: 'application/vnd.ufdl',\n  ufdl: 'application/vnd.ufdl',\n  utz: 'application/vnd.uiq.theme',\n  umj: 'application/vnd.umajin',\n  unityweb: 'application/vnd.unity',\n  uoml: 'application/vnd.uoml+xml',\n  vcx: 'application/vnd.vcx',\n  vsd: 'application/vnd.visio',\n  vst: 'application/vnd.visio',\n  vss: 'application/vnd.visio',\n  vsw: 'application/vnd.visio',\n  vis: 'application/vnd.visionary',\n  vsf: 'application/vnd.vsf',\n  wbxml: 'application/vnd.wap.wbxml',\n  wmlc: 'application/vnd.wap.wmlc',\n  wmlsc: 'application/vnd.wap.wmlscriptc',\n  wtb: 'application/vnd.webturbo',\n  nbp: 'application/vnd.wolfram.player',\n  wpd: 'application/vnd.wordperfect',\n  wqd: 'application/vnd.wqd',\n  stf: 'application/vnd.wt.stf',\n  xar: 'application/vnd.xara',\n  xfdl: 'application/vnd.xfdl',\n  hvd: 'application/vnd.yamaha.hv-dic',\n  hvs: 'application/vnd.yamaha.hv-script',\n  hvp: 'application/vnd.yamaha.hv-voice',\n  osf: 'application/vnd.yamaha.openscoreformat',\n  osfpvg: 'application/vnd.yamaha.openscoreformat.osfpvg+xml',\n  saf: 'application/vnd.yamaha.smaf-audio',\n  spf: 'application/vnd.yamaha.smaf-phrase',\n  cmp: 'application/vnd.yellowriver-custom-menu',\n  zir: 'application/vnd.zul',\n  zirz: 'application/vnd.zul',\n  zaz: 'application/vnd.zzazz.deck+xml',\n  vxml: 'application/voicexml+xml',\n  wgt: 'application/widget',\n  hlp: 'application/winhlp',\n  wsdl: 'application/wsdl+xml',\n  wspolicy: 'application/wspolicy+xml',\n  '7z': 'application/x-7z-compressed',\n  abw: 'application/x-abiword',\n  ace: 'application/x-ace-compressed',\n  dmg: 'application/x-apple-diskimage',\n  aab: 'application/x-authorware-bin',\n  x32: 'application/x-authorware-bin',\n  u32: 'application/x-authorware-bin',\n  vox: 'application/x-authorware-bin',\n  aam: 'application/x-authorware-map',\n  aas: 'application/x-authorware-seg',\n  bcpio: 'application/x-bcpio',\n  torrent: 'application/x-bittorrent',\n  blb: 'application/x-blorb',\n  blorb: 'application/x-blorb',\n  bz: 'application/x-bzip',\n  bz2: 'application/x-bzip2',\n  boz: 'application/x-bzip2',\n  cbr: 'application/x-cbr',\n  cba: 'application/x-cbr',\n  cbt: 'application/x-cbr',\n  cbz: 'application/x-cbr',\n  cb7: 'application/x-cbr',\n  vcd: 'application/x-cdlink',\n  cfs: 'application/x-cfs-compressed',\n  chat: 'application/x-chat',\n  pgn: 'application/x-chess-pgn',\n  nsc: 'application/x-conference',\n  cpio: 'application/x-cpio',\n  csh: 'application/x-csh',\n  deb: 'application/x-debian-package',\n  udeb: 'application/x-debian-package',\n  dgc: 'application/x-dgc-compressed',\n  dir: 'application/x-director',\n  dcr: 'application/x-director',\n  dxr: 'application/x-director',\n  cst: 'application/x-director',\n  cct: 'application/x-director',\n  cxt: 'application/x-director',\n  w3d: 'application/x-director',\n  fgd: 'application/x-director',\n  swa: 'application/x-director',\n  wad: 'application/x-doom',\n  ncx: 'application/x-dtbncx+xml',\n  dtb: 'application/x-dtbook+xml',\n  res: 'application/x-dtbresource+xml',\n  dvi: 'application/x-dvi',\n  evy: 'application/x-envoy',\n  eva: 'application/x-eva',\n  bdf: 'application/x-font-bdf',\n  gsf: 'application/x-font-ghostscript',\n  psf: 'application/x-font-linux-psf',\n  otf: 'application/x-font-otf',\n  pcf: 'application/x-font-pcf',\n  snf: 'application/x-font-snf',\n  ttf: 'application/x-font-ttf',\n  ttc: 'application/x-font-ttf',\n  pfa: 'application/x-font-type1',\n  pfb: 'application/x-font-type1',\n  pfm: 'application/x-font-type1',\n  afm: 'application/x-font-type1',\n  woff: 'application/x-font-woff',\n  arc: 'application/x-freearc',\n  spl: 'application/x-futuresplash',\n  gca: 'application/x-gca-compressed',\n  ulx: 'application/x-glulx',\n  gnumeric: 'application/x-gnumeric',\n  gramps: 'application/x-gramps-xml',\n  gtar: 'application/x-gtar',\n  hdf: 'application/x-hdf',\n  install: 'application/x-install-instructions',\n  iso: 'application/x-iso9660-image',\n  jnlp: 'application/x-java-jnlp-file',\n  latex: 'application/x-latex',\n  lzh: 'application/x-lzh-compressed',\n  lha: 'application/x-lzh-compressed',\n  mie: 'application/x-mie',\n  prc: 'application/x-mobipocket-ebook',\n  mobi: 'application/x-mobipocket-ebook',\n  application: 'application/x-ms-application',\n  lnk: 'application/x-ms-shortcut',\n  wmd: 'application/x-ms-wmd',\n  wmz: 'application/x-msmetafile',\n  xbap: 'application/x-ms-xbap',\n  mdb: 'application/x-msaccess',\n  obd: 'application/x-msbinder',\n  crd: 'application/x-mscardfile',\n  clp: 'application/x-msclip',\n  exe: 'application/x-msdownload',\n  dll: 'application/x-msdownload',\n  com: 'application/x-msdownload',\n  bat: 'application/x-msdownload',\n  msi: 'application/x-msdownload',\n  mvb: 'application/x-msmediaview',\n  m13: 'application/x-msmediaview',\n  m14: 'application/x-msmediaview',\n  wmf: 'application/x-msmetafile',\n  emf: 'application/x-msmetafile',\n  emz: 'application/x-msmetafile',\n  mny: 'application/x-msmoney',\n  pub: 'application/x-mspublisher',\n  scd: 'application/x-msschedule',\n  trm: 'application/x-msterminal',\n  wri: 'application/x-mswrite',\n  nc: 'application/x-netcdf',\n  cdf: 'application/x-netcdf',\n  nzb: 'application/x-nzb',\n  p12: 'application/x-pkcs12',\n  pfx: 'application/x-pkcs12',\n  p7b: 'application/x-pkcs7-certificates',\n  spc: 'application/x-pkcs7-certificates',\n  p7r: 'application/x-pkcs7-certreqresp',\n  rar: 'application/x-rar-compressed',\n  ris: 'application/x-research-info-systems',\n  sh: 'application/x-sh',\n  shar: 'application/x-shar',\n  swf: 'application/x-shockwave-flash',\n  xap: 'application/x-silverlight-app',\n  sql: 'application/x-sql',\n  sit: 'application/x-stuffit',\n  sitx: 'application/x-stuffitx',\n  srt: 'application/x-subrip',\n  sv4cpio: 'application/x-sv4cpio',\n  sv4crc: 'application/x-sv4crc',\n  t3: 'application/x-t3vm-image',\n  gam: 'application/x-tads',\n  tar: 'application/x-tar',\n  tcl: 'application/x-tcl',\n  tex: 'application/x-tex',\n  tfm: 'application/x-tex-tfm',\n  texinfo: 'application/x-texinfo',\n  texi: 'application/x-texinfo',\n  obj: 'application/x-tgif',\n  ustar: 'application/x-ustar',\n  src: 'application/x-wais-source',\n  der: 'application/x-x509-ca-cert',\n  crt: 'application/x-x509-ca-cert',\n  fig: 'application/x-xfig',\n  xlf: 'application/x-xliff+xml',\n  xpi: 'application/x-xpinstall',\n  xz: 'application/x-xz',\n  z1: 'application/x-zmachine',\n  z2: 'application/x-zmachine',\n  z3: 'application/x-zmachine',\n  z4: 'application/x-zmachine',\n  z5: 'application/x-zmachine',\n  z6: 'application/x-zmachine',\n  z7: 'application/x-zmachine',\n  z8: 'application/x-zmachine',\n  xaml: 'application/xaml+xml',\n  xdf: 'application/xcap-diff+xml',\n  xenc: 'application/xenc+xml',\n  xhtml: 'application/xhtml+xml',\n  xht: 'application/xhtml+xml',\n  xml: 'application/xml',\n  xsl: 'application/xml',\n  dtd: 'application/xml-dtd',\n  xop: 'application/xop+xml',\n  xpl: 'application/xproc+xml',\n  xslt: 'application/xslt+xml',\n  xspf: 'application/xspf+xml',\n  mxml: 'application/xv+xml',\n  xhvml: 'application/xv+xml',\n  xvml: 'application/xv+xml',\n  xvm: 'application/xv+xml',\n  yang: 'application/yang',\n  yin: 'application/yin+xml',\n  zip: 'application/zip',\n  adp: 'audio/adpcm',\n  au: 'audio/basic',\n  snd: 'audio/basic',\n  mid: 'audio/midi',\n  midi: 'audio/midi',\n  kar: 'audio/midi',\n  rmi: 'audio/midi',\n  mp4a: 'audio/mp4',\n  mpga: 'audio/mpeg',\n  mp2: 'audio/mpeg',\n  mp2a: 'audio/mpeg',\n  mp3: 'audio/mpeg',\n  m2a: 'audio/mpeg',\n  m3a: 'audio/mpeg',\n  oga: 'audio/ogg',\n  ogg: 'audio/ogg',\n  spx: 'audio/ogg',\n  s3m: 'audio/s3m',\n  sil: 'audio/silk',\n  uva: 'audio/vnd.dece.audio',\n  uvva: 'audio/vnd.dece.audio',\n  eol: 'audio/vnd.digital-winds',\n  dra: 'audio/vnd.dra',\n  dts: 'audio/vnd.dts',\n  dtshd: 'audio/vnd.dts.hd',\n  lvp: 'audio/vnd.lucent.voice',\n  pya: 'audio/vnd.ms-playready.media.pya',\n  ecelp4800: 'audio/vnd.nuera.ecelp4800',\n  ecelp7470: 'audio/vnd.nuera.ecelp7470',\n  ecelp9600: 'audio/vnd.nuera.ecelp9600',\n  rip: 'audio/vnd.rip',\n  weba: 'audio/webm',\n  aac: 'audio/x-aac',\n  aif: 'audio/x-aiff',\n  aiff: 'audio/x-aiff',\n  aifc: 'audio/x-aiff',\n  caf: 'audio/x-caf',\n  flac: 'audio/x-flac',\n  mka: 'audio/x-matroska',\n  m3u: 'audio/x-mpegurl',\n  wax: 'audio/x-ms-wax',\n  wma: 'audio/x-ms-wma',\n  ram: 'audio/x-pn-realaudio',\n  ra: 'audio/x-pn-realaudio',\n  rmp: 'audio/x-pn-realaudio-plugin',\n  wav: 'audio/x-wav',\n  xm: 'audio/xm',\n  cdx: 'chemical/x-cdx',\n  cif: 'chemical/x-cif',\n  cmdf: 'chemical/x-cmdf',\n  cml: 'chemical/x-cml',\n  csml: 'chemical/x-csml',\n  xyz: 'chemical/x-xyz',\n  bmp: 'image/bmp',\n  cgm: 'image/cgm',\n  g3: 'image/g3fax',\n  gif: 'image/gif',\n  ief: 'image/ief',\n  jpeg: 'image/jpeg',\n  jpg: 'image/jpeg',\n  jpe: 'image/jpeg',\n  ktx: 'image/ktx',\n  png: 'image/png',\n  btif: 'image/prs.btif',\n  sgi: 'image/sgi',\n  svg: 'image/svg+xml',\n  svgz: 'image/svg+xml',\n  tiff: 'image/tiff',\n  tif: 'image/tiff',\n  psd: 'image/vnd.adobe.photoshop',\n  uvi: 'image/vnd.dece.graphic',\n  uvvi: 'image/vnd.dece.graphic',\n  uvg: 'image/vnd.dece.graphic',\n  uvvg: 'image/vnd.dece.graphic',\n  sub: 'text/vnd.dvb.subtitle',\n  djvu: 'image/vnd.djvu',\n  djv: 'image/vnd.djvu',\n  dwg: 'image/vnd.dwg',\n  dxf: 'image/vnd.dxf',\n  fbs: 'image/vnd.fastbidsheet',\n  fpx: 'image/vnd.fpx',\n  fst: 'image/vnd.fst',\n  mmr: 'image/vnd.fujixerox.edmics-mmr',\n  rlc: 'image/vnd.fujixerox.edmics-rlc',\n  mdi: 'image/vnd.ms-modi',\n  wdp: 'image/vnd.ms-photo',\n  npx: 'image/vnd.net-fpx',\n  wbmp: 'image/vnd.wap.wbmp',\n  xif: 'image/vnd.xiff',\n  webp: 'image/webp',\n  '3ds': 'image/x-3ds',\n  ras: 'image/x-cmu-raster',\n  cmx: 'image/x-cmx',\n  fh: 'image/x-freehand',\n  fhc: 'image/x-freehand',\n  fh4: 'image/x-freehand',\n  fh5: 'image/x-freehand',\n  fh7: 'image/x-freehand',\n  ico: 'image/x-icon',\n  sid: 'image/x-mrsid-image',\n  pcx: 'image/x-pcx',\n  pic: 'image/x-pict',\n  pct: 'image/x-pict',\n  pnm: 'image/x-portable-anymap',\n  pbm: 'image/x-portable-bitmap',\n  pgm: 'image/x-portable-graymap',\n  ppm: 'image/x-portable-pixmap',\n  rgb: 'image/x-rgb',\n  tga: 'image/x-tga',\n  xbm: 'image/x-xbitmap',\n  xpm: 'image/x-xpixmap',\n  xwd: 'image/x-xwindowdump',\n  eml: 'message/rfc822',\n  mime: 'message/rfc822',\n  igs: 'model/iges',\n  iges: 'model/iges',\n  msh: 'model/mesh',\n  mesh: 'model/mesh',\n  silo: 'model/mesh',\n  dae: 'model/vnd.collada+xml',\n  dwf: 'model/vnd.dwf',\n  gdl: 'model/vnd.gdl',\n  gtw: 'model/vnd.gtw',\n  mts: 'model/vnd.mts',\n  vtu: 'model/vnd.vtu',\n  wrl: 'model/vrml',\n  vrml: 'model/vrml',\n  x3db: 'model/x3d+binary',\n  x3dbz: 'model/x3d+binary',\n  x3dv: 'model/x3d+vrml',\n  x3dvz: 'model/x3d+vrml',\n  x3d: 'model/x3d+xml',\n  x3dz: 'model/x3d+xml',\n  appcache: 'text/cache-manifest',\n  ics: 'text/calendar',\n  ifb: 'text/calendar',\n  css: 'text/css',\n  csv: 'text/csv',\n  html: 'text/html',\n  htm: 'text/html',\n  n3: 'text/n3',\n  txt: 'text/plain',\n  text: 'text/plain',\n  conf: 'text/plain',\n  def: 'text/plain',\n  list: 'text/plain',\n  log: 'text/plain',\n  in: 'text/plain',\n  dsc: 'text/prs.lines.tag',\n  rtx: 'text/richtext',\n  sgml: 'text/sgml',\n  sgm: 'text/sgml',\n  tsv: 'text/tab-separated-values',\n  t: 'text/troff',\n  tr: 'text/troff',\n  roff: 'text/troff',\n  man: 'text/troff',\n  me: 'text/troff',\n  ms: 'text/troff',\n  ttl: 'text/turtle',\n  uri: 'text/uri-list',\n  uris: 'text/uri-list',\n  urls: 'text/uri-list',\n  vcard: 'text/vcard',\n  curl: 'text/vnd.curl',\n  dcurl: 'text/vnd.curl.dcurl',\n  scurl: 'text/vnd.curl.scurl',\n  mcurl: 'text/vnd.curl.mcurl',\n  fly: 'text/vnd.fly',\n  flx: 'text/vnd.fmi.flexstor',\n  gv: 'text/vnd.graphviz',\n  '3dml': 'text/vnd.in3d.3dml',\n  spot: 'text/vnd.in3d.spot',\n  jad: 'text/vnd.sun.j2me.app-descriptor',\n  wml: 'text/vnd.wap.wml',\n  wmls: 'text/vnd.wap.wmlscript',\n  s: 'text/x-asm',\n  asm: 'text/x-asm',\n  c: 'text/x-c',\n  cc: 'text/x-c',\n  cxx: 'text/x-c',\n  cpp: 'text/x-c',\n  h: 'text/x-c',\n  hh: 'text/x-c',\n  dic: 'text/x-c',\n  f: 'text/x-fortran',\n  for: 'text/x-fortran',\n  f77: 'text/x-fortran',\n  f90: 'text/x-fortran',\n  java: 'text/x-java-source',\n  opml: 'text/x-opml',\n  p: 'text/x-pascal',\n  pas: 'text/x-pascal',\n  nfo: 'text/x-nfo',\n  etx: 'text/x-setext',\n  sfv: 'text/x-sfv',\n  uu: 'text/x-uuencode',\n  vcs: 'text/x-vcalendar',\n  vcf: 'text/x-vcard',\n  '3gp': 'video/3gpp',\n  '3g2': 'video/3gpp2',\n  h261: 'video/h261',\n  h263: 'video/h263',\n  h264: 'video/h264',\n  jpgv: 'video/jpeg',\n  jpm: 'video/jpm',\n  jpgm: 'video/jpm',\n  mj2: 'video/mj2',\n  mjp2: 'video/mj2',\n  mp4: 'video/mp4',\n  mp4v: 'video/mp4',\n  mpg4: 'video/mp4',\n  mpeg: 'video/mpeg',\n  mpg: 'video/mpeg',\n  mpe: 'video/mpeg',\n  m1v: 'video/mpeg',\n  m2v: 'video/mpeg',\n  ogv: 'video/ogg',\n  qt: 'video/quicktime',\n  mov: 'video/quicktime',\n  uvh: 'video/vnd.dece.hd',\n  uvvh: 'video/vnd.dece.hd',\n  uvm: 'video/vnd.dece.mobile',\n  uvvm: 'video/vnd.dece.mobile',\n  uvp: 'video/vnd.dece.pd',\n  uvvp: 'video/vnd.dece.pd',\n  uvs: 'video/vnd.dece.sd',\n  uvvs: 'video/vnd.dece.sd',\n  uvv: 'video/vnd.dece.video',\n  uvvv: 'video/vnd.dece.video',\n  dvb: 'video/vnd.dvb.file',\n  fvt: 'video/vnd.fvt',\n  mxu: 'video/vnd.mpegurl',\n  m4u: 'video/vnd.mpegurl',\n  pyv: 'video/vnd.ms-playready.media.pyv',\n  uvu: 'video/vnd.uvvu.mp4',\n  uvvu: 'video/vnd.uvvu.mp4',\n  viv: 'video/vnd.vivo',\n  webm: 'video/webm',\n  f4v: 'video/x-f4v',\n  fli: 'video/x-fli',\n  flv: 'video/x-flv',\n  m4v: 'video/x-m4v',\n  mkv: 'video/x-matroska',\n  mk3d: 'video/x-matroska',\n  mks: 'video/x-matroska',\n  mng: 'video/x-mng',\n  asf: 'video/x-ms-asf',\n  asx: 'video/x-ms-asf',\n  vob: 'video/x-ms-vob',\n  wm: 'video/x-ms-wm',\n  wmv: 'video/x-ms-wmv',\n  wmx: 'video/x-ms-wmx',\n  wvx: 'video/x-ms-wvx',\n  avi: 'video/x-msvideo',\n  movie: 'video/x-sgi-movie',\n  smv: 'video/x-smv',\n  ice: 'x-conference/x-cooltalk' }\n","/*! *****************************************************************************\r\nCopyright (C) Microsoft. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\nvar Reflect;\r\n(function (Reflect) {\r\n    // Metadata Proposal\r\n    // https://rbuckton.github.io/reflect-metadata/\r\n    (function (factory) {\r\n        var root = typeof global === \"object\" ? global :\r\n            typeof self === \"object\" ? self :\r\n                typeof this === \"object\" ? this :\r\n                    Function(\"return this;\")();\r\n        var exporter = makeExporter(Reflect);\r\n        if (typeof root.Reflect === \"undefined\") {\r\n            root.Reflect = Reflect;\r\n        }\r\n        else {\r\n            exporter = makeExporter(root.Reflect, exporter);\r\n        }\r\n        factory(exporter);\r\n        function makeExporter(target, previous) {\r\n            return function (key, value) {\r\n                if (typeof target[key] !== \"function\") {\r\n                    Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\r\n                }\r\n                if (previous)\r\n                    previous(key, value);\r\n            };\r\n        }\r\n    })(function (exporter) {\r\n        var hasOwn = Object.prototype.hasOwnProperty;\r\n        // feature test for Symbol support\r\n        var supportsSymbol = typeof Symbol === \"function\";\r\n        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\r\n        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\r\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\r\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\r\n        var downLevel = !supportsCreate && !supportsProto;\r\n        var HashMap = {\r\n            // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\r\n            create: supportsCreate\r\n                ? function () { return MakeDictionary(Object.create(null)); }\r\n                : supportsProto\r\n                    ? function () { return MakeDictionary({ __proto__: null }); }\r\n                    : function () { return MakeDictionary({}); },\r\n            has: downLevel\r\n                ? function (map, key) { return hasOwn.call(map, key); }\r\n                : function (map, key) { return key in map; },\r\n            get: downLevel\r\n                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\r\n                : function (map, key) { return map[key]; },\r\n        };\r\n        // Load global or shim versions of Map, Set, and WeakMap\r\n        var functionPrototype = Object.getPrototypeOf(Function);\r\n        var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\r\n        var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\r\n        var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\r\n        var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\r\n        // [[Metadata]] internal slot\r\n        // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\r\n        var Metadata = new _WeakMap();\r\n        /**\r\n         * Applies a set of decorators to a property of a target object.\r\n         * @param decorators An array of decorators.\r\n         * @param target The target object.\r\n         * @param propertyKey (Optional) The property key to decorate.\r\n         * @param attributes (Optional) The property descriptor for the target key.\r\n         * @remarks Decorators are applied in reverse order.\r\n         * @example\r\n         *\r\n         *     class Example {\r\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n         *         // static staticProperty;\r\n         *         // property;\r\n         *\r\n         *         constructor(p) { }\r\n         *         static staticMethod(p) { }\r\n         *         method(p) { }\r\n         *     }\r\n         *\r\n         *     // constructor\r\n         *     Example = Reflect.decorate(decoratorsArray, Example);\r\n         *\r\n         *     // property (on constructor)\r\n         *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\r\n         *\r\n         *     // property (on prototype)\r\n         *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\r\n         *\r\n         *     // method (on constructor)\r\n         *     Object.defineProperty(Example, \"staticMethod\",\r\n         *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\r\n         *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\r\n         *\r\n         *     // method (on prototype)\r\n         *     Object.defineProperty(Example.prototype, \"method\",\r\n         *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\r\n         *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\r\n         *\r\n         */\r\n        function decorate(decorators, target, propertyKey, attributes) {\r\n            if (!IsUndefined(propertyKey)) {\r\n                if (!IsArray(decorators))\r\n                    throw new TypeError();\r\n                if (!IsObject(target))\r\n                    throw new TypeError();\r\n                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\r\n                    throw new TypeError();\r\n                if (IsNull(attributes))\r\n                    attributes = undefined;\r\n                propertyKey = ToPropertyKey(propertyKey);\r\n                return DecorateProperty(decorators, target, propertyKey, attributes);\r\n            }\r\n            else {\r\n                if (!IsArray(decorators))\r\n                    throw new TypeError();\r\n                if (!IsConstructor(target))\r\n                    throw new TypeError();\r\n                return DecorateConstructor(decorators, target);\r\n            }\r\n        }\r\n        exporter(\"decorate\", decorate);\r\n        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\r\n        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\r\n        /**\r\n         * A default metadata decorator factory that can be used on a class, class member, or parameter.\r\n         * @param metadataKey The key for the metadata entry.\r\n         * @param metadataValue The value for the metadata entry.\r\n         * @returns A decorator function.\r\n         * @remarks\r\n         * If `metadataKey` is already defined for the target and target key, the\r\n         * metadataValue for that key will be overwritten.\r\n         * @example\r\n         *\r\n         *     // constructor\r\n         *     @Reflect.metadata(key, value)\r\n         *     class Example {\r\n         *     }\r\n         *\r\n         *     // property (on constructor, TypeScript only)\r\n         *     class Example {\r\n         *         @Reflect.metadata(key, value)\r\n         *         static staticProperty;\r\n         *     }\r\n         *\r\n         *     // property (on prototype, TypeScript only)\r\n         *     class Example {\r\n         *         @Reflect.metadata(key, value)\r\n         *         property;\r\n         *     }\r\n         *\r\n         *     // method (on constructor)\r\n         *     class Example {\r\n         *         @Reflect.metadata(key, value)\r\n         *         static staticMethod() { }\r\n         *     }\r\n         *\r\n         *     // method (on prototype)\r\n         *     class Example {\r\n         *         @Reflect.metadata(key, value)\r\n         *         method() { }\r\n         *     }\r\n         *\r\n         */\r\n        function metadata(metadataKey, metadataValue) {\r\n            function decorator(target, propertyKey) {\r\n                if (!IsObject(target))\r\n                    throw new TypeError();\r\n                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\r\n                    throw new TypeError();\r\n                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\r\n            }\r\n            return decorator;\r\n        }\r\n        exporter(\"metadata\", metadata);\r\n        /**\r\n         * Define a unique metadata entry on the target.\r\n         * @param metadataKey A key used to store and retrieve metadata.\r\n         * @param metadataValue A value that contains attached metadata.\r\n         * @param target The target object on which to define metadata.\r\n         * @param propertyKey (Optional) The property key for the target.\r\n         * @example\r\n         *\r\n         *     class Example {\r\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n         *         // static staticProperty;\r\n         *         // property;\r\n         *\r\n         *         constructor(p) { }\r\n         *         static staticMethod(p) { }\r\n         *         method(p) { }\r\n         *     }\r\n         *\r\n         *     // constructor\r\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\r\n         *\r\n         *     // property (on constructor)\r\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\r\n         *\r\n         *     // property (on prototype)\r\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\r\n         *\r\n         *     // method (on constructor)\r\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\r\n         *\r\n         *     // method (on prototype)\r\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\r\n         *\r\n         *     // decorator factory as metadata-producing annotation.\r\n         *     function MyAnnotation(options): Decorator {\r\n         *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\r\n         *     }\r\n         *\r\n         */\r\n        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsUndefined(propertyKey))\r\n                propertyKey = ToPropertyKey(propertyKey);\r\n            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\r\n        }\r\n        exporter(\"defineMetadata\", defineMetadata);\r\n        /**\r\n         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\r\n         * @param metadataKey A key used to store and retrieve metadata.\r\n         * @param target The target object on which the metadata is defined.\r\n         * @param propertyKey (Optional) The property key for the target.\r\n         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\r\n         * @example\r\n         *\r\n         *     class Example {\r\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n         *         // static staticProperty;\r\n         *         // property;\r\n         *\r\n         *         constructor(p) { }\r\n         *         static staticMethod(p) { }\r\n         *         method(p) { }\r\n         *     }\r\n         *\r\n         *     // constructor\r\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\r\n         *\r\n         *     // property (on constructor)\r\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n         *\r\n         *     // property (on prototype)\r\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n         *\r\n         *     // method (on constructor)\r\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n         *\r\n         *     // method (on prototype)\r\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n         *\r\n         */\r\n        function hasMetadata(metadataKey, target, propertyKey) {\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsUndefined(propertyKey))\r\n                propertyKey = ToPropertyKey(propertyKey);\r\n            return OrdinaryHasMetadata(metadataKey, target, propertyKey);\r\n        }\r\n        exporter(\"hasMetadata\", hasMetadata);\r\n        /**\r\n         * Gets a value indicating whether the target object has the provided metadata key defined.\r\n         * @param metadataKey A key used to store and retrieve metadata.\r\n         * @param target The target object on which the metadata is defined.\r\n         * @param propertyKey (Optional) The property key for the target.\r\n         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\r\n         * @example\r\n         *\r\n         *     class Example {\r\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n         *         // static staticProperty;\r\n         *         // property;\r\n         *\r\n         *         constructor(p) { }\r\n         *         static staticMethod(p) { }\r\n         *         method(p) { }\r\n         *     }\r\n         *\r\n         *     // constructor\r\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\r\n         *\r\n         *     // property (on constructor)\r\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n         *\r\n         *     // property (on prototype)\r\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n         *\r\n         *     // method (on constructor)\r\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n         *\r\n         *     // method (on prototype)\r\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n         *\r\n         */\r\n        function hasOwnMetadata(metadataKey, target, propertyKey) {\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsUndefined(propertyKey))\r\n                propertyKey = ToPropertyKey(propertyKey);\r\n            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\r\n        }\r\n        exporter(\"hasOwnMetadata\", hasOwnMetadata);\r\n        /**\r\n         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\r\n         * @param metadataKey A key used to store and retrieve metadata.\r\n         * @param target The target object on which the metadata is defined.\r\n         * @param propertyKey (Optional) The property key for the target.\r\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\r\n         * @example\r\n         *\r\n         *     class Example {\r\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n         *         // static staticProperty;\r\n         *         // property;\r\n         *\r\n         *         constructor(p) { }\r\n         *         static staticMethod(p) { }\r\n         *         method(p) { }\r\n         *     }\r\n         *\r\n         *     // constructor\r\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example);\r\n         *\r\n         *     // property (on constructor)\r\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n         *\r\n         *     // property (on prototype)\r\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n         *\r\n         *     // method (on constructor)\r\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n         *\r\n         *     // method (on prototype)\r\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n         *\r\n         */\r\n        function getMetadata(metadataKey, target, propertyKey) {\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsUndefined(propertyKey))\r\n                propertyKey = ToPropertyKey(propertyKey);\r\n            return OrdinaryGetMetadata(metadataKey, target, propertyKey);\r\n        }\r\n        exporter(\"getMetadata\", getMetadata);\r\n        /**\r\n         * Gets the metadata value for the provided metadata key on the target object.\r\n         * @param metadataKey A key used to store and retrieve metadata.\r\n         * @param target The target object on which the metadata is defined.\r\n         * @param propertyKey (Optional) The property key for the target.\r\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\r\n         * @example\r\n         *\r\n         *     class Example {\r\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n         *         // static staticProperty;\r\n         *         // property;\r\n         *\r\n         *         constructor(p) { }\r\n         *         static staticMethod(p) { }\r\n         *         method(p) { }\r\n         *     }\r\n         *\r\n         *     // constructor\r\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\r\n         *\r\n         *     // property (on constructor)\r\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n         *\r\n         *     // property (on prototype)\r\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n         *\r\n         *     // method (on constructor)\r\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n         *\r\n         *     // method (on prototype)\r\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n         *\r\n         */\r\n        function getOwnMetadata(metadataKey, target, propertyKey) {\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsUndefined(propertyKey))\r\n                propertyKey = ToPropertyKey(propertyKey);\r\n            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\r\n        }\r\n        exporter(\"getOwnMetadata\", getOwnMetadata);\r\n        /**\r\n         * Gets the metadata keys defined on the target object or its prototype chain.\r\n         * @param target The target object on which the metadata is defined.\r\n         * @param propertyKey (Optional) The property key for the target.\r\n         * @returns An array of unique metadata keys.\r\n         * @example\r\n         *\r\n         *     class Example {\r\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n         *         // static staticProperty;\r\n         *         // property;\r\n         *\r\n         *         constructor(p) { }\r\n         *         static staticMethod(p) { }\r\n         *         method(p) { }\r\n         *     }\r\n         *\r\n         *     // constructor\r\n         *     result = Reflect.getMetadataKeys(Example);\r\n         *\r\n         *     // property (on constructor)\r\n         *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\r\n         *\r\n         *     // property (on prototype)\r\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\r\n         *\r\n         *     // method (on constructor)\r\n         *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\r\n         *\r\n         *     // method (on prototype)\r\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\r\n         *\r\n         */\r\n        function getMetadataKeys(target, propertyKey) {\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsUndefined(propertyKey))\r\n                propertyKey = ToPropertyKey(propertyKey);\r\n            return OrdinaryMetadataKeys(target, propertyKey);\r\n        }\r\n        exporter(\"getMetadataKeys\", getMetadataKeys);\r\n        /**\r\n         * Gets the unique metadata keys defined on the target object.\r\n         * @param target The target object on which the metadata is defined.\r\n         * @param propertyKey (Optional) The property key for the target.\r\n         * @returns An array of unique metadata keys.\r\n         * @example\r\n         *\r\n         *     class Example {\r\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n         *         // static staticProperty;\r\n         *         // property;\r\n         *\r\n         *         constructor(p) { }\r\n         *         static staticMethod(p) { }\r\n         *         method(p) { }\r\n         *     }\r\n         *\r\n         *     // constructor\r\n         *     result = Reflect.getOwnMetadataKeys(Example);\r\n         *\r\n         *     // property (on constructor)\r\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\r\n         *\r\n         *     // property (on prototype)\r\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\r\n         *\r\n         *     // method (on constructor)\r\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\r\n         *\r\n         *     // method (on prototype)\r\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\r\n         *\r\n         */\r\n        function getOwnMetadataKeys(target, propertyKey) {\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsUndefined(propertyKey))\r\n                propertyKey = ToPropertyKey(propertyKey);\r\n            return OrdinaryOwnMetadataKeys(target, propertyKey);\r\n        }\r\n        exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\r\n        /**\r\n         * Deletes the metadata entry from the target object with the provided key.\r\n         * @param metadataKey A key used to store and retrieve metadata.\r\n         * @param target The target object on which the metadata is defined.\r\n         * @param propertyKey (Optional) The property key for the target.\r\n         * @returns `true` if the metadata entry was found and deleted; otherwise, false.\r\n         * @example\r\n         *\r\n         *     class Example {\r\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n         *         // static staticProperty;\r\n         *         // property;\r\n         *\r\n         *         constructor(p) { }\r\n         *         static staticMethod(p) { }\r\n         *         method(p) { }\r\n         *     }\r\n         *\r\n         *     // constructor\r\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\r\n         *\r\n         *     // property (on constructor)\r\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n         *\r\n         *     // property (on prototype)\r\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n         *\r\n         *     // method (on constructor)\r\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n         *\r\n         *     // method (on prototype)\r\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n         *\r\n         */\r\n        function deleteMetadata(metadataKey, target, propertyKey) {\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsUndefined(propertyKey))\r\n                propertyKey = ToPropertyKey(propertyKey);\r\n            var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\r\n            if (IsUndefined(metadataMap))\r\n                return false;\r\n            if (!metadataMap.delete(metadataKey))\r\n                return false;\r\n            if (metadataMap.size > 0)\r\n                return true;\r\n            var targetMetadata = Metadata.get(target);\r\n            targetMetadata.delete(propertyKey);\r\n            if (targetMetadata.size > 0)\r\n                return true;\r\n            Metadata.delete(target);\r\n            return true;\r\n        }\r\n        exporter(\"deleteMetadata\", deleteMetadata);\r\n        function DecorateConstructor(decorators, target) {\r\n            for (var i = decorators.length - 1; i >= 0; --i) {\r\n                var decorator = decorators[i];\r\n                var decorated = decorator(target);\r\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\r\n                    if (!IsConstructor(decorated))\r\n                        throw new TypeError();\r\n                    target = decorated;\r\n                }\r\n            }\r\n            return target;\r\n        }\r\n        function DecorateProperty(decorators, target, propertyKey, descriptor) {\r\n            for (var i = decorators.length - 1; i >= 0; --i) {\r\n                var decorator = decorators[i];\r\n                var decorated = decorator(target, propertyKey, descriptor);\r\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\r\n                    if (!IsObject(decorated))\r\n                        throw new TypeError();\r\n                    descriptor = decorated;\r\n                }\r\n            }\r\n            return descriptor;\r\n        }\r\n        function GetOrCreateMetadataMap(O, P, Create) {\r\n            var targetMetadata = Metadata.get(O);\r\n            if (IsUndefined(targetMetadata)) {\r\n                if (!Create)\r\n                    return undefined;\r\n                targetMetadata = new _Map();\r\n                Metadata.set(O, targetMetadata);\r\n            }\r\n            var metadataMap = targetMetadata.get(P);\r\n            if (IsUndefined(metadataMap)) {\r\n                if (!Create)\r\n                    return undefined;\r\n                metadataMap = new _Map();\r\n                targetMetadata.set(P, metadataMap);\r\n            }\r\n            return metadataMap;\r\n        }\r\n        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\r\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\r\n        function OrdinaryHasMetadata(MetadataKey, O, P) {\r\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\r\n            if (hasOwn)\r\n                return true;\r\n            var parent = OrdinaryGetPrototypeOf(O);\r\n            if (!IsNull(parent))\r\n                return OrdinaryHasMetadata(MetadataKey, parent, P);\r\n            return false;\r\n        }\r\n        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\r\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\r\n        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\r\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\r\n            if (IsUndefined(metadataMap))\r\n                return false;\r\n            return ToBoolean(metadataMap.has(MetadataKey));\r\n        }\r\n        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\r\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\r\n        function OrdinaryGetMetadata(MetadataKey, O, P) {\r\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\r\n            if (hasOwn)\r\n                return OrdinaryGetOwnMetadata(MetadataKey, O, P);\r\n            var parent = OrdinaryGetPrototypeOf(O);\r\n            if (!IsNull(parent))\r\n                return OrdinaryGetMetadata(MetadataKey, parent, P);\r\n            return undefined;\r\n        }\r\n        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\r\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\r\n        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\r\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\r\n            if (IsUndefined(metadataMap))\r\n                return undefined;\r\n            return metadataMap.get(MetadataKey);\r\n        }\r\n        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\r\n        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\r\n        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\r\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\r\n            metadataMap.set(MetadataKey, MetadataValue);\r\n        }\r\n        // 3.1.6.1 OrdinaryMetadataKeys(O, P)\r\n        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\r\n        function OrdinaryMetadataKeys(O, P) {\r\n            var ownKeys = OrdinaryOwnMetadataKeys(O, P);\r\n            var parent = OrdinaryGetPrototypeOf(O);\r\n            if (parent === null)\r\n                return ownKeys;\r\n            var parentKeys = OrdinaryMetadataKeys(parent, P);\r\n            if (parentKeys.length <= 0)\r\n                return ownKeys;\r\n            if (ownKeys.length <= 0)\r\n                return parentKeys;\r\n            var set = new _Set();\r\n            var keys = [];\r\n            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\r\n                var key = ownKeys_1[_i];\r\n                var hasKey = set.has(key);\r\n                if (!hasKey) {\r\n                    set.add(key);\r\n                    keys.push(key);\r\n                }\r\n            }\r\n            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\r\n                var key = parentKeys_1[_a];\r\n                var hasKey = set.has(key);\r\n                if (!hasKey) {\r\n                    set.add(key);\r\n                    keys.push(key);\r\n                }\r\n            }\r\n            return keys;\r\n        }\r\n        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\r\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\r\n        function OrdinaryOwnMetadataKeys(O, P) {\r\n            var keys = [];\r\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\r\n            if (IsUndefined(metadataMap))\r\n                return keys;\r\n            var keysObj = metadataMap.keys();\r\n            var iterator = GetIterator(keysObj);\r\n            var k = 0;\r\n            while (true) {\r\n                var next = IteratorStep(iterator);\r\n                if (!next) {\r\n                    keys.length = k;\r\n                    return keys;\r\n                }\r\n                var nextValue = IteratorValue(next);\r\n                try {\r\n                    keys[k] = nextValue;\r\n                }\r\n                catch (e) {\r\n                    try {\r\n                        IteratorClose(iterator);\r\n                    }\r\n                    finally {\r\n                        throw e;\r\n                    }\r\n                }\r\n                k++;\r\n            }\r\n        }\r\n        // 6 ECMAScript Data Typ0es and Values\r\n        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\r\n        function Type(x) {\r\n            if (x === null)\r\n                return 1 /* Null */;\r\n            switch (typeof x) {\r\n                case \"undefined\": return 0 /* Undefined */;\r\n                case \"boolean\": return 2 /* Boolean */;\r\n                case \"string\": return 3 /* String */;\r\n                case \"symbol\": return 4 /* Symbol */;\r\n                case \"number\": return 5 /* Number */;\r\n                case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\r\n                default: return 6 /* Object */;\r\n            }\r\n        }\r\n        // 6.1.1 The Undefined Type\r\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\r\n        function IsUndefined(x) {\r\n            return x === undefined;\r\n        }\r\n        // 6.1.2 The Null Type\r\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\r\n        function IsNull(x) {\r\n            return x === null;\r\n        }\r\n        // 6.1.5 The Symbol Type\r\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\r\n        function IsSymbol(x) {\r\n            return typeof x === \"symbol\";\r\n        }\r\n        // 6.1.7 The Object Type\r\n        // https://tc39.github.io/ecma262/#sec-object-type\r\n        function IsObject(x) {\r\n            return typeof x === \"object\" ? x !== null : typeof x === \"function\";\r\n        }\r\n        // 7.1 Type Conversion\r\n        // https://tc39.github.io/ecma262/#sec-type-conversion\r\n        // 7.1.1 ToPrimitive(input [, PreferredType])\r\n        // https://tc39.github.io/ecma262/#sec-toprimitive\r\n        function ToPrimitive(input, PreferredType) {\r\n            switch (Type(input)) {\r\n                case 0 /* Undefined */: return input;\r\n                case 1 /* Null */: return input;\r\n                case 2 /* Boolean */: return input;\r\n                case 3 /* String */: return input;\r\n                case 4 /* Symbol */: return input;\r\n                case 5 /* Number */: return input;\r\n            }\r\n            var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\r\n            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\r\n            if (exoticToPrim !== undefined) {\r\n                var result = exoticToPrim.call(input, hint);\r\n                if (IsObject(result))\r\n                    throw new TypeError();\r\n                return result;\r\n            }\r\n            return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\r\n        }\r\n        // 7.1.1.1 OrdinaryToPrimitive(O, hint)\r\n        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\r\n        function OrdinaryToPrimitive(O, hint) {\r\n            if (hint === \"string\") {\r\n                var toString_1 = O.toString;\r\n                if (IsCallable(toString_1)) {\r\n                    var result = toString_1.call(O);\r\n                    if (!IsObject(result))\r\n                        return result;\r\n                }\r\n                var valueOf = O.valueOf;\r\n                if (IsCallable(valueOf)) {\r\n                    var result = valueOf.call(O);\r\n                    if (!IsObject(result))\r\n                        return result;\r\n                }\r\n            }\r\n            else {\r\n                var valueOf = O.valueOf;\r\n                if (IsCallable(valueOf)) {\r\n                    var result = valueOf.call(O);\r\n                    if (!IsObject(result))\r\n                        return result;\r\n                }\r\n                var toString_2 = O.toString;\r\n                if (IsCallable(toString_2)) {\r\n                    var result = toString_2.call(O);\r\n                    if (!IsObject(result))\r\n                        return result;\r\n                }\r\n            }\r\n            throw new TypeError();\r\n        }\r\n        // 7.1.2 ToBoolean(argument)\r\n        // https://tc39.github.io/ecma262/2016/#sec-toboolean\r\n        function ToBoolean(argument) {\r\n            return !!argument;\r\n        }\r\n        // 7.1.12 ToString(argument)\r\n        // https://tc39.github.io/ecma262/#sec-tostring\r\n        function ToString(argument) {\r\n            return \"\" + argument;\r\n        }\r\n        // 7.1.14 ToPropertyKey(argument)\r\n        // https://tc39.github.io/ecma262/#sec-topropertykey\r\n        function ToPropertyKey(argument) {\r\n            var key = ToPrimitive(argument, 3 /* String */);\r\n            if (IsSymbol(key))\r\n                return key;\r\n            return ToString(key);\r\n        }\r\n        // 7.2 Testing and Comparison Operations\r\n        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\r\n        // 7.2.2 IsArray(argument)\r\n        // https://tc39.github.io/ecma262/#sec-isarray\r\n        function IsArray(argument) {\r\n            return Array.isArray\r\n                ? Array.isArray(argument)\r\n                : argument instanceof Object\r\n                    ? argument instanceof Array\r\n                    : Object.prototype.toString.call(argument) === \"[object Array]\";\r\n        }\r\n        // 7.2.3 IsCallable(argument)\r\n        // https://tc39.github.io/ecma262/#sec-iscallable\r\n        function IsCallable(argument) {\r\n            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\r\n            return typeof argument === \"function\";\r\n        }\r\n        // 7.2.4 IsConstructor(argument)\r\n        // https://tc39.github.io/ecma262/#sec-isconstructor\r\n        function IsConstructor(argument) {\r\n            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\r\n            return typeof argument === \"function\";\r\n        }\r\n        // 7.2.7 IsPropertyKey(argument)\r\n        // https://tc39.github.io/ecma262/#sec-ispropertykey\r\n        function IsPropertyKey(argument) {\r\n            switch (Type(argument)) {\r\n                case 3 /* String */: return true;\r\n                case 4 /* Symbol */: return true;\r\n                default: return false;\r\n            }\r\n        }\r\n        // 7.3 Operations on Objects\r\n        // https://tc39.github.io/ecma262/#sec-operations-on-objects\r\n        // 7.3.9 GetMethod(V, P)\r\n        // https://tc39.github.io/ecma262/#sec-getmethod\r\n        function GetMethod(V, P) {\r\n            var func = V[P];\r\n            if (func === undefined || func === null)\r\n                return undefined;\r\n            if (!IsCallable(func))\r\n                throw new TypeError();\r\n            return func;\r\n        }\r\n        // 7.4 Operations on Iterator Objects\r\n        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\r\n        function GetIterator(obj) {\r\n            var method = GetMethod(obj, iteratorSymbol);\r\n            if (!IsCallable(method))\r\n                throw new TypeError(); // from Call\r\n            var iterator = method.call(obj);\r\n            if (!IsObject(iterator))\r\n                throw new TypeError();\r\n            return iterator;\r\n        }\r\n        // 7.4.4 IteratorValue(iterResult)\r\n        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\r\n        function IteratorValue(iterResult) {\r\n            return iterResult.value;\r\n        }\r\n        // 7.4.5 IteratorStep(iterator)\r\n        // https://tc39.github.io/ecma262/#sec-iteratorstep\r\n        function IteratorStep(iterator) {\r\n            var result = iterator.next();\r\n            return result.done ? false : result;\r\n        }\r\n        // 7.4.6 IteratorClose(iterator, completion)\r\n        // https://tc39.github.io/ecma262/#sec-iteratorclose\r\n        function IteratorClose(iterator) {\r\n            var f = iterator[\"return\"];\r\n            if (f)\r\n                f.call(iterator);\r\n        }\r\n        // 9.1 Ordinary Object Internal Methods and Internal Slots\r\n        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\r\n        // 9.1.1.1 OrdinaryGetPrototypeOf(O)\r\n        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\r\n        function OrdinaryGetPrototypeOf(O) {\r\n            var proto = Object.getPrototypeOf(O);\r\n            if (typeof O !== \"function\" || O === functionPrototype)\r\n                return proto;\r\n            // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\r\n            // Try to determine the superclass constructor. Compatible implementations\r\n            // must either set __proto__ on a subclass constructor to the superclass constructor,\r\n            // or ensure each class has a valid `constructor` property on its prototype that\r\n            // points back to the constructor.\r\n            // If this is not the same as Function.[[Prototype]], then this is definately inherited.\r\n            // This is the case when in ES6 or when using __proto__ in a compatible browser.\r\n            if (proto !== functionPrototype)\r\n                return proto;\r\n            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\r\n            var prototype = O.prototype;\r\n            var prototypeProto = prototype && Object.getPrototypeOf(prototype);\r\n            if (prototypeProto == null || prototypeProto === Object.prototype)\r\n                return proto;\r\n            // If the constructor was not a function, then we cannot determine the heritage.\r\n            var constructor = prototypeProto.constructor;\r\n            if (typeof constructor !== \"function\")\r\n                return proto;\r\n            // If we have some kind of self-reference, then we cannot determine the heritage.\r\n            if (constructor === O)\r\n                return proto;\r\n            // we have a pretty good guess at the heritage.\r\n            return constructor;\r\n        }\r\n        // naive Map shim\r\n        function CreateMapPolyfill() {\r\n            var cacheSentinel = {};\r\n            var arraySentinel = [];\r\n            var MapIterator = (function () {\r\n                function MapIterator(keys, values, selector) {\r\n                    this._index = 0;\r\n                    this._keys = keys;\r\n                    this._values = values;\r\n                    this._selector = selector;\r\n                }\r\n                MapIterator.prototype[\"@@iterator\"] = function () { return this; };\r\n                MapIterator.prototype[iteratorSymbol] = function () { return this; };\r\n                MapIterator.prototype.next = function () {\r\n                    var index = this._index;\r\n                    if (index >= 0 && index < this._keys.length) {\r\n                        var result = this._selector(this._keys[index], this._values[index]);\r\n                        if (index + 1 >= this._keys.length) {\r\n                            this._index = -1;\r\n                            this._keys = arraySentinel;\r\n                            this._values = arraySentinel;\r\n                        }\r\n                        else {\r\n                            this._index++;\r\n                        }\r\n                        return { value: result, done: false };\r\n                    }\r\n                    return { value: undefined, done: true };\r\n                };\r\n                MapIterator.prototype.throw = function (error) {\r\n                    if (this._index >= 0) {\r\n                        this._index = -1;\r\n                        this._keys = arraySentinel;\r\n                        this._values = arraySentinel;\r\n                    }\r\n                    throw error;\r\n                };\r\n                MapIterator.prototype.return = function (value) {\r\n                    if (this._index >= 0) {\r\n                        this._index = -1;\r\n                        this._keys = arraySentinel;\r\n                        this._values = arraySentinel;\r\n                    }\r\n                    return { value: value, done: true };\r\n                };\r\n                return MapIterator;\r\n            }());\r\n            return (function () {\r\n                function Map() {\r\n                    this._keys = [];\r\n                    this._values = [];\r\n                    this._cacheKey = cacheSentinel;\r\n                    this._cacheIndex = -2;\r\n                }\r\n                Object.defineProperty(Map.prototype, \"size\", {\r\n                    get: function () { return this._keys.length; },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\r\n                Map.prototype.get = function (key) {\r\n                    var index = this._find(key, /*insert*/ false);\r\n                    return index >= 0 ? this._values[index] : undefined;\r\n                };\r\n                Map.prototype.set = function (key, value) {\r\n                    var index = this._find(key, /*insert*/ true);\r\n                    this._values[index] = value;\r\n                    return this;\r\n                };\r\n                Map.prototype.delete = function (key) {\r\n                    var index = this._find(key, /*insert*/ false);\r\n                    if (index >= 0) {\r\n                        var size = this._keys.length;\r\n                        for (var i = index + 1; i < size; i++) {\r\n                            this._keys[i - 1] = this._keys[i];\r\n                            this._values[i - 1] = this._values[i];\r\n                        }\r\n                        this._keys.length--;\r\n                        this._values.length--;\r\n                        if (key === this._cacheKey) {\r\n                            this._cacheKey = cacheSentinel;\r\n                            this._cacheIndex = -2;\r\n                        }\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                };\r\n                Map.prototype.clear = function () {\r\n                    this._keys.length = 0;\r\n                    this._values.length = 0;\r\n                    this._cacheKey = cacheSentinel;\r\n                    this._cacheIndex = -2;\r\n                };\r\n                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\r\n                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\r\n                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\r\n                Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\r\n                Map.prototype[iteratorSymbol] = function () { return this.entries(); };\r\n                Map.prototype._find = function (key, insert) {\r\n                    if (this._cacheKey !== key) {\r\n                        this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\r\n                    }\r\n                    if (this._cacheIndex < 0 && insert) {\r\n                        this._cacheIndex = this._keys.length;\r\n                        this._keys.push(key);\r\n                        this._values.push(undefined);\r\n                    }\r\n                    return this._cacheIndex;\r\n                };\r\n                return Map;\r\n            }());\r\n            function getKey(key, _) {\r\n                return key;\r\n            }\r\n            function getValue(_, value) {\r\n                return value;\r\n            }\r\n            function getEntry(key, value) {\r\n                return [key, value];\r\n            }\r\n        }\r\n        // naive Set shim\r\n        function CreateSetPolyfill() {\r\n            return (function () {\r\n                function Set() {\r\n                    this._map = new _Map();\r\n                }\r\n                Object.defineProperty(Set.prototype, \"size\", {\r\n                    get: function () { return this._map.size; },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n                Set.prototype.has = function (value) { return this._map.has(value); };\r\n                Set.prototype.add = function (value) { return this._map.set(value, value), this; };\r\n                Set.prototype.delete = function (value) { return this._map.delete(value); };\r\n                Set.prototype.clear = function () { this._map.clear(); };\r\n                Set.prototype.keys = function () { return this._map.keys(); };\r\n                Set.prototype.values = function () { return this._map.values(); };\r\n                Set.prototype.entries = function () { return this._map.entries(); };\r\n                Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\r\n                Set.prototype[iteratorSymbol] = function () { return this.keys(); };\r\n                return Set;\r\n            }());\r\n        }\r\n        // naive WeakMap shim\r\n        function CreateWeakMapPolyfill() {\r\n            var UUID_SIZE = 16;\r\n            var keys = HashMap.create();\r\n            var rootKey = CreateUniqueKey();\r\n            return (function () {\r\n                function WeakMap() {\r\n                    this._key = CreateUniqueKey();\r\n                }\r\n                WeakMap.prototype.has = function (target) {\r\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\r\n                    return table !== undefined ? HashMap.has(table, this._key) : false;\r\n                };\r\n                WeakMap.prototype.get = function (target) {\r\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\r\n                    return table !== undefined ? HashMap.get(table, this._key) : undefined;\r\n                };\r\n                WeakMap.prototype.set = function (target, value) {\r\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);\r\n                    table[this._key] = value;\r\n                    return this;\r\n                };\r\n                WeakMap.prototype.delete = function (target) {\r\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\r\n                    return table !== undefined ? delete table[this._key] : false;\r\n                };\r\n                WeakMap.prototype.clear = function () {\r\n                    // NOTE: not a real clear, just makes the previous data unreachable\r\n                    this._key = CreateUniqueKey();\r\n                };\r\n                return WeakMap;\r\n            }());\r\n            function CreateUniqueKey() {\r\n                var key;\r\n                do\r\n                    key = \"@@WeakMap@@\" + CreateUUID();\r\n                while (HashMap.has(keys, key));\r\n                keys[key] = true;\r\n                return key;\r\n            }\r\n            function GetOrCreateWeakMapTable(target, create) {\r\n                if (!hasOwn.call(target, rootKey)) {\r\n                    if (!create)\r\n                        return undefined;\r\n                    Object.defineProperty(target, rootKey, { value: HashMap.create() });\r\n                }\r\n                return target[rootKey];\r\n            }\r\n            function FillRandomBytes(buffer, size) {\r\n                for (var i = 0; i < size; ++i)\r\n                    buffer[i] = Math.random() * 0xff | 0;\r\n                return buffer;\r\n            }\r\n            function GenRandomBytes(size) {\r\n                if (typeof Uint8Array === \"function\") {\r\n                    if (typeof crypto !== \"undefined\")\r\n                        return crypto.getRandomValues(new Uint8Array(size));\r\n                    if (typeof msCrypto !== \"undefined\")\r\n                        return msCrypto.getRandomValues(new Uint8Array(size));\r\n                    return FillRandomBytes(new Uint8Array(size), size);\r\n                }\r\n                return FillRandomBytes(new Array(size), size);\r\n            }\r\n            function CreateUUID() {\r\n                var data = GenRandomBytes(UUID_SIZE);\r\n                // mark as random - RFC 4122 § 4.4\r\n                data[6] = data[6] & 0x4f | 0x40;\r\n                data[8] = data[8] & 0xbf | 0x80;\r\n                var result = \"\";\r\n                for (var offset = 0; offset < UUID_SIZE; ++offset) {\r\n                    var byte = data[offset];\r\n                    if (offset === 4 || offset === 6 || offset === 8)\r\n                        result += \"-\";\r\n                    if (byte < 16)\r\n                        result += \"0\";\r\n                    result += byte.toString(16).toLowerCase();\r\n                }\r\n                return result;\r\n            }\r\n        }\r\n        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\r\n        function MakeDictionary(obj) {\r\n            obj.__ = undefined;\r\n            delete obj.__;\r\n            return obj;\r\n        }\r\n    });\r\n})(Reflect || (Reflect = {}));\r\n//# sourceMappingURL=Reflect.js.map","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() { return this })() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n","'use strict';\n\nexports.__esModule = true;\nvar ACTION = {\n  PING: 'ping',\n  PONG: 'pong',\n  ESTABLISHED: 'established',\n  REQUEST_CLAIM: 'request_claim'\n};\n\nObject.keys(ACTION).forEach(function (prop) {\n  ACTION[prop] = '@mocker/' + ACTION[prop];\n});\n\nexports.ACTION = ACTION;\n//# sourceMappingURL=action.js.map","'use strict';\n\nexports.__esModule = true;\n\nvar _action = require('./action');\n\nObject.keys(_action).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _action[key];\n    }\n  });\n});\n//# sourceMappingURL=index.js.map","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nvar encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.STATUS_CODES = codes\n\n// array of status codes\nstatus.codes = populateStatusesMap(status, codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Populate the statuses map for given codes.\n * @private\n */\n\nfunction populateStatusesMap (statuses, codes) {\n  var arr = []\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // Populate properties\n    statuses[status] = message\n    statuses[message] = status\n    statuses[message.toLowerCase()] = status\n\n    // Add to array\n    arr.push(status)\n  })\n\n  return arr\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    if (!status[code]) throw new Error('invalid status code: ' + code)\n    return code\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    if (!status[n]) throw new Error('invalid status code: ' + n)\n    return n\n  }\n\n  n = status[code.toLowerCase()]\n  if (!n) throw new Error('invalid status message: \"' + code + '\"')\n  return n\n}\n","'use strict';\n\nexports.__esModule = true;\nexports.createServer = createServer;\n\nvar _server = require('./server');\n\n/**\n * Constructs a new Server instance\n *\n * @param  {string} baseURL The base URL of all routes, default is '/'\n * @return {MockerServer}\n */\nfunction createServer() {\n  var baseURL = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/';\n\n  return new _server.MockerServer(baseURL);\n}\n//# sourceMappingURL=index.js.map","'use strict';\n\nexports.__esModule = true;\nexports.MockerRequest = exports.ExtandableRequest = undefined;\n\nvar _qs = require('qs');\n\nvar _qs2 = _interopRequireDefault(_qs);\n\nvar _utils = require('../utils/');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar requestLog = _utils.debug.scope('request');\n\n// convert native `Request` to extendable\n// export or you'll get an error of 'using private'\n/* istanbul ignore next: polyfill is legacy browsers only */\nvar ExtandableRequest = exports.ExtandableRequest = fetch.polyfill ? Request : (0, _utils.extensify)(Request);\n\nvar MockerRequest = exports.MockerRequest = function (_ExtandableRequest) {\n  _inherits(MockerRequest, _ExtandableRequest);\n\n  /**\n   * Constructs a mocker request object\n   *\n   * @param {FetchEvent} event Fetch event\n   * @param {RouteRule}  route Router rule object\n   */\n\n\n  /**\n   * Fetch event\n   *\n   * @private\n   * @readonly\n   * @type {FetchEvent}\n   */\n\n\n  /**\n   * Contains properties mapped the route parameters.\n   *\n   * @readonly\n   * @type {object}\n   */\n\n  /**\n   * Literally equivalent to `router.baseURL` property of current router.\n   *\n   * @readonly\n   * @type {string}\n   */\n  function MockerRequest(event, route) {\n    _classCallCheck(this, MockerRequest);\n\n    var request = event.request;\n    var regex = route.regex,\n        keys = route.keys,\n        baseURL = route.baseURL;\n\n    // avoid polluting original request\n\n    var _this = _possibleConstructorReturn(this, _ExtandableRequest.call(this, request.clone()));\n\n    _this.baseURL = undefined;\n    _this.path = undefined;\n    _this.params = null;\n    _this.query = null;\n    _this._event = null;\n    _this._route = null;\n\n\n    var base = new URL(baseURL);\n    var requestURL = new URL(request.url, location.href);\n    var path = base.pathname === '/' ? requestURL.pathname : requestURL.pathname.replace(base.pathname, '');\n\n    var matches = regex.exec(path);\n    var params = {};\n\n    // skip full matched string at [0]\n    var max = matches.length;\n    for (var i = 1; i < max; i++) {\n      var name = keys[i - 1].name;\n\n      params[name] = decodeParam(matches[i]);\n    }\n\n    _this._event = event;\n    _this._route = route;\n\n    _this.path = path;\n    _this.params = params;\n    _this.baseURL = baseURL;\n    _this.query = _qs2.default.parse(requestURL.search.slice(1)); // remove leading '?'\n\n    // overwrite relative URL from fetch polyfill\n    /* istanbul ignore if: legacy browsers only */\n    if (_this.url !== requestURL.href) {\n      Object.defineProperty(_this, 'url', {\n        value: requestURL.href,\n        writable: false,\n        enumerable: true,\n        configurable: true\n      });\n    }\n    return _this;\n  }\n\n  /**\n   * Route rule object\n   *\n   * @private\n   * @readonly\n   * @type {RouteRule}\n   */\n\n\n  /**\n   * Contains a property for each query string parameter from the request.\n   *\n   * @readonly\n   * @type {object}\n   */\n\n\n  /**\n   * Contains the path part of the current request.\n   *\n   * @readonly\n   * @type {string}\n   */\n\n\n  MockerRequest.prototype.clone = function clone() {\n    return new MockerRequest(this._event, this._route);\n  };\n\n  return MockerRequest;\n}(ExtandableRequest);\n\n/**\n * Decode request parameter\n *\n * @param  {string} value Parameter value\n * @return {string}\n */\n\n\nfunction decodeParam(value) {\n  if (typeof value !== 'string' || value.length === 0) {\n    return value;\n  }\n\n  try {\n    return decodeURIComponent(value);\n  } catch (err) {\n    requestLog.error('decode param: ' + value + ' failed', err);\n\n    return null;\n  }\n}\n//# sourceMappingURL=request.js.map","'use strict';\n\nexports.__esModule = true;\nexports.MockerResponse = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Concat new request info with given old request\n */\n/**\n * Concat new request info with given old request\n *\n * @param  {Request}          oldRequest Old Request object\n * @param  {RequestInfo}      input      New Request input\n * @param  {RequestInit}      [init={}]  New Request init\n * @return {Promise<Request>}\n */\nvar concatRequest = function () {\n  var _ref2 = _asyncToGenerator(_regenerator2.default.mark(function _callee2(oldRequest, input) {\n    var init = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var tempRequest;\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            tempRequest = new Request(input, oldRequest);\n\n            if (!(!init.body && oldRequest.method !== 'GET' && oldRequest.method !== 'HEAD')) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 4;\n            return bodyParser(oldRequest);\n\n          case 4:\n            init.body = _context2.sent;\n\n          case 5:\n            return _context2.abrupt('return', new Request(tempRequest, init));\n\n          case 6:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function concatRequest(_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/**\n * Parse request body\n * 1. If you're using github fetch polyfill, return the private member `_bodyInit`,\n * 2. Else parsing request body as blob.\n *\n * @param  {Request} request Request object to be parsed\n * @return {any}\n */\n\n\nvar _mimeComponent = require('mime-component');\n\nvar _mimeComponent2 = _interopRequireDefault(_mimeComponent);\n\nvar _statuses = require('statuses');\n\nvar _statuses2 = _interopRequireDefault(_statuses);\n\nvar _utils = require('../utils/');\n\nvar _request = require('./request');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar responseLog = _utils.debug.scope('response');\nvar IS_IE_EDGE = /Edge/.test(navigator.userAgent);\n\nvar MockerResponse = function () {\n\n  /**\n   * Constructs a mocker response object\n   *\n   * @param {FetchEvent} event Fetch event\n   */\n\n\n  /**\n   * Response status code\n   *\n   * @private\n   * @type {number}\n   */\n\n\n  /**\n   * Fetch event\n   *\n   * @private\n   * @readonly\n   * @type {FetchEvent}\n   */\n  function MockerResponse(event) {\n    _classCallCheck(this, MockerResponse);\n\n    this.headers = new Headers({\n      'X-Powered-By': 'ServiceMocker'\n    });\n    this._event = null;\n    this._body = undefined;\n    this._statusCode = 200;\n    this._deferred = new _utils.Defer();\n    var _deferred = this._deferred;\n\n\n    this._event = event;\n\n    // everything within service worker should be asynchronous\n    event.respondWith(_deferred.promise);\n  }\n\n  /**\n   * Sets the HTTP status for the response.\n   *\n   * @chainable\n   * @param  {number} code Status code\n   * @return {this}\n   */\n\n\n  /**\n   * Internal defer object to resolve response\n   *\n   * @private\n   * @readonly\n   * @type {Defer}\n   */\n\n\n  /**\n   * Response body to be sent\n   *\n   * @private\n   * @type {any}\n   */\n\n  /**\n   * Response headers\n   *\n   * @readonly\n   * @type {Headers}\n   */\n\n\n  MockerResponse.prototype.status = function status(code) {\n    this._statusCode = code;\n\n    return this;\n  };\n\n  /**\n   * Sets the Content-Type HTTP header to the MIME type.\n   * If the given MIME doesn't contain '/' character,\n   * use `mime.lookup(type)` to obtain MIME type.\n   *\n   * @chainable\n   * @param  {string} type MIME type\n   * @return {this}\n   */\n\n\n  MockerResponse.prototype.type = function type(_type) {\n    var contentType = _type.indexOf('/') === -1 ? _mimeComponent2.default.lookup(_type) : _type;\n\n    this.headers.set('content-type', contentType);\n\n    return this;\n  };\n\n  /**\n   * Send a JSON response.\n   *\n   * @param {any} [body] Any JSON compatible type, including object, array, string, Boolean, or number.\n   */\n\n\n  MockerResponse.prototype.json = function json(body) {\n    this._body = JSON.stringify(body);\n\n    if (!this.headers.has('content-type')) {\n      this.type('json');\n    }\n\n    this.end();\n  };\n\n  /**\n   * Sends the HTTP response.\n   *\n   * @param {any} [body] Response body, one of Blob, ArrayBuffer, Object, or any primitive types\n   */\n\n\n  MockerResponse.prototype.send = function send(body) {\n    // don't parse native Response objects\n    if (body instanceof Response) {\n      this._body = body;\n      this.end();\n      return;\n    }\n\n    var contentType = 'text';\n\n    switch (typeof body === 'undefined' ? 'undefined' : _typeof(body)) {\n      case 'string':\n        // follow the express style\n        this._body = body;\n        contentType = 'html';\n        break;\n\n      case 'boolean':\n      case 'number':\n      case 'object':\n        if (body instanceof Blob) {\n          this._body = body;\n          contentType = body.type || 'bin';\n        } else if (body instanceof ArrayBuffer) {\n          this._body = body;\n          contentType = 'bin';\n        } else {\n          this.json(body);\n          return;\n        }\n        break;\n    }\n\n    if (!this.headers.has('content-type')) {\n      this.type(contentType);\n    }\n\n    this.end();\n  };\n\n  /**\n   * Set the response HTTP status code to statusCode and\n   * send its status text representation as the response body.\n   *\n   * Equivalent to `res.status(code).send(statusText)`\n   *\n   * @param {number} code Status code\n   */\n\n\n  MockerResponse.prototype.sendStatus = function sendStatus(code) {\n    var body = _statuses2.default[code] || JSON.stringify(code);\n\n    this.type('text').status(code).send(body);\n  };\n\n  /**\n   * End the response processing and pass the response to `fetchEvent.respondWith()`.\n   * Simply call this method will end the response WITHOUT any data,\n   * if you want to respond with data, use `res.send()` and `res.json()`.\n   */\n\n\n  MockerResponse.prototype.end = function end() {\n    // respond with body if it's a native Response object\n    if (this._body instanceof Response) {\n      this._deferred.resolve(this._body);\n      return;\n    }\n\n    var request = this._event.request;\n\n\n    var responseBody = this._body;\n\n    // leave body empty for null body status\n    if (_statuses2.default.empty[this._statusCode]) {\n      /* istanbul ignore if */\n      if (IS_IE_EDGE) {\n        responseLog.warn('using null body status in IE Edge may raise a `TypeMismatchError` Error');\n      }\n\n      responseBody = undefined;\n    }\n\n    // skip body for HEAD requests\n    if (request.method === 'HEAD') {\n      responseBody = undefined;\n    }\n\n    // set default contentType to 'text/plain', see\n    // https://tools.ietf.org/html/rfc2045#section-5.2\n    if (!this.headers.has('content-type')) {\n      this.type('text');\n    }\n\n    var responseInit = {\n      headers: this.headers,\n      status: this._statusCode,\n      statusText: _statuses2.default[this._statusCode] || JSON.stringify(this._statusCode)\n    };\n\n    var response = new Response(responseBody, responseInit);\n\n    this._deferred.resolve(response);\n  };\n\n  /**\n   * Forward the request to another destination.\n   * The forwarded request will NOT be captured by service worker.\n   *\n   * @param {RequestInfo|MockerRequest} input Destination URL or a Request object or MockerRequest\n   * @param {RequestInit=}              init  Fetch request init\n   */\n\n\n  MockerResponse.prototype.forward = function () {\n    var _ref = _asyncToGenerator(_regenerator2.default.mark(function _callee(input, init) {\n      var request;\n      return _regenerator2.default.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              request = void 0;\n\n              if (!(input instanceof Request)) {\n                _context.next = 5;\n                break;\n              }\n\n              // forward native Request\n              request = new Request(input, init);\n              _context.next = 12;\n              break;\n\n            case 5:\n              if (!(input instanceof _request.MockerRequest)) {\n                _context.next = 9;\n                break;\n              }\n\n              // forward MockerRequest\n              request = new Request(input._native, init);\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.next = 11;\n              return concatRequest(this._event.request, input, init);\n\n            case 11:\n              request = _context.sent;\n\n            case 12:\n\n              // fetch will somehow consume the body\n              this._deferred.resolve(nativeFetch(request));\n\n            case 13:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function forward(_x, _x2) {\n      return _ref.apply(this, arguments);\n    }\n\n    return forward;\n  }();\n\n  return MockerResponse;\n}();\n\nexports.MockerResponse = MockerResponse;\nfunction bodyParser(request) {\n  // handle github fetch polyfill\n  /* istanbul ignore if */\n  if (fetch.polyfill) {\n    return request._bodyInit;\n  }\n\n  try {\n    // always parse as blob\n    return request.clone().blob();\n  } catch (e) {\n    /* istanbul ignore next */\n    responseLog.warn('parsing request body failed, you may need to parse it manually', e);\n  }\n}\n\n/* istanbul ignore next */\n/**\n * Fetch with native `fetch`\n * 1. If `fetch.mockerPatched` is found, it means you're running on\n *    legacy mode with fetch support, return with `fetch.native`.\n *\n * 2. Else if `XMLHttpRequest.mockerPatched` is found, you're possibly\n *    using a fetch polyfill, processing as the following:\n *    2.1. Reset `XMLHttpRequest` to native one `(patched)XMLHttpRequest.native`,\n *    2.2. Run fetch polyfill (with native XHR),\n *    2.3. Restore `XMLHttpRequest` to patched one,\n *    2.4. Return the fetch promise.\n *\n * 3. Or, you may be running in service worker context, return `fetch`.\n *\n * @param  {RequestInfo}       input\n * @param  {RequestInit}       [init]\n * @return {Promise<Response>}\n */\nfunction nativeFetch(input, init) {\n  var _self = self,\n      fetch = _self.fetch,\n      XHR = _self.XMLHttpRequest;\n\n  // native fetch\n\n  if (fetch.mockerPatched) {\n    return fetch.native(input, init);\n  }\n\n  // fetch polyfills\n  if (XHR && XHR.mockerPatched) {\n    // restore native...\n    self.XMLHttpRequest = XHR.native;\n    // do a native fetch\n    var promise = fetch(input, init);\n    // replace with our fetch\n    self.XMLHttpRequest = XHR;\n\n    return promise;\n  }\n\n  return fetch(input, init);\n}\n//# sourceMappingURL=response.js.map","'use strict';\n\nexports.__esModule = true;\nexports.SubRouter = exports.MockerRouter = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _pathToRegexp = require('path-to-regexp');\n\nvar _pathToRegexp2 = _interopRequireDefault(_pathToRegexp);\n\nvar _utils = require('../utils/');\n\nvar _request3 = require('./request');\n\nvar _response = require('./response');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar routerLog = _utils.debug.scope('router');\n\n// bacic HTTP request methods in fetch standard, see\n// https://fetch.spec.whatwg.org/#concept-method\nvar methods = ['get', 'post', 'put', 'head', 'delete', 'options', 'patch'];\n\nvar MockerRouter = exports.MockerRouter = function () {\n\n  /**\n   * Constructs a new router object\n   *\n   * @param {string} [baseURL='/'] The base url of this router\n   * @param {Array<MiddlewareFn>} [middleware=[]] Middleware that are attached to this router\n   */\n\n\n  /**\n   * A collection of all routings\n   *\n   * @private\n   * @type {Array<RouteRule>}\n   */\n\n\n  /**\n   * The origin which this router belongs to\n   *\n   * @private\n   * @type {string}\n   */\n\n  /**\n   * save all routers for lazy evaluations\n   *\n   * @static\n   * @type {Array<MockerRouter>}\n   */\n  function MockerRouter() {\n    var _middleware;\n\n    var baseURL = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/';\n    var middleware = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    _classCallCheck(this, MockerRouter);\n\n    this.baseURL = undefined;\n    this._origin = undefined;\n    this._basePath = undefined;\n    this._rules = [];\n    this._middleware = [];\n\n    MockerRouter.routers.push(this);\n\n    (_middleware = this._middleware).push.apply(_middleware, middleware);\n\n    // resolve url based on current origin for relative path\n    // `location.origin` is not supported in IE\n    var url = new URL(baseURL, location.href);\n\n    this._origin = url.origin;\n    this._basePath = url.pathname.replace(/\\/$/, ''); // remove trailing slash\n\n    this.baseURL = this._origin + this._basePath;\n  }\n\n  /**\n   * Create a new router with the given path as scope\n   *\n   * @param {string}        [path]\n   * @return {MockerRouter}\n   */\n\n\n  /**\n   * A collection of all middleware\n   *\n   * @private\n   * @type {Array<MiddlewareFn>}\n   */\n\n\n  /**\n   * The base path of this router\n   *\n   * @private\n   * @type {string}\n   */\n\n\n  /**\n   * A parsed base URL\n   *\n   * @readonly\n   * @type {string}\n   */\n\n\n  MockerRouter.prototype.scope = function scope(path) {\n    // in case of falsy values\n    if (!path) {\n      path = '/';\n    }\n\n    if (path[0] !== '/') {\n      throw new TypeError('the scope of router should start with \"/\", got ' + path);\n    }\n\n    return new MockerRouter(this.baseURL + path, this._middleware);\n  };\n\n  /* istanbul ignore next */\n\n\n  MockerRouter.prototype.base = function base(path) {\n    routerLog.warn('`router.base()` is deprecated, use `router.scope()` instead.');\n\n    return this.scope(path);\n  };\n\n  /**\n   * Create a scoped router with the given path as\n   * route path for every routing method.\n   *\n   * @param  {string|RegExp} path Routing's path\n   * @return {SubRouter}\n   */\n\n\n  MockerRouter.prototype.route = function route(path) {\n    return new SubRouter(this, path);\n  };\n\n  /**\n   * Attach middleware to current router\n   *\n   * @param  {MiddlewareFn} fn Middleware function\n   * @return {this}\n   */\n\n\n  MockerRouter.prototype.use = function use(fn) {\n    if (typeof fn !== 'function') {\n      throw new TypeError('Middleware is expected to be a function');\n    }\n\n    this._middleware.push(fn);\n\n    return this;\n  };\n\n  /**\n   * Register a new routing to current router\n   *\n   * @private\n   * @param  {string}       method   HTTP method\n   * @param  {RoutePath}    path     Routing path rule\n   * @param  {function|any} callback Routing callback handler\n   * @return {this}\n   */\n\n\n  MockerRouter.prototype._register = function _register(method, path, callback) {\n    method = method.toUpperCase();\n\n    var regex = (0, _pathToRegexp2.default)(path);\n\n    var cb = void 0;\n\n    if (typeof callback === 'function') {\n      cb = callback;\n    } else {\n      // shorthand method\n      cb = function cb(_request, response) {\n        response.send(callback);\n      };\n    }\n\n    this._rules.push({\n      method: method,\n      path: path,\n      regex: regex,\n      callback: cb,\n      keys: regex.keys,\n      baseURL: this.baseURL,\n      isAll: method === 'ALL'\n    });\n\n    return this;\n  };\n\n  /**\n   * Match the proper routing, return `true` if rule matched\n   *\n   * @private\n   * @param {FetchEvent} event Fetch event\n   * @return {boolean}\n   */\n\n\n  MockerRouter.prototype._match = function _match(event) {\n    var _this = this;\n\n    var request = event.request;\n\n    // `request.url` maybe relative in legacy mode\n\n    var url = new URL(request.url, location.href);\n\n    if (url.origin !== this._origin) {\n      return false;\n    }\n\n    // strip router's base path\n    var re = new RegExp('^' + this._basePath);\n    var path = url.pathname.replace(re, '');\n\n    var _loop = function _loop(rule) {\n      var method = rule.method,\n          regex = rule.regex,\n          callback = rule.callback;\n\n\n      if (regex.test(path) && (request.method === method || rule.isAll)) {\n        //! Response object must be constructed synchronously\n        var _request2 = new _request3.MockerRequest(event, rule);\n        var response = new _response.MockerResponse(event);\n\n        // apply (async) middleware\n        Promise.all(_this._middleware.map(function (fn) {\n          return fn.call(event, _request2, response);\n        })).then(function () {\n          callback.call(event, _request2, response);\n        });\n\n        return {\n          v: true\n        };\n      }\n    };\n\n    for (var _iterator = this._rules, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var rule = _ref;\n\n      var _ret = _loop(rule);\n\n      if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    }\n\n    return false;\n  };\n\n  return MockerRouter;\n}();\n\nMockerRouter.routers = [];\n\nvar SubRouter = exports.SubRouter = function () {\n\n  /**\n   * Constructs a sub router\n   * @param {MockerRouter}  router Parent router object\n   * @param {string|RegExp} path   Routing path\n   */\n\n  /**\n   * Router object\n   *\n   * @private\n   * @type {MockerRouter}\n   */\n  function SubRouter(router, path) {\n    _classCallCheck(this, SubRouter);\n\n    this._router = null;\n    this._path = undefined;\n\n    this._router = router;\n    this._path = path;\n  }\n\n  /**\n   * Register a new scoped routing\n   *\n   * @private\n   * @param {string}       method   HTTP method\n   * @param {function|any} callback Routing callback handler\n   * @return {this}\n   */\n\n\n  /**\n   * Routing path rule\n   *\n   * @private\n   * @type {string|RegExp}\n   */\n\n\n  SubRouter.prototype._register = function _register(method, callback) {\n    this._router._register(method, this._path, callback);\n\n    return this;\n  };\n\n  return SubRouter;\n}();\n\nvar allMethods = ['all'].concat(methods);\n\n// assign all methods to router\nallMethods.forEach(function (method) {\n  MockerRouter.prototype[method] = function (path, callback) {\n    return this._register(method, path, callback);\n  };\n});\n\nallMethods.forEach(function (method) {\n  SubRouter.prototype[method] = function (callback) {\n    return this._register(method, callback);\n  };\n});\n//# sourceMappingURL=router.js.map","'use strict';\n\nexports.__esModule = true;\nexports.MockerServer = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _router = require('./router');\n\nvar _constants = require('../constants/');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MockerServer = exports.MockerServer = function () {\n\n  /**\n   * Constructs a server object\n   *\n   * @param {string} [baseURL='/'] The base URL of all routes, default is '/'\n   */\n\n  /**\n   * Indicates which mode current server is running on\n   *\n   * @readonly\n   * @type {boolean}\n   */\n  function MockerServer() {\n    var baseURL = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/';\n\n    _classCallCheck(this, MockerServer);\n\n    this.isLegacy = self === self.window;\n    this.router = null;\n\n    this.router = new _router.MockerRouter(baseURL);\n  }\n\n  /**\n   * Attach middleware to current server\n   *\n   * @param  {MiddlewareFn} fn Middleware function\n   * @return {this}\n   */\n\n\n  /**\n   * Returns the Router instance of current server\n   *\n   * @readonly\n   * @type {MockerRouter}\n   */\n\n\n  MockerServer.prototype.use = function use(fn) {\n    this.router.use(fn);\n\n    return this;\n  };\n\n  return MockerServer;\n}();\n\n// Event listeners MUST be added on the initial evaluation of worker scripts.\n/* istanbul ignore next: unable to report coverage from sw context */\n\n\nself.addEventListener('message', function () {\n  var _ref = _asyncToGenerator(_regenerator2.default.mark(function _callee(event) {\n    var data, ports, port;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = event.data, ports = event.ports;\n\n            if (!(!data || !ports || !ports.length)) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt('return');\n\n          case 3:\n            port = ports[0];\n\n            // handle connections\n\n            _context.t0 = data.action;\n            _context.next = _context.t0 === _constants.ACTION.PING ? 7 : _context.t0 === _constants.ACTION.REQUEST_CLAIM ? 8 : 11;\n            break;\n\n          case 7:\n            return _context.abrupt('return', port.postMessage({\n              action: _constants.ACTION.PONG\n            }));\n\n          case 8:\n            _context.next = 10;\n            return self.clients.claim();\n\n          case 10:\n            return _context.abrupt('return', port.postMessage({\n              action: _constants.ACTION.ESTABLISHED\n            }));\n\n          case 11:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, undefined);\n  }));\n\n  return function (_x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\nself.addEventListener('fetch', function (event) {\n  _router.MockerRouter.routers.some(function (router) {\n    return router._match(event);\n  });\n});\n\n// IE will somehow fires `activate` event on form elements\n/* istanbul ignore if: unable to report coverage from sw context */\nif (self !== self.window) {\n  self.addEventListener('install', function (event) {\n    event.waitUntil(self.skipWaiting());\n  });\n\n  self.addEventListener('activate', function (event) {\n    event.waitUntil(self.clients.claim());\n  });\n}\n//# sourceMappingURL=server.js.map","'use strict';\n\nexports.__esModule = true;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar isIE = /Trident|Edge/.test(navigator.userAgent);\n\nvar defaultColor = 'dodgerblue';\n\nvar colorPresets = {\n  log: defaultColor,\n  info: defaultColor,\n  warn: 'goldenrod',\n  error: 'crimson'\n};\n\nvar PrefixedConsole = exports.PrefixedConsole = function () {\n  /**\n   * Logger namespace\n   *\n   * @private\n   * @type {string}\n   */\n  function PrefixedConsole() {\n    var namespace = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'mocker';\n    var color = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : colorPresets.log;\n\n    _classCallCheck(this, PrefixedConsole);\n\n    this._namespace = 'mocker';\n    this._color = colorPresets.log;\n\n    this._namespace = namespace;\n    this._color = color;\n  }\n\n  /**\n   * Set logger color, returns new PrefixedConsole\n   *\n   * @param  {string} c Color string\n   * @return {PrefixedConsole}\n   */\n\n\n  /**\n   * Logger color\n   *\n   * @private\n   * @type {string}\n   */\n\n\n  PrefixedConsole.prototype.color = function color(c) {\n    return new PrefixedConsole(this._namespace, c);\n  };\n\n  /**\n   * Set logger namespace, returns new PrefixedConsole\n   *\n   * @param  {string} ns Namespace\n   * @return {PrefixedConsole}\n   */\n\n\n  PrefixedConsole.prototype.scope = function scope(ns) {\n    return new PrefixedConsole(this._namespace + ':' + ns, this._color);\n  };\n\n  return PrefixedConsole;\n}();\n\nvar debug = exports.debug = new PrefixedConsole();\n\n/* istanbul ignore else */\n// inherit console methods\nif (typeof Object.setPrototypeOf === 'function') {\n  Object.setPrototypeOf(PrefixedConsole.prototype, console);\n} else {\n  var desc = {};\n\n  Object.getOwnPropertyNames(PrefixedConsole.prototype).forEach(function (prop) {\n    desc[prop] = Object.getOwnPropertyDescriptor(PrefixedConsole.prototype, prop);\n  });\n\n  PrefixedConsole.prototype = Object.create(console, desc);\n}\n\n['log', 'info', 'warn', 'error'].forEach(function (method) {\n  PrefixedConsole.prototype[method] = function logger() {\n    var _console2;\n\n    var _namespace = this._namespace,\n        _color = this._color;\n\n    /* istanbul ignore if */\n\n    for (var _len = arguments.length, messages = Array(_len), _key = 0; _key < _len; _key++) {\n      messages[_key] = arguments[_key];\n    }\n\n    if (isIE) {\n      var _console;\n\n      return (_console = console)[method].apply(_console, ['[' + _namespace + ']'].concat(messages));\n    }\n\n    var head = '%c[' + _namespace + ']%c';\n\n    if (/%c/.test(messages[0])) {\n      head = head + ' ' + messages.shift();\n    }\n\n    var color = _color === defaultColor ? colorPresets[method] : _color;\n\n    (_console2 = console)[method].apply(_console2, [head, 'color: ' + color, 'color: #000'].concat(messages));\n  };\n});\n//# sourceMappingURL=debug.js.map","\"use strict\";\n\nexports.__esModule = true;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Defer =\n/**\n * Indicates whether this defer is end\n *\n * @type {boolean}\n */\nexports.Defer = function Defer() {\n  var _this = this;\n\n  _classCallCheck(this, Defer);\n\n  this.done = false;\n  this.promise = null;\n\n  this.promise = new Promise(function (resolve, reject) {\n    _this.resolve = function (result) {\n      resolve(result);\n      _this.done = true;\n    };\n\n    _this.reject = function (reason) {\n      reject(reason);\n      _this.done = true;\n    };\n  });\n}\n\n/**\n * Defer's promise object\n *\n * @readonly\n * @type {Promise<any>}\n */\n;\n//# sourceMappingURL=defer.js.map","\"use strict\";\n\nexports.__esModule = true;\nexports.eventWaitUntil = eventWaitUntil;\n/**\n * Comparer function\n *\n * @callback comparer\n * @param {Event} event Event object\n * @return {boolean}\n */\n\n/**\n * Wait until an event matches given conditions\n *\n * @param  {any}      target   Event target\n * @param  {string}   event    Event name\n * @param  {comparer} comparer Comparer function\n * @return {Promise<Event>}\n */\nfunction eventWaitUntil(target, event, comparer) {\n  return new Promise(function (resolve) {\n    target.addEventListener(event, function handler(evt) {\n      if (comparer(evt)) {\n        target.removeEventListener(event, handler);\n        resolve(evt);\n      }\n    });\n  });\n}\n//# sourceMappingURL=event-wait-until.js.map","'use strict';\n\nexports.__esModule = true;\nexports.extensify = extensify;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Make the un-extendable classes great again\n *\n * Notes:\n * - Main concepts:\n *   1. The best way to make another native class is to extend native class\n *      with overriding some methods. However, extending the native sometimes\n *      raises an error: <Failed to construct ${Native}: Please use the 'new' operator,\n *      this DOM object constructor cannot be called as a function.>\n *   2. So we should extend `Native` in some ways that are not constructing\n *      new instance with `Native.call(this)`:\n *      2.1. Look back to JavaScript inheritance, no matter which method we choose to\n *           use, we are almost doing the same thing: let the execution context of\n *           `SuperClass.prototype.method` be the instance of `SubClass`.\n *      1.2. Thus if we bind `Native.prototype.method` with a native instance,\n *           we can be free to invoke all methods in prototype! Then attaching these\n *           methods to the `Extendable.prototype`, the instances of `Extendable` will act\n *           as if they're real native instances!\n *\n * - Implementation of `Extendable`:\n *   1. Create a normal class with `this._native` pointing to a native instance,\n *   2. Iterate through the descriptors of `Native.prototype`:\n *      2.1. If the property is a primitive value, do nothing,\n *      2.2. If the property is an accessor, bind `get` and `set` with `this._native`,\n *      2.3. If the property is a function, bind it with `this._native`,\n *      2.4. Copy the descriptor to `Extendable.prototype`\n *   3. Iterate through the descriptors of `Native`, copy them to `Extendable` as\n *      static methods.\n */\n\n/**\n * Make un-extendable native classes extendable\n *\n * @param {AnyClass} Native Native class\n * @return {ExtendableAnyClass}\n */\nfunction extensify(Native) {\n  var Extendable = function Extendable() {\n    _classCallCheck(this, Extendable);\n\n    this._native = initNative.apply(undefined, arguments);\n\n    checkLack(this._native);\n  }\n  /**\n   * Refer to native object\n   *\n   * @private\n   * @type {AnyClass}\n   */\n  ;\n\n  function initNative() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 0) {\n      return new Native();\n    }\n\n    return new (Function.prototype.bind.apply(Native, [null].concat(args)))();\n  }\n\n  var checked = false;\n  /* istanbul ignore next: safari only */\n  function checkLack(instance) {\n    if (checked) {\n      return;\n    }\n\n    // safari 9- only have methods on `XMLHttpRequest.prototype`\n    // so we need copy properties from an instance\n\n    var _loop = function _loop(prop) {\n      if (!Extendable.prototype.hasOwnProperty(prop)) {\n        Object.defineProperty(Extendable.prototype, prop, {\n          get: function get() {\n            return this._native[prop];\n          },\n          set: function set(value) {\n            this._native[prop] = value;\n            return value;\n          },\n\n          enumerable: true,\n          configurable: true\n        });\n      }\n    };\n\n    for (var prop in instance) {\n      _loop(prop);\n    }\n  }\n\n  // copy all static properties\n  // safari 9- will include a \"prototype\" property on XMLHttpRequest\n  try {\n    Object.keys(Native).forEach(function (prop) {\n      Object.defineProperty(Extendable, prop, Object.getOwnPropertyDescriptor(Native, prop));\n    });\n  } catch (e) {}\n\n  // delegate all unset properties to `_native`\n  (function mapPrototypeMethods() {\n    var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Native.prototype;\n    var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Extendable.prototype;\n\n    if (source.constructor === Object) {\n      // exit recursion\n      return;\n    }\n\n    Object.keys(source).forEach(function (prop) {\n      /* istanbul ignore if */\n      if (target.hasOwnProperty(prop)) {\n        return;\n      }\n\n      var descriptor = Object.getOwnPropertyDescriptor(source, prop);\n\n      if (descriptor.get || descriptor.set) {\n        descriptor.get = function getNative() {\n          return this._native[prop];\n        };\n\n        descriptor.set = function setNative(value) {\n          this._native[prop] = value;\n          return value;\n        };\n      } else if (typeof descriptor.value === 'function') {\n        // method\n        var nativeFn = descriptor.value;\n        descriptor.value = function wrapped() {\n          for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          return nativeFn.apply(this._native, args);\n        };\n      }\n\n      // enable overriding\n      descriptor.configurable = true;\n\n      Object.defineProperty(target, prop, descriptor);\n    });\n\n    // recursively look-up\n    mapPrototypeMethods(Object.getPrototypeOf(source), target);\n  })();\n\n  return Extendable;\n}\n//# sourceMappingURL=extensify.js.map","'use strict';\n\nexports.__esModule = true;\n\nvar _debug = require('./debug');\n\nObject.keys(_debug).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _debug[key];\n    }\n  });\n});\n\nvar _defer = require('./defer');\n\nObject.keys(_defer).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _defer[key];\n    }\n  });\n});\n\nvar _extensify = require('./extensify');\n\nObject.keys(_extensify).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _extensify[key];\n    }\n  });\n});\n\nvar _eventWaitUntil = require('./event-wait-until');\n\nObject.keys(_eventWaitUntil).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _eventWaitUntil[key];\n    }\n  });\n});\n\nvar _sendMessageRequest = require('./send-message-request');\n\nObject.keys(_sendMessageRequest).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _sendMessageRequest[key];\n    }\n  });\n});\n//# sourceMappingURL=index.js.map","'use strict';\n\nexports.__esModule = true;\nexports.sendMessageRequest = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Send message and get the response\n *\n * @param  {any}    target  Message target\n * @param  {any}    message Message body\n * @param  {number} timeout Messaging timeout\n * @return {Promise<any>} Resolves with response message\n */\nvar sendMessageRequest = exports.sendMessageRequest = function () {\n  var _ref = _asyncToGenerator(_regenerator2.default.mark(function _callee(target, message) {\n    var timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3 * 1e3;\n\n    var _ref2, port1, port2;\n\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _ref2 = new MessageChannel(), port1 = _ref2.port1, port2 = _ref2.port2;\n            return _context.abrupt('return', new Promise(function (resolve, reject) {\n              var timer = isFinite(timeout) && setTimeout(function () {\n                reject(new Error('messaging timeout: ' + JSON.stringify(message)));\n              }, timeout);\n\n              port1.onmessage = function (_ref3) {\n                var data = _ref3.data;\n\n                if (timer) {\n                  clearTimeout(timer);\n                }\n\n                // avoid high transient memory usage, see\n                // https://html.spec.whatwg.org/multipage/comms.html#ports-and-garbage-collection\n                port1.close();\n                port2.close();\n\n                /* istanbul ignore else */\n                if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n                  data.request = message;\n                }\n\n                if (data && data.error) {\n                  reject(data);\n                } else {\n                  resolve(data);\n                }\n              };\n\n              if (target === self.window) {\n                // posting message to self => legacy mode\n                // add `origin` param to `window.postMessage(message, targetOrigin, [transfer])`\n                target.postMessage(message, '*', [port2]);\n              } else {\n                target.postMessage(message, [port2]);\n              }\n            }));\n\n          case 2:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function sendMessageRequest(_x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n//# sourceMappingURL=send-message-request.js.map","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","import { Constructor } from '@tdm/core';\nimport { DAO } from '@tdm/data';\nimport {\n  ServiceMockGet,\n  ServiceMockPost,\n  ServiceMockPut,\n  ServiceMockPatch,\n  Body,\n  Param,\n  Delay\n} from '@tdm/service-mocker';\n\nexport abstract class BaseController<T> {\n\n  abstract modelClass: Constructor<T>;\n\n  @ServiceMockGet({\n    path: '/'\n  })\n  @Delay(1000)\n  getAll(): Promise<T[]> {\n    return new DAO().query(this.modelClass);\n  };\n\n  @ServiceMockGet({\n    path: '/:id'\n  })\n  @Delay(1000)\n  get(@Param('id') id: number): Promise<T> {\n    return new DAO().findById(this.modelClass, id);\n  };\n\n  @ServiceMockPost({\n    path: '/',\n    httpCode: 204\n  })\n  @Delay(1000)\n  create(@Body() body): Promise<T | void> {\n    return new DAO().create<T>(this.modelClass, body);\n  };\n\n  @ServiceMockPatch({\n    path: '/:id',\n    httpCode: 204\n  })\n  @Delay(1000)\n  update(@Body() body): Promise<void> {\n    return new DAO().update(this.modelClass, body).then(() => null );\n  };\n\n  @ServiceMockPut({\n    path: '/:id',\n    httpCode: 204\n  })\n  @Delay(1000)\n  replace(@Body() body): Promise<void> {\n    return new DAO().replace(this.modelClass, body).then(() => null );\n  };\n}\n","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Category } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/categories'\n})\nexport class CategoryController extends BaseController<Category> {\n  modelClass = Category;\n}\n","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Customer } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/customers'\n})\nexport class CustomerController extends BaseController<Customer> {\n  modelClass = Customer;\n}\n","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { EmployeeTerritory } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/employeeTerritories'\n})\nexport class EmployeeTerritoryController extends BaseController<EmployeeTerritory> {\n  modelClass = EmployeeTerritory;\n}\n","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Employee } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/employees'\n})\nexport class EmployeeController extends BaseController<Employee> {\n  modelClass = Employee;\n}\n","export * from './customer';\nexport * from './category';\nexport * from './employee';\nexport * from './employee-territory';\nexport * from './order';\nexport * from './order-detail';\nexport * from './product';\nexport * from './region';\nexport * from './shipper';\nexport * from './supplier';\nexport * from './territory';\n","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { OrderDetail } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/orderDetails'\n})\nexport class OrderDetailController extends BaseController<OrderDetail> {\n  modelClass = OrderDetail;\n}\n","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Order } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/orders'\n})\nexport class OrderController extends BaseController<Order> {\n  modelClass = Order;\n}\n","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Product } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/products'\n})\nexport class ProductController extends BaseController<Product> {\n  modelClass = Product;\n}\n","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Region } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/regions'\n})\nexport class RegionController extends BaseController<Region> {\n  modelClass = Region;\n}\n","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Shipper } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/shippers'\n})\nexport class ShipperController extends BaseController<Shipper> {\n  modelClass = Shipper;\n}\n","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Supplier } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/suppliers'\n})\nexport class SupplierController extends BaseController<Supplier> {\n  modelClass = Supplier;\n}\n","import { ServiceMockController } from '@tdm/service-mocker';\n\nimport { Territory } from '../models';\nimport { BaseController } from './base-controller';\n\n@ServiceMockController({\n  path: '/territories'\n})\nexport class TerritoryController extends BaseController<Territory> {\n  modelClass = Territory;\n}\n","// because we are on webpack child compilation we want to force full load, not partial modules.\nimport 'reflect-metadata';\nimport 'service-mocker/server';\nimport '@tdm/tixin';\nimport '@tdm/core';\nimport '@tdm/data';\nimport '@tdm/local-forage';\nimport '@tdm/service-mocker/shared';\n\nimport { targetStore } from '@tdm/core/tdm';\nimport { DAO } from '@tdm/data';\nimport { MockerResponse } from 'service-mocker/server';\nimport {\n  OnMessage,\n  ServerBase,\n  Server,\n  HttpError,\n  FallbackRoute,\n  Response\n} from '@tdm/service-mocker';\nimport { ClientRequest, ServerResponse } from '@tdm/service-mocker/shared';\n\nimport { registerOfflineWorker } from './offline';\nimport './contract';\nimport {\n  CategoryController,\n  CustomerController,\n  EmployeeController,\n  EmployeeTerritoryController,\n  OrderController,\n  OrderDetailController,\n  ProductController,\n  RegionController,\n  ShipperController,\n  SupplierController,\n  TerritoryController\n} from './controllers';\n// registerOfflineWorker(<any> self);\n\n@Server({\n  baseUrl: '/api',\n  controllers: [\n    CategoryController,\n    CustomerController,\n    EmployeeController,\n    EmployeeTerritoryController,\n    OrderController,\n    OrderDetailController,\n    ProductController,\n    RegionController,\n    ShipperController,\n    SupplierController,\n    TerritoryController\n  ]\n})\nclass MyServer extends ServerBase {\n  init(): void { }\n\n  @FallbackRoute()\n  handle404(@Response() res: MockerResponse): Promise<any> | any {\n    return res.status(404).json(HttpError.createKnown('404'));\n  }\n\n  @OnMessage()\n  private async restoreDb(data: ClientRequest<'restoreDb'>): Promise<ServerResponse<'restoreDb'>> {\n    for ( let tName of Object.keys(data) ) {\n      const target = targetStore.findTarget(tName);\n      if ( target ) {\n        const dao = DAO.localForage(target);\n        await dao.clear();\n        await dao.createBulk(data[tName]);\n      }\n    }\n\n    return;\n  }\n}\n\nconst server = new MyServer();\n","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'categories'\n})\nexport class Category implements modelContract.Category {\n  @Identity()\n  @Prop()\n  CategoryID: number;\n  @Prop()\n  CategoryName: string;\n  @Prop()\n  Description: string;\n  @Prop()\n  Picture: string;\n}\n","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'customers'\n})\nexport class Customer implements modelContract.Customer {\n  @Identity()\n  @Prop()\n  CustomerID: string;\n\n  @Prop()\n  CompanyName: string;\n\n  @Prop()\n  ContactName: string;\n\n  @Prop()\n  ContactTitle: string;\n\n  @Prop()\n  Address: string;\n\n  @Prop()\n  City: string;\n\n  @Prop()\n  Region: string;\n\n  @Prop()\n  PostalCode: string;\n\n  @Prop()\n  Country: string;\n\n  @Prop()\n  Phone: string;\n\n  @Prop()\n  Fax: string;\n}\n","import { AutoIdentity, Prop } from '@tdm/data';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'employeeTerritories'\n})\nexport class EmployeeTerritory implements modelContract.EmployeeTerritory {\n  @AutoIdentity()\n  @Prop()\n  EmployeeTerritory: number;\n\n  @Prop()\n  EmployeeID: number;\n\n  @Prop()\n  TerritoryID: number;\n}\n","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'employees'\n})\nexport class Employee implements modelContract.Employee {\n  @Identity()\n  @Prop()\n  EmployeeID: number;\n\n  @Prop()\n  LastName: string;\n\n  @Prop()\n  FirstName: string;\n\n  @Prop()\n  Title: string;\n\n  @Prop()\n  TitleOfCourtesy: string;\n\n  @Prop()\n  BirthDate: string;\n\n  @Prop()\n  HireDate: string;\n\n  @Prop()\n  Address: string;\n\n  @Prop()\n  City: string;\n\n  @Prop()\n  Region: string;\n\n  @Prop()\n  PostalCode: string;\n\n  @Prop()\n  Country: string;\n\n  @Prop()\n  HomePhone: string;\n\n  @Prop()\n  Extension: number;\n\n  @Prop()\n  Photo: any;\n\n  @Prop()\n  Notes: string;\n\n  @Prop()\n  ReportsTo: number;\n\n  @Prop()\n  PhotoPath: string;\n}\n","export * from './customer';\nexport * from './category';\nexport * from './employee';\nexport * from './employee-territory';\nexport * from './order';\nexport * from './order-detail';\nexport * from './product';\nexport * from './region';\nexport * from './shipper';\nexport * from './supplier';\nexport * from './territory';\n","import { AutoIdentity, Prop } from '@tdm/data';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'orderDetails'\n})\nexport class OrderDetail implements modelContract.OrderDetail {\n  @AutoIdentity()\n  @Prop()\n  OrderDetailID: string;\n\n  @Prop()\n  OrderID: number;\n\n  @Prop()\n  ProductID: string;\n\n  @Prop()\n  UnitPrice: string;\n\n  @Prop()\n  Quantity: string;\n\n  @Prop()\n  Discount: string;\n}\n","import { Identity, Prop } from '@tdm/core';\nimport { BelongsTo } from '@tdm/data';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\nimport { Customer } from './customer';\nimport { Employee } from './employee';\n\n@LocalForageResource({\n  resName: 'orders'\n})\nexport class Order implements modelContract.Order {\n  @Identity()\n  @Prop()\n  OrderID: number;\n\n  @Prop()\n  CustomerID: string;\n\n  @Prop()\n  @BelongsTo({ foreignKey: 'CustomerID' })\n  Customer: Customer;\n\n  @Prop()\n  EmployeeID: number;\n\n  @Prop()\n  @BelongsTo({ foreignKey: 'EmployeeID' })\n  Employee: Employee;\n\n  @Prop()\n  OrderDate: string;\n\n  @Prop()\n  RequiredDate: string;\n\n  @Prop()\n  ShippedDate: string;\n\n  @Prop()\n  ShipVia: number;\n\n  @Prop()\n  Freight: number;\n\n  @Prop()\n  ShipName: string;\n\n  @Prop()\n  ShipAddress: string;\n\n  @Prop()\n  ShipCity: string;\n\n  @Prop()\n  ShipRegion: string;\n\n  @Prop()\n  ShipPostalCode: string;\n\n  @Prop()\n  ShipCountry: string;\n}\n","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'products'\n})\nexport class Product implements modelContract.Product {\n  @Identity()\n  @Prop()\n  ProductID: number;\n\n  @Prop()\n  ProductName: string;\n\n  @Prop()\n  SupplierID: number;\n\n  @Prop()\n  CategoryID: number;\n\n  @Prop()\n  QuantityPerUnit: string;\n\n  @Prop()\n  UnitPrice: number;\n\n  @Prop()\n  UnitsInStock: number;\n\n  @Prop()\n  UnitsOnOrder: number;\n\n  @Prop()\n  ReorderLevel: number;\n\n  @Prop()\n  Discontinued: number;\n}\n","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'regions'\n})\nexport class Region implements modelContract.Region {\n  @Identity()\n  @Prop()\n  RegionID: number;\n\n  @Prop()\n  RegionDescription: string;\n}\n","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'shippers'\n})\nexport class Shipper implements modelContract.Shipper {\n  @Identity()\n  @Prop()\n  ShipperID: number;\n\n  @Prop()\n  CompanyName: string;\n\n  @Prop()\n  Phone: string;\n}\n","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'suppliers'\n})\nexport class Supplier implements modelContract.Supplier {\n  @Identity()\n  @Prop()\n  SupplierID: number;\n\n  @Prop()\n  CompanyName: string;\n\n  @Prop()\n  ContactName: string;\n\n  @Prop()\n  ContactTitle: string;\n\n  @Prop()\n  Address: string;\n\n  @Prop()\n  City: string;\n\n  @Prop()\n  Region: string;\n\n  @Prop()\n  PostalCode: string;\n\n  @Prop()\n  Country: string;\n\n  @Prop()\n  Phone: string;\n\n  @Prop()\n  Fax: string;\n\n  @Prop()\n  HomePage: string;\n}\n","import { Identity, Prop } from '@tdm/core';\nimport { LocalForageResource } from '@tdm/local-forage';\nimport * as modelContract from '../shared-models';\n\n@LocalForageResource({\n  resName: 'territories'\n})\nexport class Territory implements modelContract.Territory {\n  @Identity()\n  @Prop()\n  TerritoryID: number;\n\n  @Prop()\n  TerritoryDescription: string;\n\n  @Prop()\n  RegionID: number;\n}\n"],"sourceRoot":""}