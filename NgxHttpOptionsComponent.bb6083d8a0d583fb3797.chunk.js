webpackJsonp([9],{"9uh3":function(s,n){s.exports=[{file:"README.md",lang:"md",section:"default",code:'<h1><a id="options" class="anchor" href="#options"><span class="header-link"></span></a>Options</h1><p>When we talk about <em>Options</em> we talk about:</p>\n<ul>\n<li>Library specific request options</li>\n<li>XHR request options</li>\n</ul>\n<p>The common for both is that they both refer to a <strong>request</strong>,\ni.e. options are request specific.</p>\n<p>Starting with an example, we want to find a <code>Customer</code> by <strong>id</strong>:</p>\n<pre class="lang-ts"><code class="lang-ts"><span class="hljs-keyword">this</span>.ngDao.get(Customer).findById(<span class="hljs-string">\'ALFKI\'</span>);\n</code></pre>\n<p>Which will send a <code>GET</code> call to:</p>\n<pre><code>/api/customers/ALFKI\n</code></pre><p>Now, same thing but we want to add a query string parameter of some\nsort...</p>\n<p>To add query string parameters we need to provide <strong>ad-hoc</strong> options\nobject with the url parameters we want to include:</p>\n<pre class="lang-ts"><code class="lang-ts"><span class="hljs-keyword">this</span>.ngDao.get(Customer).findById(<span class="hljs-string">\'ALFKI\'</span>, { <span class="hljs-comment">/* SPECIFIC OPTIONS */</span>\n  urlParams: {\n    someQueryKey: <span class="hljs-string">\'someQueryValue\'</span>\n  }  \n});\n</code></pre>\n<p>Which will send a <code>GET</code> call to:</p>\n<pre><code>/api/customers/ALFKI?someQueryKey=someQueryValue\n</code></pre><p>Each of the methods in the DAO accepts an optional <strong>ad-hoc</strong> options\nobject.</p>\n<p>The library will merge <strong>ad-hoc</strong> options with <strong>static</strong> options and\nuse the resolved options object.</p>\n<p><strong>ad-hoc</strong> options have top-most priority, they will override any other\npredefined values.</p>\n<p><strong>ad-hoc</strong> options are best used for call specific parameters, things\nlike query strings, search API integration etc...</p>\n<h3><a id="static-options" class="anchor" href="#static-options"><span class="header-link"></span></a>Static options</h3><p>Beside <strong>ad-hoc</strong> options, there are <strong>static options</strong> set at 3 levels:</p>\n<ul>\n<li>Module Level\nWhat we set in <code>HttpDefaultConfig</code></li>\n<li>Resource Level\nWhat we set in the metadata in <code>@HttpResource(/* metadata */)</code></li>\n<li>Action Level</li>\n</ul>\n<p>Resolving an option, the library will see if it is set in the <strong>ad-hoc</strong>\noptions, if not it will check in the <strong>Action</strong>, then <strong>Resource</strong> and\nfinally take it from <strong>Module</strong>.</p>\n<p><strong>Ad-hoc</strong> options are set when we <strong>use</strong> the instance of a resource.\n<strong>Static</strong> options are set when we <strong>define</strong> a resource.</p>\n<div class="info">\n<strong>Action</strong> level options are used in Custom Actions which is not covered\nin this chapter.\n</div>\n\n<h2><a id="a-set-of-common-options" class="anchor" href="#a-set-of-common-options"><span class="header-link"></span></a>A Set of common options</h2><p>There are several options that are valid to all calls, these are things\nlike headers, urls parameters, etc...</p>\n<p>They can be set on ad-hoc or static options, at any level.</p>\n<p>The <code>BaseHttpConfig</code> interface holds the definitions for a call we can\ndefine at all of the levels: module, resource, action and ad-hoc.</p>\n<h2><a id="an-code-httpclient-code-perspective" class="anchor" href="#an-code-httpclient-code-perspective"><span class="header-link"></span></a>An <code>HttpClient</code> perspective</h2><p>You probably know <code>HttpClient</code> well, let&#39;s try to explain the various\noptions through <code>HttpClient</code>:</p>\n<p>The following is the signature of the <code>delete</code> method in <code>HttpClient</code>:</p>\n<pre class="lang-ts"><code class="lang-ts">    <span class="hljs-keyword">delete</span>&lt;T&gt;(url: <span class="hljs-built_in">string</span>, options?: {\n        headers?: HttpHeaders | {\n            [header: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">string</span>[];\n        };\n        observe?: <span class="hljs-string">\'body\'</span>;\n        params?: HttpParams | {\n            [param: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">string</span>[];\n        };\n        reportProgress?: <span class="hljs-built_in">boolean</span>;\n        responseType?: <span class="hljs-string">\'json\'</span>;\n        withCredentials?: <span class="hljs-built_in">boolean</span>;\n    }): Observable&lt;T&gt;;\n</code></pre>\n<p>This is just 1 overload out of 15+</p>\n<p>We can see that it accepts 2 parameters: <strong>url</strong> and <strong>options</strong>.</p>\n<p><strong>url</strong> is mandatory, it must be set by the user.\nIn our setup the <strong>url</strong> is a <strong>static option</strong>, it is set by all 3\nstatic level option objects.</p>\n<p><strong>options</strong> is optional, it is equivilent to the <strong>ad-hoc</strong> options.<br>When not set or partially set, <code>HttpClient</code> will set the mandatory\nvalues internally. In our setup, when not set or partially set the\nlibrary will take the missing values from static options. Usually the\n<strong>Action</strong> definition has most of the missing options.</p>\n<p>Another feature of <code>HttpClient</code> is <strong>interceptors</strong>, which we can use\nto modify a request before it leaves. Again, a module level or resource\nlevel options object can work here and when more dynamic control is\nneeded you can always use interceptors.</p>\n',title:"DAO"},{file:"customer.ts",lang:"ts",section:"default",code:'<span class="hljs-keyword">import</span> { Identity, Prop } <span class="hljs-keyword">from</span> <span class="hljs-string">\'@tdm/core\'</span>;\n<span class="hljs-keyword">import</span> { ActiveRecord, TypeOfActiveRecord, HttpResource, UrlParam } <span class="hljs-keyword">from</span> <span class="hljs-string">\'@tdm/ngx-http-client\'</span>;\n<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> modelContract <span class="hljs-keyword">from</span> <span class="hljs-string">\'../../server/shared-models\'</span>;\n\n<span class="hljs-meta">@HttpResource</span>({\n  endpoint: <span class="hljs-string">\'customers/:id?\'</span>\n})\n<span class="hljs-keyword">class</span> $Customer <span class="hljs-keyword">extends</span> ActiveRecord() <span class="hljs-keyword">implements</span> modelContract.Customer {\n  <span class="hljs-meta">@Identity</span>()\n  <span class="hljs-meta">@UrlParam</span>(<span class="hljs-string">\'id\'</span>)\n  <span class="hljs-meta">@Prop</span>()\n  CustomerID: <span class="hljs-built_in">string</span>;\n\n  <span class="hljs-meta">@Prop</span>()\n  CompanyName: <span class="hljs-built_in">string</span>;\n\n  <span class="hljs-meta">@Prop</span>()\n  ContactName: <span class="hljs-built_in">string</span>;\n\n  <span class="hljs-meta">@Prop</span>()\n  ContactTitle: <span class="hljs-built_in">string</span>;\n\n  <span class="hljs-meta">@Prop</span>()\n  Address: <span class="hljs-built_in">string</span>;\n\n  <span class="hljs-meta">@Prop</span>()\n  City: <span class="hljs-built_in">string</span>;\n\n  <span class="hljs-meta">@Prop</span>()\n  Region: <span class="hljs-built_in">string</span>;\n\n  <span class="hljs-meta">@Prop</span>()\n  PostalCode: <span class="hljs-built_in">string</span>;\n\n  <span class="hljs-meta">@Prop</span>()\n  Country: <span class="hljs-built_in">string</span>;\n\n  <span class="hljs-meta">@Prop</span>()\n  Phone: <span class="hljs-built_in">string</span>;\n\n  <span class="hljs-meta">@Prop</span>()\n  Fax: <span class="hljs-built_in">string</span>;\n}\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Customer: TypeOfActiveRecord&lt;$Customer, <span class="hljs-keyword">typeof</span> $Customer&gt; = &lt;<span class="hljs-built_in">any</span>&gt; $Customer;\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> Customer = ActiveRecord&lt;$Customer&gt;;\n',title:"Model"}]}});
//# sourceMappingURL=NgxHttpOptionsComponent.bb6083d8a0d583fb3797.chunk.js.map